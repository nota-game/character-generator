import{S as qe,i as Fe,s as Ge,k as y,q as E,a as S,l as T,m as w,r as $,h as _,c as O,n as z,p as F,b as g,G as v,N as ye,H as me,J as $e,M as Oe,_ as Le,U as nt,e as ue,K as We,L as He,W as ot,X as st,y as Me,z as Ne,A as Ie,g as X,d as se,B as De,Y as ct,a8 as it,O as mi,a7 as ht,v as Ce,f as je,V as di,u as I,w as si,a0 as ai,a1 as _i,a9 as pi,aa as bi,a2 as vi,a3 as gi,a4 as ki,I as mt,ab as Ei,o as $i,j as Vi}from"../chunks/index.a8d5bdb7.js";import{f as Pe,w as Ze,s as yi,i as Ti,z as dt,o as wi,g as ne,v as Mi,x as Qe,b as et,y as pt,p as bt,h as Je,m as tt,e as Xe,t as lt,D as Ni,C as Ii}from"../chunks/hitman.svelte_svelte_type_style_lang.c3cc91c5.js";import{T as Di,a as Ai,b as at,c as _t}from"../chunks/TabPanel.e4531abb.js";import{w as rt}from"../chunks/index.ffcb7820.js";import{A as Si,C as Oi,N as Li,l as vt}from"../chunks/nota.ef7715c6.js";import"../chunks/paged.esm.81c0f429.js";/* empty css                     */import"../chunks/theme.33f233a9.js";import{H as zi,L as Pi,a as Ri,b as Bi,C as Ci}from"../chunks/CharacterState.32b57e2f.js";import{T as ft}from"../chunks/tooltipControl.54e66a65.js";import{C as gt}from"../chunks/connection.60e20d3d.js";function kt(n,e,t){const l=n.slice();return l[25]=e[t],l}function Et(n,e,t){const l=n.slice();l[28]=e[t];const i=l[10]-l[28].index-1;l[29]=i;const r=l[29]%6+1;l[30]=r;const f=Math.floor(l[29]/6)+1;return l[25]=f,l}function $t(n,e,t){const l=n.slice();l[30]=e[t];const i=l[30]-1+(l[25]-1)*6+1;return l[33]=i,l}function Vt(n){let e,t,l,i,r,f,u,o,s,c,m,a,d,h,k,b,p;return{c(){e=y("label"),t=E(`Erschöpfung
			`),l=y("input"),i=S(),r=y("label"),f=E(`Verausgabung
			`),u=y("input"),o=S(),s=y("label"),c=E(`Strapazierung
			`),m=y("input"),a=S(),d=y("label"),h=E(`Blutung
			`),k=y("input"),this.h()},l(V){e=T(V,"LABEL",{});var M=w(e);t=$(M,`Erschöpfung
			`),l=T(M,"INPUT",{type:!0}),M.forEach(_),i=O(V),r=T(V,"LABEL",{});var j=w(r);f=$(j,`Verausgabung
			`),u=T(j,"INPUT",{type:!0}),j.forEach(_),o=O(V),s=T(V,"LABEL",{});var D=w(s);c=$(D,`Strapazierung
			`),m=T(D,"INPUT",{type:!0}),D.forEach(_),a=O(V),d=T(V,"LABEL",{});var W=w(d);h=$(W,`Blutung
			`),k=T(W,"INPUT",{type:!0}),W.forEach(_),this.h()},h(){z(l,"type","number"),z(u,"type","number"),z(m,"type","number"),z(k,"type","number")},m(V,M){g(V,e,M),v(e,t),v(e,l),Oe(l,n[6]),g(V,i,M),g(V,r,M),v(r,f),v(r,u),Oe(u,n[7]),g(V,o,M),g(V,s,M),v(s,c),v(s,m),Oe(m,n[8]),g(V,a,M),g(V,d,M),v(d,h),v(d,k),Oe(k,n[9]),b||(p=[ye(l,"input",n[18]),ye(u,"input",n[19]),ye(m,"input",n[20]),ye(k,"input",n[21])],b=!0)},p(V,M){M[0]&64&&Le(l.value)!==V[6]&&Oe(l,V[6]),M[0]&128&&Le(u.value)!==V[7]&&Oe(u,V[7]),M[0]&256&&Le(m.value)!==V[8]&&Oe(m,V[8]),M[0]&512&&Le(k.value)!==V[9]&&Oe(k,V[9])},d(V){V&&_(e),V&&_(i),V&&_(r),V&&_(o),V&&_(s),V&&_(a),V&&_(d),b=!1,nt(p)}}}function ji(n){let e,t,l,i=n[33]+"",r;return{c(){e=ot("svg"),t=ot("circle"),l=ot("text"),r=E(i),this.h()},l(f){e=st(f,"svg",{viewBox:!0,xmlns:!0});var u=w(e);t=st(u,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),w(t).forEach(_),l=st(u,"text",{"font-family":!0,"font-size":!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0});var o=w(l);r=$(o,i),o.forEach(_),u.forEach(_),this.h()},h(){z(t,"fill","transparent"),z(t,"cx","12"),z(t,"cy","12"),z(t,"r","12"),z(l,"font-family","'MyriadPro-Regular'"),z(l,"font-size","12"),z(l,"x","12"),z(l,"y","12"),z(l,"text-anchor","middle"),z(l,"alignment-baseline","middle"),z(e,"viewBox","0 0 24 24"),z(e,"xmlns","http://www.w3.org/2000/svg")},m(f,u){g(f,e,u),v(e,t),v(e,l),v(l,r)},p:me,d(f){f&&_(e)}}}function yt(n){let e,t=n[10]>=n[33]&&ji(n);return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=T(l,"DIV",{class:!0,style:!0});var i=w(e);t&&t.l(i),i.forEach(_),this.h()},h(){z(e,"class","cell svelte-10z3i88"),F(e,"grid-column",n[30]),F(e,"grid-row",n[25]),He(e,"mark",n[10]==n[33]-1),He(e,"critical",n[33]<=18),He(e,"danger",n[33]<=24)},m(l,i){g(l,e,i),t&&t.m(e,null)},p(l,i){l[10]>=l[33]&&t.p(l,i),i[0]&1024&&He(e,"mark",l[10]==l[33]-1),i[0]&1024&&He(e,"critical",l[33]<=18),i[0]&1024&&He(e,"danger",l[33]<=24)},d(l){l&&_(e),t&&t.d()}}}function Tt(n){let e,t;return{c(){e=y("div"),this.h()},l(l){e=T(l,"DIV",{class:!0,style:!0}),w(e).forEach(_),this.h()},h(){z(e,"class",t="token "+n[28].fatiqueType.toLocaleLowerCase()+" svelte-10z3i88"),F(e,"grid-column",n[30]),F(e,"grid-row",n[25])},m(l,i){g(l,e,i)},p(l,i){i[0]&16&&t!==(t="token "+l[28].fatiqueType.toLocaleLowerCase()+" svelte-10z3i88")&&z(e,"class",t),i[0]&16&&F(e,"grid-column",l[30]),i[0]&16&&F(e,"grid-row",l[25])},d(l){l&&_(e)}}}function wt(n){let e,t=n[30]>0&&n[25]>0&&Tt(n);return{c(){t&&t.c(),e=ue()},l(l){t&&t.l(l),e=ue()},m(l,i){t&&t.m(l,i),g(l,e,i)},p(l,i){l[30]>0&&l[25]>0?t?t.p(l,i):(t=Tt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&_(e)}}}function Mt(n){let e,t,l=Array.from({length:ut}).map(It),i=[];for(let u=0;u<l.length;u+=1)i[u]=yt($t(n,l,u));let r=Pe(n[4]),f=[];for(let u=0;u<r.length;u+=1)f[u]=wt(Et(n,r,u));return{c(){for(let u=0;u<i.length;u+=1)i[u].c();e=S();for(let u=0;u<f.length;u+=1)f[u].c();t=ue()},l(u){for(let o=0;o<i.length;o+=1)i[o].l(u);e=O(u);for(let o=0;o<f.length;o+=1)f[o].l(u);t=ue()},m(u,o){for(let s=0;s<i.length;s+=1)i[s].m(u,o);g(u,e,o);for(let s=0;s<f.length;s+=1)f[s].m(u,o);g(u,t,o)},p(u,o){if(o[0]&1024){l=Array.from({length:ut}).map(It);let s;for(s=0;s<l.length;s+=1){const c=$t(u,l,s);i[s]?i[s].p(c,o):(i[s]=yt(c),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}if(o[0]&1040){r=Pe(u[4]);let s;for(s=0;s<r.length;s+=1){const c=Et(u,r,s);f[s]?f[s].p(c,o):(f[s]=wt(c),f[s].c(),f[s].m(t.parentNode,t))}for(;s<f.length;s+=1)f[s].d(1);f.length=r.length}},d(u){$e(i,u),u&&_(e),$e(f,u),u&&_(t)}}}function Ui(n){let e,t,l,i,r,f,u,o,s=n[5]&&Vt(n),c=Array.from({length:n[10]/ut+1}).map(Nt),m=[];for(let a=0;a<c.length;a+=1)m[a]=Mt(kt(n,c,a));return{c(){e=y("div"),t=y("a"),l=E("Weitere Daten"),i=S(),s&&s.c(),r=S(),f=y("div");for(let a=0;a<m.length;a+=1)m[a].c();this.h()},l(a){e=T(a,"DIV",{});var d=w(e);t=T(d,"A",{href:!0});var h=w(t);l=$(h,"Weitere Daten"),h.forEach(_),i=O(d),s&&s.l(d),r=O(d),f=T(d,"DIV",{class:!0,style:!0});var k=w(f);for(let b=0;b<m.length;b+=1)m[b].l(k);k.forEach(_),d.forEach(_),this.h()},h(){z(t,"href","#"),z(f,"class","ausdauer svelte-10z3i88"),F(f,"--columnCount",ut)},m(a,d){g(a,e,d),v(e,t),v(t,l),v(e,i),s&&s.m(e,null),v(e,r),v(e,f);for(let h=0;h<m.length;h+=1)m[h].m(f,null);u||(o=ye(t,"click",n[17]),u=!0)},p(a,d){if(a[5]?s?s.p(a,d):(s=Vt(a),s.c(),s.m(e,r)):s&&(s.d(1),s=null),d[0]&1040){c=Array.from({length:a[10]/ut+1}).map(Nt);let h;for(h=0;h<c.length;h+=1){const k=kt(a,c,h);m[h]?m[h].p(k,d):(m[h]=Mt(k),m[h].c(),m[h].m(f,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=c.length}},i:me,o:me,d(a){a&&_(e),s&&s.d(),$e(m,a),u=!1,o()}}}const ut=6,Nt=(n,e)=>e+1,It=(n,e)=>e+1;function Wi(n,e,t){let l,i=me,r=()=>(i(),i=We(M,Q=>t(6,l=Q)),M),f,u=me,o=()=>(u(),u=We(j,Q=>t(7,f=Q)),j),s,c=me,m=()=>(c(),c=We(D,Q=>t(8,s=Q)),D),a,d=me,h=()=>(d(),d=We(V,Q=>t(9,a=Q)),V);n.$$.on_destroy.push(()=>i()),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>c()),n.$$.on_destroy.push(()=>d());let{char:k}=e,{data:b}=e,p=[],{Blutung:V=rt(0)}=e;h();let{Erschöpfung:M=rt(0)}=e;r();let{Verausgabung:j=rt(0)}=e;o();let{Strapazierung:D=rt(0)}=e;m();let W=!1,A=k.eigenschaften.ausdauer.effective.currentValue({defaultValue:1})??1,q,U=me,K=me,fe=me,ie=me;function ke(Q){return ee=>{const Ee=Ze(p).filter(([ce])=>(ce==null?void 0:ce.fatiqueType)==Q);for(let ce=Ee.length;ce>ee;ce--){const[,he]=Ee[Ee.length-ce]??[void 0,void 0];he!=null&&t(4,p[he]=void 0,p)}for(let ce=Ee.length;ce<ee;ce++)p.push({fatiqueType:Q,index:ce});ae()}}function ae(){const Q=Pe(p);Q.forEach((ee,Ee)=>ee.index=Ee),t(4,p=Q)}const P=Q=>{Q.preventDefault(),t(5,W=!W)};function J(){l=Le(this.value),M.set(l)}function oe(){f=Le(this.value),j.set(f)}function _e(){s=Le(this.value),D.set(s)}function x(){a=Le(this.value),V.set(a)}return n.$$set=Q=>{"char"in Q&&t(11,k=Q.char),"data"in Q&&t(12,b=Q.data),"Blutung"in Q&&h(t(0,V=Q.Blutung)),"Erschöpfung"in Q&&r(t(1,M=Q.Erschöpfung)),"Verausgabung"in Q&&o(t(2,j=Q.Verausgabung)),"Strapazierung"in Q&&m(t(3,D=Q.Strapazierung))},n.$$.update=()=>{n.$$.dirty[0]&8193&&t(13,[q,U]=[U(),V.subscribe(ke("Blutung"))],U),n.$$.dirty[0]&16386&&t(14,[q,K]=[K(),M.subscribe(ke("Erschöpfung"))],K),n.$$.dirty[0]&32772&&t(15,[q,fe]=[fe(),j.subscribe(ke("Verausgabung"))],fe),n.$$.dirty[0]&65544&&t(16,[q,ie]=[ie(),D.subscribe(ke("Strapazierung"))],ie)},[V,M,j,D,p,W,l,f,s,a,A,k,b,U,K,fe,ie,P,J,oe,_e,x]}class qi extends qe{constructor(e){super(),Fe(this,e,Wi,Ui,Ge,{char:11,data:12,Blutung:0,Erschöpfung:1,Verausgabung:2,Strapazierung:3},null,[-1,-1])}}class Fi extends qe{constructor(e){super(),Fe(this,e,null,null,Ge,{})}}function Dt(n,e,t){const l=n.slice();l[13]=e[t][0],l[14]=e[t][1];const i=l[0][l[14]];return l[15]=i,l}function Gi(n){let e,t=n[13]+"",l,i=n[1]==n[13]&&At();return{c(){i&&i.c(),e=S(),l=E(t)},l(r){i&&i.l(r),e=O(r),l=$(r,t)},m(r,f){i&&i.m(r,f),g(r,e,f),g(r,l,f)},p(r,f){r[1]==r[13]?i||(i=At(),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(r){i&&i.d(r),r&&_(e),r&&_(l)}}}function At(n){let e;return{c(){e=y("span"),this.h()},l(t){e=T(t,"SPAN",{class:!0}),w(e).forEach(_),this.h()},h(){z(e,"class","mark svelte-6xy8r5")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function St(n){let e,t;return{c(){e=y("div"),this.h()},l(l){e=T(l,"DIV",{class:!0}),w(e).forEach(_),this.h()},h(){z(e,"class",t="token "+n[15].maliType.toLocaleLowerCase()+" svelte-6xy8r5")},m(l,i){g(l,e,i)},p(l,i){i&1&&t!==(t="token "+l[15].maliType.toLocaleLowerCase()+" svelte-6xy8r5")&&z(e,"class",t)},d(l){l&&_(e)}}}function Ot(n){let e,t,l,i=n[13]&&Gi(n),r=n[15]!=null&&St(n);return{c(){e=y("div"),i&&i.c(),t=S(),r&&r.c(),l=S(),this.h()},l(f){e=T(f,"DIV",{class:!0});var u=w(e);i&&i.l(u),t=O(u),r&&r.l(u),l=O(u),u.forEach(_),this.h()},h(){z(e,"class","svelte-6xy8r5")},m(f,u){g(f,e,u),i&&i.m(e,null),v(e,t),r&&r.m(e,null),v(e,l)},p(f,u){f[13]&&i.p(f,u),f[15]!=null?r?r.p(f,u):(r=St(f),r.c(),r.m(e,l)):r&&(r.d(1),r=null)},d(f){f&&_(e),i&&i.d(),r&&r.d()}}}function Ki(n){let e,t,l,i;e=new Fi({});let r=Ze(n[2]),f=[];for(let u=0;u<r.length;u+=1)f[u]=Ot(Dt(n,r,u));return{c(){Me(e.$$.fragment),t=S(),l=y("div");for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){Ne(e.$$.fragment,u),t=O(u),l=T(u,"DIV",{class:!0});var o=w(l);for(let s=0;s<f.length;s+=1)f[s].l(o);o.forEach(_),this.h()},h(){z(l,"class","kampf svelte-6xy8r5")},m(u,o){Ie(e,u,o),g(u,t,o),g(u,l,o);for(let s=0;s<f.length;s+=1)f[s].m(l,null);i=!0},p(u,[o]){if(o&7){r=Ze(u[2]);let s;for(s=0;s<r.length;s+=1){const c=Dt(u,r,s);f[s]?f[s].p(c,o):(f[s]=Ot(c),f[s].c(),f[s].m(l,null))}for(;s<f.length;s+=1)f[s].d(1);f.length=r.length}},i(u){i||(X(e.$$.fragment,u),i=!0)},o(u){se(e.$$.fragment,u),i=!1},d(u){De(e,u),u&&_(t),u&&_(l),$e(f,u)}}}const Hi=20;function Qi(n,e,t){let l,i,r,f,{charData:u}=e;const o=[5,5,4,4,3,3,2,2,1],s=Array.from({length:Hi}).flatMap((b,p)=>{const V=o[p]??0;return[...Array.from({length:V-1}),p+1]});let c=[],m,a=me,d=me;function h(b){return p=>{const V=Ze(c).filter(([M])=>(M==null?void 0:M.maliType)==b);for(let M=V.length;M>p;M--){const[,j]=V[V.length-M]??[void 0,void 0];j!=null&&t(0,c[j]=void 0,c)}for(let M=V.length;M<p;M++)c.push({maliType:b,index:M});k()}}function k(){const b=Pe(c);b.forEach((p,V)=>p.index=V),t(0,c=b)}return n.$$set=b=>{"charData"in b&&t(3,u=b.charData)},n.$$.update=()=>{n.$$.dirty&8&&t(7,l=u.meleMali.Position),n.$$.dirty&8&&t(6,i=u.meleMali.Schmerzen),n.$$.dirty&8&&t(8,r=u.char),n.$$.dirty&256&&t(1,f=r?Math.floor((r.talente.Kampfgespür.effective.currentValue({defaultValue:0})??0)/2+3):0),n.$$.dirty&144&&t(4,[m,a]=[a(),l.subscribe(h("Position"))],a),n.$$.dirty&96&&t(5,[m,d]=[d(),i.subscribe(h("Schmerzen"))],d)},[c,f,s,u,a,d,i,l,r]}class Ji extends qe{constructor(e){super(),Fe(this,e,Qi,Ki,Ge,{charData:3})}}function Zi(n){let e,t,l,i,r,f,u,o,s,c,m,a,d,h,k,b,p,V;return{c(){e=y("div"),t=y("strog"),l=E("Kampf Allgemein"),i=S(),r=y("input"),f=S(),u=y("input"),o=S(),s=y("button"),c=E("Positions Mali"),m=S(),a=y("button"),d=E("Ausdauer Verlust"),h=S(),k=y("button"),b=E("Nächste Runde"),this.h()},l(M){e=T(M,"DIV",{class:!0});var j=w(e);t=T(j,"STROG",{style:!0});var D=w(t);l=$(D,"Kampf Allgemein"),D.forEach(_),i=O(j),r=T(j,"INPUT",{type:!0,style:!0,class:!0}),f=O(j),u=T(j,"INPUT",{type:!0,style:!0,class:!0}),o=O(j),s=T(j,"BUTTON",{class:!0,style:!0});var W=w(s);c=$(W,"Positions Mali"),W.forEach(_),m=O(j),a=T(j,"BUTTON",{class:!0,style:!0});var A=w(a);d=$(A,"Ausdauer Verlust"),A.forEach(_),h=O(j),k=T(j,"BUTTON",{class:!0,style:!0});var q=w(k);b=$(q,"Nächste Runde"),q.forEach(_),j.forEach(_),this.h()},h(){F(t,"grid-column","1/ span 3 "),F(t,"grid-row","1"),F(t,"text-align","center"),z(r,"type","number"),F(r,"max-width","5em"),F(r,"grid-column","1"),F(r,"grid-row","2"),z(r,"class","svelte-x337a6"),z(u,"type","number"),F(u,"max-width","5em"),F(u,"grid-column","1"),F(u,"grid-row","3"),z(u,"class","svelte-x337a6"),z(s,"class","outline"),F(s,"grid-column","2"),F(s,"grid-row","2"),F(s,"white-space","nowrap"),z(a,"class","outline"),F(a,"grid-column","2"),F(a,"grid-row","3"),F(a,"white-space","nowrap"),z(k,"class","outline"),F(k,"grid-column","3"),F(k,"grid-row","2/ span 2"),F(k,"align-self","stretch"),z(e,"class","root svelte-x337a6")},m(M,j){g(M,e,j),v(e,t),v(t,l),v(e,i),v(e,r),Oe(r,n[1]),v(e,f),v(e,u),Oe(u,n[2]),v(e,o),v(e,s),v(s,c),v(e,m),v(e,a),v(a,d),v(e,h),v(e,k),v(k,b),p||(V=[ye(r,"input",n[3]),ye(u,"input",n[4]),ye(s,"click",n[5]),ye(a,"click",n[6]),ye(k,"click",n[7])],p=!0)},p(M,[j]){j&2&&Le(r.value)!==M[1]&&Oe(r,M[1]),j&4&&Le(u.value)!==M[2]&&Oe(u,M[2])},i:me,o:me,d(M){M&&_(e),p=!1,nt(V)}}}function Yi(n,e,t){let{charData:l}=e,i=1,r=1;function f(){i=Le(this.value),t(1,i)}function u(){r=Le(this.value),t(2,r)}const o=()=>l.addMeleMali("Position",i),s=()=>l.addFatique("Erschöpfung",r),c=()=>l.newRound();return n.$$set=m=>{"charData"in m&&t(0,l=m.charData)},[l,i,r,f,u,o,s,c]}class Xi extends qe{constructor(e){super(),Fe(this,e,Yi,Zi,Ge,{charData:0})}}function xi(n){let e,t,l,i,r,f,u,o,s,c,m,a,d,h,k,b,p,V,M,j,D,W,A,q,U,K,fe,ie,ke,ae,P,J,oe,_e;return{c(){e=y("div"),t=y("strog"),l=E("Schaden"),i=S(),r=y("label"),f=E("Wucht"),u=S(),o=y("input"),s=S(),c=y("label"),m=E("Schnitt"),a=S(),d=y("input"),h=S(),k=y("select"),b=y("option"),p=E("Kopf"),V=y("option"),M=E("Brust"),j=y("option"),D=E("Bauch"),W=y("option"),A=E("Waffen Arm"),q=y("option"),U=E("Waffen Bein"),K=y("option"),fe=E("Schild Arm"),ie=y("option"),ke=E("Schild Bein"),ae=S(),P=y("button"),J=E("Schaden"),this.h()},l(x){e=T(x,"DIV",{class:!0});var Q=w(e);t=T(Q,"STROG",{style:!0});var ee=w(t);l=$(ee,"Schaden"),ee.forEach(_),i=O(Q),r=T(Q,"LABEL",{for:!0,style:!0});var Ee=w(r);f=$(Ee,"Wucht"),Ee.forEach(_),u=O(Q),o=T(Q,"INPUT",{id:!0,type:!0,style:!0,class:!0}),s=O(Q),c=T(Q,"LABEL",{for:!0,style:!0});var ce=w(c);m=$(ce,"Schnitt"),ce.forEach(_),a=O(Q),d=T(Q,"INPUT",{id:!0,type:!0,style:!0,class:!0}),h=O(Q),k=T(Q,"SELECT",{style:!0});var he=w(k);b=T(he,"OPTION",{});var R=w(b);p=$(R,"Kopf"),R.forEach(_),V=T(he,"OPTION",{});var re=w(V);M=$(re,"Brust"),re.forEach(_),j=T(he,"OPTION",{});var te=w(j);D=$(te,"Bauch"),te.forEach(_),W=T(he,"OPTION",{});var le=w(W);A=$(le,"Waffen Arm"),le.forEach(_),q=T(he,"OPTION",{});var Z=w(q);U=$(Z,"Waffen Bein"),Z.forEach(_),K=T(he,"OPTION",{});var ge=w(K);fe=$(ge,"Schild Arm"),ge.forEach(_),ie=T(he,"OPTION",{});var ve=w(ie);ke=$(ve,"Schild Bein"),ve.forEach(_),he.forEach(_),ae=O(Q),P=T(Q,"BUTTON",{class:!0,style:!0});var be=w(P);J=$(be,"Schaden"),be.forEach(_),Q.forEach(_),this.h()},h(){F(t,"grid-column","1 / span 3"),F(t,"grid-row","1"),F(t,"text-align","center"),z(r,"for","blunt-damage"),F(r,"grid-column","1"),F(r,"grid-row","2"),F(r,"align-self","center"),z(o,"id","blunt-damage"),z(o,"type","number"),F(o,"grid-column","2"),F(o,"grid-row","2"),z(o,"class","svelte-1uw6xlu"),z(c,"for","cut-damage"),F(c,"grid-column","1"),F(c,"grid-row","3"),F(c,"align-self","center"),z(d,"id","cut-damage"),z(d,"type","number"),F(d,"grid-column","2"),F(d,"grid-row","3"),z(d,"class","svelte-1uw6xlu"),b.__value="Kopf",b.value=b.__value,V.__value="Brust",V.value=V.__value,j.__value="Bauch",j.value=j.__value,W.__value="RechterArm",W.value=W.__value,q.__value="RechtesBein",q.value=q.__value,K.__value="LinkesArm",K.value=K.__value,ie.__value="LinkerBein",ie.value=ie.__value,F(k,"grid-column","3"),F(k,"grid-row","2"),n[0]===void 0&&ct(()=>n[7].call(k)),z(P,"class","outline"),F(P,"grid-column","3"),F(P,"grid-row","3"),z(e,"class","root svelte-1uw6xlu")},m(x,Q){g(x,e,Q),v(e,t),v(t,l),v(e,i),v(e,r),v(r,f),v(e,u),v(e,o),Oe(o,n[1]),v(e,s),v(e,c),v(c,m),v(e,a),v(e,d),Oe(d,n[2]),v(e,h),v(e,k),v(k,b),v(b,p),v(k,V),v(V,M),v(k,j),v(j,D),v(k,W),v(W,A),v(k,q),v(q,U),v(k,K),v(K,fe),v(k,ie),v(ie,ke),it(k,n[0]),v(e,ae),v(e,P),v(P,J),oe||(_e=[ye(o,"input",n[5]),ye(d,"input",n[6]),ye(k,"change",n[7]),ye(P,"click",n[8])],oe=!0)},p(x,[Q]){Q&2&&Le(o.value)!==x[1]&&Oe(o,x[1]),Q&4&&Le(d.value)!==x[2]&&Oe(d,x[2]),Q&1&&it(k,x[0])},i:me,o:me,d(x){x&&_(e),oe=!1,nt(_e)}}}function er(n,e,t){let{charData:l}=e,i="Brust",r=1,f=1;function u(){const a=mi(l.char.zoneArmor)[i],d=Math.max(0,r-Math.floor((r-a.Dämpfung)/(a.Flexibilität+1))-a.Dämpfung);console.log(`${r} -
				Math.floor((${r} - ${a.Dämpfung}) / (${a.Flexibilität} + 1)) -
				${a.Dämpfung}`);const h=Math.max(0,f-Math.max(0,a.Härte-Math.floor(r/2)));console.log({blunt:d,cut:h}),l.addDamage(i,{blunt:d,cut:h})}function o(){r=Le(this.value),t(1,r)}function s(){f=Le(this.value),t(2,f)}function c(){i=ht(this),t(0,i)}const m=()=>u();return n.$$set=a=>{"charData"in a&&t(4,l=a.charData)},[i,r,f,u,l,o,s,c,m]}class tr extends qe{constructor(e){super(),Fe(this,e,er,xi,Ge,{charData:4})}}function lr(n){let e,t,l,i,r,f,u,o,s,c,m,a,d,h,k,b,p,V,M,j,D,W,A,q;return{c(){e=y("div"),t=y("strog"),l=E("Rasten"),i=S(),r=y("strog"),f=E("Erholen"),u=S(),o=y("input"),s=S(),c=y("input"),m=S(),a=y("button"),d=E("Stunden"),h=S(),k=y("button"),b=E("Tage"),p=S(),V=y("button"),M=E("Voll"),j=S(),D=y("button"),W=E("Halb"),this.h()},l(U){e=T(U,"DIV",{class:!0});var K=w(e);t=T(K,"STROG",{style:!0});var fe=w(t);l=$(fe,"Rasten"),fe.forEach(_),i=O(K),r=T(K,"STROG",{style:!0});var ie=w(r);f=$(ie,"Erholen"),ie.forEach(_),u=O(K),o=T(K,"INPUT",{type:!0,style:!0,class:!0}),s=O(K),c=T(K,"INPUT",{type:!0,style:!0,class:!0}),m=O(K),a=T(K,"BUTTON",{class:!0,style:!0});var ke=w(a);d=$(ke,"Stunden"),ke.forEach(_),h=O(K),k=T(K,"BUTTON",{class:!0,style:!0});var ae=w(k);b=$(ae,"Tage"),ae.forEach(_),p=O(K),V=T(K,"BUTTON",{class:!0,style:!0});var P=w(V);M=$(P,"Voll"),P.forEach(_),j=O(K),D=T(K,"BUTTON",{class:!0,style:!0});var J=w(D);W=$(J,"Halb"),J.forEach(_),K.forEach(_),this.h()},h(){F(t,"grid-column","1/ span 3 "),F(t,"grid-row","1"),F(t,"text-align","center"),F(r,"grid-column","3 "),F(r,"grid-row","1"),F(r,"text-align","center"),z(o,"type","number"),F(o,"grid-column","1"),F(o,"grid-row","2"),z(o,"class","svelte-x337a6"),z(c,"type","number"),F(c,"grid-column","1"),F(c,"grid-row","3"),z(c,"class","svelte-x337a6"),z(a,"class","outline"),F(a,"grid-column","2"),F(a,"grid-row","2"),z(k,"class","outline"),F(k,"grid-column","2"),F(k,"grid-row","3"),z(V,"class","outline"),F(V,"grid-column","3"),F(V,"grid-row","2"),F(V,"align-self","stretch"),z(D,"class","outline"),F(D,"grid-column","3"),F(D,"grid-row","3"),F(D,"align-self","stretch"),z(e,"class","root svelte-x337a6")},m(U,K){g(U,e,K),v(e,t),v(t,l),v(e,i),v(e,r),v(r,f),v(e,u),v(e,o),Oe(o,n[1]),v(e,s),v(e,c),Oe(c,n[2]),v(e,m),v(e,a),v(a,d),v(e,h),v(e,k),v(k,b),v(e,p),v(e,V),v(V,M),v(e,j),v(e,D),v(D,W),A||(q=[ye(o,"input",n[3]),ye(c,"input",n[4]),ye(a,"click",n[5]),ye(k,"click",n[6]),ye(V,"click",n[7]),ye(D,"click",n[8])],A=!0)},p(U,[K]){K&2&&Le(o.value)!==U[1]&&Oe(o,U[1]),K&4&&Le(c.value)!==U[2]&&Oe(c,U[2])},i:me,o:me,d(U){U&&_(e),A=!1,nt(q)}}}function nr(n,e,t){let{charData:l}=e,i=.5,r=1;function f(){i=Le(this.value),t(1,i)}function u(){r=Le(this.value),t(2,r)}const o=()=>l.rest(i),s=()=>l.restForBleeding(r),c=()=>l.recover("full"),m=()=>l.recover("half");return n.$$set=a=>{"charData"in a&&t(0,l=a.charData)},[l,i,r,f,u,o,s,c,m]}class ir extends qe{constructor(e){super(),Fe(this,e,nr,lr,Ge,{charData:0})}}function Lt(n,e,t){const l=n.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function zt(n,e,t){const l=n.slice();return l[32]=e[t],l[33]=e,l[28]=t,l}function Pt(n,e,t){const l=n.slice();return l[26]=e[t],l[34]=e,l[28]=t,l}function Rt(n,e,t){const l=n.slice();return l[35]=e[t],l}function Bt(n,e,t){const l=n.slice();return l[26]=e[t],l[27]=e,l[28]=t,l}function rr(n){let e,t=ne(n[1].Name)+"",l,i,r=ne(n[1].Name)+"",f,u,o,s,c,m,a=n[13](n[1].Mod)+"",d,h,k,b,p,V=n[2]>1&&Ct(n),M=n[2]>1&&jt(n),j=Array.from({length:n[2]}).map(Qt),D=[];for(let A=0;A<j.length;A+=1)D[A]=Kt(Lt(n,j,A));const W=A=>se(D[A],1,1,()=>{D[A]=null});return{c(){e=y("span"),V&&V.c(),l=E(t),i=y("span"),M&&M.c(),f=E(r),u=S(),o=y("button"),s=E("Entfernen"),c=S(),m=y("small"),d=E(a),h=S();for(let A=0;A<D.length;A+=1)D[A].c();this.h()},l(A){e=T(A,"SPAN",{class:!0});var q=w(e);V&&V.l(q),l=$(q,t),q.forEach(_),i=T(A,"SPAN",{class:!0});var U=w(i);M&&M.l(U),f=$(U,r),u=O(U),o=T(U,"BUTTON",{class:!0});var K=w(o);s=$(K,"Entfernen"),K.forEach(_),c=O(U),m=T(U,"SMALL",{class:!0,style:!0});var fe=w(m);d=$(fe,a),fe.forEach(_),h=O(U);for(let ie=0;ie<D.length;ie+=1)D[ie].l(U);U.forEach(_),this.h()},h(){z(e,"class","expand svelte-h16f3k"),z(o,"class","outline"),z(m,"class","hide-empty svelte-h16f3k"),F(m,"margin-bottom","1em"),F(m,"display","block"),z(i,"class","div-hack svelte-h16f3k"),He(i,"hide",!n[9])},m(A,q){g(A,e,q),V&&V.m(e,null),v(e,l),g(A,i,q),M&&M.m(i,null),v(i,f),v(i,u),v(i,o),v(o,s),v(i,c),v(i,m),v(m,d),v(i,h);for(let U=0;U<D.length;U+=1)D[U].m(i,null);k=!0,b||(p=[ye(e,"mouseenter",n[17]),ye(o,"click",n[18]),ye(i,"mouseleave",n[22])],b=!0)},p(A,q){if(A[2]>1?V?V.p(A,q):(V=Ct(A),V.c(),V.m(e,l)):V&&(V.d(1),V=null),(!k||q[0]&2)&&t!==(t=ne(A[1].Name)+"")&&I(l,t),A[2]>1?M?M.p(A,q):(M=jt(A),M.c(),M.m(i,f)):M&&(M.d(1),M=null),(!k||q[0]&2)&&r!==(r=ne(A[1].Name)+"")&&I(f,r),(!k||q[0]&2)&&a!==(a=A[13](A[1].Mod)+"")&&I(d,a),q[0]&2559){j=Array.from({length:A[2]}).map(Qt);let U;for(U=0;U<j.length;U+=1){const K=Lt(A,j,U);D[U]?(D[U].p(K,q),X(D[U],1)):(D[U]=Kt(K),D[U].c(),X(D[U],1),D[U].m(i,null))}for(Ce(),U=j.length;U<D.length;U+=1)W(U);je()}(!k||q[0]&512)&&He(i,"hide",!A[9])},i(A){if(!k){for(let q=0;q<j.length;q+=1)X(D[q]);k=!0}},o(A){D=D.filter(Boolean);for(let q=0;q<D.length;q+=1)se(D[q]);k=!1},d(A){A&&_(e),V&&V.d(),A&&_(i),M&&M.d(),$e(D,A),b=!1,nt(p)}}}function fr(n){let e,t,l=n[13](n[1].Mod)+"",i,r,f=n[8],u=[];for(let o=0;o<f.length;o+=1)u[o]=Ht(Bt(n,f,o));return{c(){e=y("div"),t=y("small"),i=E(l),r=S();for(let o=0;o<u.length;o+=1)u[o].c();this.h()},l(o){e=T(o,"DIV",{style:!0});var s=w(e);t=T(s,"SMALL",{class:!0,style:!0});var c=w(t);i=$(c,l),c.forEach(_),r=O(s);for(let m=0;m<u.length;m+=1)u[m].l(s);s.forEach(_),this.h()},h(){z(t,"class","hide-empty svelte-h16f3k"),F(t,"margin-bottom","1em"),F(t,"display","block"),F(e,"display","grid"),F(e,"grid-template-columns","max-content 1fr")},m(o,s){g(o,e,s),v(e,t),v(t,i),v(e,r);for(let c=0;c<u.length;c+=1)u[c].m(e,null)},p(o,s){if(s[0]&2&&l!==(l=o[13](o[1].Mod)+"")&&I(i,l),s[0]&288){f=o[8];let c;for(c=0;c<f.length;c+=1){const m=Bt(o,f,c);u[c]?u[c].p(m,s):(u[c]=Ht(m),u[c].c(),u[c].m(e,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=f.length}},i:me,o:me,d(o){o&&_(e),$e(u,o)}}}function Ct(n){let e,t;return{c(){e=E(n[2]),t=E("×")},l(l){e=$(l,n[2]),t=$(l,"×")},m(l,i){g(l,e,i),g(l,t,i)},p(l,i){i[0]&4&&I(e,l[2])},d(l){l&&_(e),l&&_(t)}}}function jt(n){let e,t;return{c(){e=E(n[2]),t=E("×")},l(l){e=$(l,n[2]),t=$(l,"×")},m(l,i){g(l,e,i),g(l,t,i)},p(l,i){i[0]&4&&I(e,l[2])},d(l){l&&_(e),l&&_(t)}}}function Ut(n){let e,t=n[11],l=[];for(let i=0;i<t.length;i+=1)l[i]=Wt(Rt(n,t,i));return{c(){e=y("select");for(let i=0;i<l.length;i+=1)l[i].c()},l(i){e=T(i,"SELECT",{});var r=w(e);for(let f=0;f<l.length;f+=1)l[f].l(r);r.forEach(_)},m(i,r){g(i,e,r);for(let f=0;f<l.length;f+=1)l[f].m(e,null)},p(i,r){if(r[0]&2048){t=i[11];let f;for(f=0;f<t.length;f+=1){const u=Rt(i,t,f);l[f]?l[f].p(u,r):(l[f]=Wt(u),l[f].c(),l[f].m(e,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(i){i&&_(e),$e(l,i)}}}function Wt(n){let e,t=n[35].name+"",l,i;return{c(){e=y("option"),l=E(t),this.h()},l(r){e=T(r,"OPTION",{});var f=w(e);l=$(f,t),f.forEach(_),this.h()},h(){e.__value=i=n[35].id,e.value=e.__value},m(r,f){g(r,e,f),v(e,l)},p(r,f){f[0]&2048&&t!==(t=r[35].name+"")&&I(l,t),f[0]&2048&&i!==(i=r[35].id)&&(e.__value=i,e.value=e.__value)},d(r){r&&_(e)}}}function qt(n){let e,t=n[26]+"",l,i,r,f,u;function o(){n[19].call(r,n[29],n[28])}return{c(){e=y("div"),l=E(t),i=S(),r=y("input"),this.h()},l(s){e=T(s,"DIV",{style:!0});var c=w(e);l=$(c,t),c.forEach(_),i=O(s),r=T(s,"INPUT",{style:!0,type:!0,class:!0}),this.h()},h(){F(e,"margin-right","1em"),F(e,"grid-column","1"),F(e,"justify-self","center"),F(e,"align-self","center"),F(r,"grid-column","2"),F(r,"max-width","5em"),z(r,"type","number"),z(r,"class","svelte-h16f3k")},m(s,c){g(s,e,c),v(e,l),g(s,i,c),g(s,r,c),Oe(r,n[5][n[29]][n[28]]),f||(u=ye(r,"input",o),f=!0)},p(s,c){n=s,c[0]&256&&t!==(t=n[26]+"")&&I(l,t),c[0]&36&&Le(r.value)!==n[5][n[29]][n[28]]&&Oe(r,n[5][n[29]][n[28]])},d(s){s&&_(e),s&&_(i),s&&_(r),f=!1,u()}}}function Ft(n){let e,t,l,i,r;function f(o){n[21](o,n[29],n[28])}let u={weapon:n[3],charData:n[0],tactic:n[32],amount:1};return n[7][n[29]][n[28]]!==void 0&&(u.modifierFunction=n[7][n[29]][n[28]]),t=new ci({props:u}),si.push(()=>ai(t,"modifierFunction",f)),{c(){e=y("div"),Me(t.$$.fragment),i=S()},l(o){e=T(o,"DIV",{});var s=w(e);Ne(t.$$.fragment,s),i=O(s),s.forEach(_)},m(o,s){g(o,e,s),Ie(t,e,null),v(e,i),r=!0},p(o,s){n=o;const c={};s[0]&8&&(c.weapon=n[3]),s[0]&1&&(c.charData=n[0]),s[0]&16&&(c.tactic=n[32]),!l&&s[0]&132&&(l=!0,c.modifierFunction=n[7][n[29]][n[28]],_i(()=>l=!1)),t.$set(c)},i(o){r||(X(t.$$.fragment,o),r=!0)},o(o){se(t.$$.fragment,o),r=!1},d(o){o&&_(e),De(t)}}}function Gt(n){let e,t=ne(n[32].Name)+"",l,i,r,f,u,o,s,c;function m(){n[20].call(r,n[29],n[28])}let a=n[6][n[29]][n[28]]&&Ft(n);return{c(){e=y("div"),l=E(t),i=S(),r=y("input"),f=S(),a&&a.c(),u=ue(),this.h()},l(d){e=T(d,"DIV",{style:!0});var h=w(e);l=$(h,t),h.forEach(_),i=O(d),r=T(d,"INPUT",{style:!0,type:!0,role:!0}),f=O(d),a&&a.l(d),u=ue(),this.h()},h(){F(e,"grid-column","1"),F(r,"grid-column","2"),F(r,"max-width","5em"),z(r,"type","checkbox"),z(r,"role","switch")},m(d,h){g(d,e,h),v(e,l),g(d,i,h),g(d,r,h),r.checked=n[6][n[29]][n[28]],g(d,f,h),a&&a.m(d,h),g(d,u,h),o=!0,s||(c=ye(r,"change",m),s=!0)},p(d,h){n=d,(!o||h[0]&16)&&t!==(t=ne(n[32].Name)+"")&&I(l,t),h[0]&68&&(r.checked=n[6][n[29]][n[28]]),n[6][n[29]][n[28]]?a?(a.p(n,h),h[0]&68&&X(a,1)):(a=Ft(n),a.c(),X(a,1),a.m(u.parentNode,u)):a&&(Ce(),se(a,1,1,()=>{a=null}),je())},i(d){o||(X(a),o=!0)},o(d){se(a),o=!1},d(d){d&&_(e),d&&_(i),d&&_(r),d&&_(f),a&&a.d(d),d&&_(u),s=!1,c()}}}function Kt(n){let e,t,l,i,r,f,u,o=n[1].Typ=="Offensiv"&&(n[11]??[]).length>1&&Ut(n),s=n[8],c=[];for(let h=0;h<s.length;h+=1)c[h]=qt(Pt(n,s,h));let m=n[4],a=[];for(let h=0;h<m.length;h+=1)a[h]=Gt(zt(n,m,h));const d=h=>se(a[h],1,1,()=>{a[h]=null});return{c(){o&&o.c(),e=S(),t=y("div");for(let h=0;h<c.length;h+=1)c[h].c();l=S(),i=y("div");for(let h=0;h<a.length;h+=1)a[h].c();r=S(),f=y("hr"),this.h()},l(h){o&&o.l(h),e=O(h),t=T(h,"DIV",{style:!0,class:!0});var k=w(t);for(let p=0;p<c.length;p+=1)c[p].l(k);k.forEach(_),l=O(h),i=T(h,"DIV",{style:!0,class:!0});var b=w(i);for(let p=0;p<a.length;p+=1)a[p].l(b);b.forEach(_),r=O(h),f=T(h,"HR",{}),this.h()},h(){F(t,"display","grid"),F(t,"grid-template-columns","max-content 1fr"),F(t,"margin-bottom","1em"),z(t,"class","hide-empty svelte-h16f3k"),F(i,"grid-template-columns","max-content 1fr"),F(i,"display","grid"),z(i,"class","hide-empty svelte-h16f3k")},m(h,k){o&&o.m(h,k),g(h,e,k),g(h,t,k);for(let b=0;b<c.length;b+=1)c[b].m(t,null);g(h,l,k),g(h,i,k);for(let b=0;b<a.length;b+=1)a[b].m(i,null);g(h,r,k),g(h,f,k),u=!0},p(h,k){if(h[1].Typ=="Offensiv"&&(h[11]??[]).length>1?o?o.p(h,k):(o=Ut(h),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),k[0]&292){s=h[8];let b;for(b=0;b<s.length;b+=1){const p=Pt(h,s,b);c[b]?c[b].p(p,k):(c[b]=qt(p),c[b].c(),c[b].m(t,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=s.length}if(k[0]&221){m=h[4];let b;for(b=0;b<m.length;b+=1){const p=zt(h,m,b);a[b]?(a[b].p(p,k),X(a[b],1)):(a[b]=Gt(p),a[b].c(),X(a[b],1),a[b].m(i,null))}for(Ce(),b=m.length;b<a.length;b+=1)d(b);je()}},i(h){if(!u){for(let k=0;k<m.length;k+=1)X(a[k]);u=!0}},o(h){a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)se(a[k]);u=!1},d(h){o&&o.d(h),h&&_(e),h&&_(t),$e(c,h),h&&_(l),h&&_(i),$e(a,h),h&&_(r),h&&_(f)}}}function Ht(n){let e,t=n[26]+"",l,i,r,f,u;function o(){n[16].call(r,n[28])}return{c(){e=y("div"),l=E(t),i=S(),r=y("input"),this.h()},l(s){e=T(s,"DIV",{style:!0});var c=w(e);l=$(c,t),c.forEach(_),i=O(s),r=T(s,"INPUT",{style:!0,type:!0,class:!0}),this.h()},h(){F(e,"margin-right","1em"),F(e,"grid-column","1"),F(e,"justify-self","center"),F(e,"align-self","center"),F(r,"grid-column","2"),F(r,"max-width","5em"),z(r,"type","number"),z(r,"class","svelte-h16f3k")},m(s,c){g(s,e,c),v(e,l),g(s,i,c),g(s,r,c),Oe(r,n[5][0][n[28]]),f||(u=ye(r,"input",o),f=!0)},p(s,c){n=s,c[0]&256&&t!==(t=n[26]+"")&&I(l,t),c[0]&32&&Le(r.value)!==n[5][0][n[28]]&&Oe(r,n[5][0][n[28]])},d(s){s&&_(e),s&&_(i),s&&_(r),f=!1,u()}}}function ur(n){let e,t,l,i;const r=[fr,rr],f=[];function u(o,s){return o[1].Typ=="Unterstützend"?0:1}return t=u(n),l=f[t]=r[t](n),{c(){e=y("span"),l.c(),this.h()},l(o){e=T(o,"SPAN",{class:!0});var s=w(e);l.l(s),s.forEach(_),this.h()},h(){z(e,"class","root svelte-h16f3k")},m(o,s){g(o,e,s),f[t].m(e,null),i=!0},p(o,s){let c=t;t=u(o),t===c?f[t].p(o,s):(Ce(),se(f[c],1,1,()=>{f[c]=null}),je(),l=f[t],l?l.p(o,s):(l=f[t]=r[t](o),l.c()),X(l,1),l.m(e,null))},i(o){i||(X(l),i=!0)},o(o){se(l),i=!1},d(o){o&&_(e),f[t].d()}}}const Qt=(n,e)=>e;function or(n,e,t){let l,i,r,f,u=me,o=()=>(u(),u=We(l,P=>t(11,f=P)),l);n.$$.on_destroy.push(()=>u());let{charData:s}=e,{tactic:c}=e,{amount:m}=e,{weapon:a}=e,{modifierFunction:d=[]}=e;const h=di(),k=()=>h("remove");let b=[],p=[],V=[],M=[];function j(P){function J(oe){var _e,x,Q,ee;return Mi([...Pe(((_e=oe.VariableModValueType)==null?void 0:_e.map(Ee=>Ee.Value))??[]),...Pe(((x=oe.AddModValueType)==null?void 0:x.flatMap(J))??[]),...Pe(((Q=oe.MultiplyModValueType)==null?void 0:Q.flatMap(J))??[]),...Pe(((ee=oe.SubstractModValueType)==null?void 0:ee.flatMap(J))??[])])}if(P==null)return[];if(P["#"]=="AddModValueType")return J(P.AddModValueType);if(P["#"]=="ConcreteModValueType")return[];if(P["#"]=="SubstractModValueType")return J(P.SubstractModValueType);if(P["#"]=="MultiplyModValueType")return J(P.MultiplyModValueType);if(P["#"]=="VariableModValueType")return P.VariableModValueType.Value==null?[]:[P.VariableModValueType.Value];throw new Error("Not implemented")}function D(P){const J=(oe,_e)=>{var Q,ee,Ee,ce,he;const x=[...Pe(((Q=oe.AddModValueType)==null?void 0:Q.flatMap(R=>`(${J(R,"add")})`))??[]),...Pe(((ee=oe.MultiplyModValueType)==null?void 0:ee.flatMap(R=>`(${J(R,"multiply")})`))??[]),...Pe(((Ee=oe.SubstractModValueType)==null?void 0:Ee.flatMap(R=>`(${J(R,"substact")})`))??[]),...Pe(((ce=oe.ConcreteModValueType)==null?void 0:ce.flatMap(R=>R.Type=="Percent"?`${R.Value}%`:R.Value.toString()))??[]),...Pe(((he=oe.VariableModValueType)==null?void 0:he.map(R=>R.Value))??[]).flatMap(R=>R)];if(_e=="add")return Qe(x," + ");if(_e=="multiply")return Qe(x," × ");if(_e=="substact")return Qe(x," - ");throw new Error("Not Implemented")};if(P==null)return"";if(P["#"]=="AddModValueType")return`${P.ModifierType}: ${J(P.AddModValueType,"add")}`;if(P["#"]=="ConcreteModValueType")return P.ConcreteModValueType.Type=="Absolute"?`${P.ModifierType}: ${P.ConcreteModValueType.Value}`:`${P.ModifierType}: ${P.ConcreteModValueType.Value}%`;if(P["#"]=="SubstractModValueType")return`${P.ModifierType}: ${J(P.SubstractModValueType,"substact")}`;if(P["#"]=="MultiplyModValueType")return`${P.ModifierType}: ${J(P.MultiplyModValueType,"multiply")}`;if(P["#"]=="VariableModValueType")return P.VariableModValueType.Value==null?"":`${P.ModifierType}: ${P.VariableModValueType.Value}`;throw new Error("Not implemented")}function W(P,J,oe,_e){const x=P==null?void 0:P.Mod;return Q=>{var le,Z;const ee=(ge,ve)=>{var Y,C,pe,B,N;const be=[...Pe(((Y=ge.AddModValueType)==null?void 0:Y.flatMap(L=>ee(L,"add")))??[]),...Pe(((C=ge.MultiplyModValueType)==null?void 0:C.flatMap(L=>ee(L,"multiply")))??[]),...Pe(((pe=ge.SubstractModValueType)==null?void 0:pe.flatMap(L=>ee(L,"substact")))??[]),...Pe(((B=ge.ConcreteModValueType)==null?void 0:B.flatMap(L=>L.Type=="Percent"?Q*L.Value/100:L.Value))??[]),...Pe(((N=ge.VariableModValueType)==null?void 0:N.map(L=>L.Value))??[]).flatMap(L=>oe[L])];if(ve=="add")return be.reduce((L,G)=>L+G,0);if(ve=="multiply")return be.reduce((L,G)=>L*G,1);if(ve=="substact")return be.reduce((L,G)=>L-G,0);throw new Error("Not Implemented")},Ee=(x==null?void 0:x.ModifierType)=="Bonus"?1:-1,ce=_e.map(ge=>ge(Q)).reduce((ge,ve)=>ge+ve,0);let he=x==null?0:x["#"]=="AddModValueType"?ee(x.AddModValueType,"add"):x["#"]=="ConcreteModValueType"?x.ConcreteModValueType.Type=="Absolute"?x.ConcreteModValueType.Value:x.ConcreteModValueType.Value*Q/100:x["#"]=="SubstractModValueType"?ee(x.SubstractModValueType,"substact"):x["#"]=="MultiplyModValueType"?ee(x.MultiplyModValueType,"multiply"):x["#"]=="VariableModValueType"?x.VariableModValueType.Value==null?0:oe[x.VariableModValueType.Value]:0;const R=((le=J==null?void 0:J.Eigenschaften)==null?void 0:le.Eigenschaft.map(ge=>ge.Id))??[],re=((Z=P==null?void 0:P.Eigenschaften)==null?void 0:Z.Eigenschaft.map(ge=>ge.Id))??[],te=wi(R,re);for(let ge=0;ge<te.length;ge++)(x==null?void 0:x.ModifierType)=="Bonus"?he*=2:he/=2;return he=Math.floor(he),(P==null?void 0:P.Typ)=="Defensiv"?he+=(J==null?void 0:J.DefensivModifizierer)??0:(P==null?void 0:P.Typ)=="Offensiv"&&(he+=(J==null?void 0:J.OffensivModifizierer)??0),((J==null?void 0:J.WaffenTyp)=="Defensiv"&&(P==null?void 0:P.Typ)=="Offensiv"||(J==null?void 0:J.WaffenTyp)=="Offensiv"&&(P==null?void 0:P.Typ)=="Defensiv")&&(he=-1/0),Ee*he+ce}}let A=!1;function q(P){p[0][P]=Le(this.value),t(5,p),t(2,m),t(8,r),t(1,c)}const U=()=>t(9,A=!0),K=()=>k();function fe(P,J){p[P][J]=Le(this.value),t(5,p),t(2,m),t(8,r),t(1,c)}function ie(P,J){V[P][J]=this.checked,t(6,V),t(2,m)}function ke(P,J,oe){n.$$.not_equal(M[J][oe],P)&&(M[J][oe]=P,t(7,M),t(2,m),t(1,c))}const ae=()=>t(9,A=!1);return n.$$set=P=>{"charData"in P&&t(0,s=P.charData),"tactic"in P&&t(1,c=P.tactic),"amount"in P&&t(2,m=P.amount),"weapon"in P&&t(3,a=P.weapon),"modifierFunction"in P&&t(14,d=P.modifierFunction)},n.$$.update=()=>{n.$$.dirty[0]&1&&o(t(10,l=s.possibleTargets)),n.$$.dirty[0]&1&&t(15,i=s.char.stammdaten.Instance.Daten.Taktiken.Taktik.filter(P=>P.Typ=="Unterstützend")),n.$$.dirty[0]&32785&&(yi(b.map(P=>P.Id),i.map(P=>P.Id))||t(4,b=s.char.stammdaten.Instance.Daten.Taktiken.Taktik.filter(P=>P.Typ=="Unterstützend"))),n.$$.dirty[0]&2&&t(8,r=j(c.Mod)),n.$$.dirty[0]&292&&((p==null||p.length!=m)&&t(5,p=Array.from({length:m}).map(P=>[])),p.some(P=>P.length!=r.length||P.some(J=>J==null))&&t(5,p=p.map(P=>Array.from({length:r.length}).map((J,oe)=>(P==null?void 0:P[oe])!==void 0?P==null?void 0:P[oe]:0)))),n.$$.dirty[0]&134&&(M==null||M.length!=m)&&(console.log("Update support",c.Id),t(7,M=Array.from({length:m}).map(P=>[]))),n.$$.dirty[0]&68&&(V==null||V.length!=m)&&(console.log("support collection changed"),t(6,V=Array.from({length:m}).map(P=>[]))),n.$$.dirty[0]&494&&t(14,d=Array.from({length:m}).map((P,J)=>({tactic:c,f:W(c,a,Ti(dt(r,p[J]),([oe])=>oe,([,oe])=>oe),M[J].filter((oe,_e)=>V[J][_e]).flatMap(oe=>oe).map(oe=>oe.f)),support:M[J].filter((oe,_e)=>V[J][_e]).flatMap(oe=>oe),variables:dt(r,p[J]).reduce((oe,[_e,x])=>(oe[_e]=x,oe),{})})))},[s,c,m,a,b,p,V,M,r,A,l,f,k,D,d,i,q,U,K,fe,ie,ke,ae]}class ci extends qe{constructor(e){super(),Fe(this,e,or,ur,Ge,{charData:0,tactic:1,amount:2,weapon:3,modifierFunction:14},null,[-1,-1])}}function Jt(n,e,t){const l=n.slice();return l[20]=e[t][0],l[21]=e[t][1],l[22]=e,l[23]=t,l}function Zt(n,e,t){const l=n.slice();return l[24]=e[t],l}function Yt(n,e,t){const l=n.slice();return l[24]=e[t],l}function Xt(n,e,t){const l=n.slice();return l[24]=e[t],l}function xt(n,e,t){const l=n.slice();return l[24]=e[t],l}function el(n,e,t){const l=n.slice();return l[33]=e[t][0],l[34]=e[t][1],l}function tl(n){let e,t=ne(n[33].Name)+"",l,i,r,f,u=et(n[1].char.stammdaten.talentMap[n[34]],n[1].char,"Name")+"",o,s,c;return{c(){e=y("option"),l=E(t),i=S(),r=y("em"),f=E("("),o=E(u),s=E(")"),this.h()},l(m){e=T(m,"OPTION",{});var a=w(e);l=$(a,t),i=O(a),r=T(a,"EM",{});var d=w(r);f=$(d,"("),o=$(d,u),s=$(d,")"),d.forEach(_),a.forEach(_),this.h()},h(){e.__value=c=JSON.stringify([n[33].Id,n[34]]),e.value=e.__value},m(m,a){g(m,e,a),v(e,l),v(e,i),v(e,r),v(r,f),v(r,o),v(r,s)},p(m,a){a[0]&512&&t!==(t=ne(m[33].Name)+"")&&I(l,t),a[0]&514&&u!==(u=et(m[1].char.stammdaten.talentMap[m[34]],m[1].char,"Name")+"")&&I(o,u),a[0]&512&&c!==(c=JSON.stringify([m[33].Id,m[34]]))&&(e.__value=c,e.value=e.__value)},d(m){m&&_(e)}}}function ll(n){let e,t=ne(n[24].Name)+"",l,i;return{c(){e=y("option"),l=E(t),this.h()},l(r){e=T(r,"OPTION",{});var f=w(e);l=$(f,t),f.forEach(_),this.h()},h(){e.__value=i=n[24].Id,e.value=e.__value},m(r,f){g(r,e,f),v(e,l)},p(r,f){f[0]&2048&&t!==(t=ne(r[24].Name)+"")&&I(l,t),f[0]&2048&&i!==(i=r[24].Id)&&(e.__value=i,e.value=e.__value)},d(r){r&&_(e)}}}function nl(n){let e,t=ne(n[24].Name)+"",l,i;return{c(){e=y("option"),l=E(t),this.h()},l(r){e=T(r,"OPTION",{});var f=w(e);l=$(f,t),f.forEach(_),this.h()},h(){e.__value=i=n[24].Id,e.value=e.__value},m(r,f){g(r,e,f),v(e,l)},p(r,f){f[0]&2048&&t!==(t=ne(r[24].Name)+"")&&I(l,t),f[0]&2048&&i!==(i=r[24].Id)&&(e.__value=i,e.value=e.__value)},d(r){r&&_(e)}}}function il(n){let e,t=ne(n[24].Name)+"",l,i;return{c(){e=y("option"),l=E(t),this.h()},l(r){e=T(r,"OPTION",{});var f=w(e);l=$(f,t),f.forEach(_),this.h()},h(){e.__value=i=n[24].Id,e.value=e.__value},m(r,f){g(r,e,f),v(e,l)},p(r,f){f[0]&2048&&t!==(t=ne(r[24].Name)+"")&&I(l,t),f[0]&2048&&i!==(i=r[24].Id)&&(e.__value=i,e.value=e.__value)},d(r){r&&_(e)}}}function rl(n){let e,t=ne(n[24].Name)+"",l,i;return{c(){e=y("option"),l=E(t),this.h()},l(r){e=T(r,"OPTION",{});var f=w(e);l=$(f,t),f.forEach(_),this.h()},h(){e.__value=i=n[24].Id,e.value=e.__value},m(r,f){g(r,e,f),v(e,l)},p(r,f){f[0]&2048&&t!==(t=ne(r[24].Name)+"")&&I(l,t),f[0]&2048&&i!==(i=r[24].Id)&&(e.__value=i,e.value=e.__value)},d(r){r&&_(e)}}}function fl(n){let e;return{c(){e=E("Keine Taktik Ausgewählt")},l(t){e=$(t,"Keine Taktik Ausgewählt")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function ul(n,e){var m;let t,l,i,r=" ",f,u;function o(a){e[17](a,e[23])}function s(){return e[18](e[20])}let c={charData:e[1],tactic:e[20],amount:e[21],weapon:e[1].char.stammdaten.nahkampfMap[((m=e[6])==null?void 0:m[0])??""]};return e[2][e[23]]!==void 0&&(c.modifierFunction=e[2][e[23]]),l=new ci({props:c}),si.push(()=>ai(l,"modifierFunction",o)),l.$on("remove",s),{key:n,first:null,c(){t=ue(),Me(l.$$.fragment),f=E(r),this.h()},l(a){t=ue(),Ne(l.$$.fragment,a),f=$(a,r),this.h()},h(){this.first=t},m(a,d){g(a,t,d),Ie(l,a,d),g(a,f,d),u=!0},p(a,d){var k;e=a;const h={};d[0]&2&&(h.charData=e[1]),d[0]&1024&&(h.tactic=e[20]),d[0]&1024&&(h.amount=e[21]),d[0]&66&&(h.weapon=e[1].char.stammdaten.nahkampfMap[((k=e[6])==null?void 0:k[0])??""]),!i&&d[0]&1028&&(i=!0,h.modifierFunction=e[2][e[23]],_i(()=>i=!1)),l.$set(h)},i(a){u||(X(l.$$.fragment,a),u=!0)},o(a){se(l.$$.fragment,a),u=!1},d(a){a&&_(t),De(l,a),a&&_(f)}}}function sr(n){let e,t=JSON.stringify(n[0].map(ol))+"",l,i,r,f,u,o,s,c,m,a,d,h,k,b,p,V,M,j,D,W,A,q,U=[],K=new Map,fe,ie,ke,ae,P,J,oe,_e,x,Q,ee,Ee,ce,he=n[9],R=[];for(let N=0;N<he.length;N+=1)R[N]=tl(el(n,he,N));let re=n[11].filter(sl),te=[];for(let N=0;N<re.length;N+=1)te[N]=ll(xt(n,re,N));let le=n[11].filter(al),Z=[];for(let N=0;N<le.length;N+=1)Z[N]=nl(Xt(n,le,N));let ge=n[11].filter(_l),ve=[];for(let N=0;N<ge.length;N+=1)ve[N]=il(Yt(n,ge,N));let be=n[11].filter(cl),Y=[];for(let N=0;N<be.length;N+=1)Y[N]=rl(Zt(n,be,N));let C=n[10];const pe=N=>N[20].Id;for(let N=0;N<C.length;N+=1){let L=Jt(n,C,N),G=pe(L);K.set(G,U[N]=ul(G,L))}let B=null;return C.length||(B=fl()),{c(){e=y("div"),l=E(t),i=S(),r=y("strog"),f=E("Taktiken"),u=S(),o=y("select");for(let N=0;N<R.length;N+=1)R[N].c();s=S(),c=y("select"),m=y("optgroup");for(let N=0;N<te.length;N+=1)te[N].c();a=y("optgroup");for(let N=0;N<Z.length;N+=1)Z[N].c();d=y("optgroup");for(let N=0;N<ve.length;N+=1)ve[N].c();h=y("optgroup");for(let N=0;N<Y.length;N+=1)Y[N].c();k=S(),b=y("button"),p=E("+"),M=S(),j=y("button"),D=E("-"),A=S(),q=y("div");for(let N=0;N<U.length;N+=1)U[N].c();B&&B.c(),fe=S(),ie=y("div"),ke=E(n[8]),ae=E(" Belastung, "),P=E(n[7]),J=E(" Ausdauer"),oe=S(),_e=y("button"),x=E("Ausführen🚧"),this.h()},l(N){e=T(N,"DIV",{class:!0});var L=w(e);l=$(L,t),i=O(L),r=T(L,"STROG",{style:!0});var G=w(r);f=$(G,"Taktiken"),G.forEach(_),u=O(L),o=T(L,"SELECT",{style:!0});var H=w(o);for(let Ae=0;Ae<R.length;Ae+=1)R[Ae].l(H);H.forEach(_),s=O(L),c=T(L,"SELECT",{style:!0});var Ve=w(c);m=T(Ve,"OPTGROUP",{label:!0});var we=w(m);for(let Ae=0;Ae<te.length;Ae+=1)te[Ae].l(we);we.forEach(_),a=T(Ve,"OPTGROUP",{label:!0});var Re=w(a);for(let Ae=0;Ae<Z.length;Ae+=1)Z[Ae].l(Re);Re.forEach(_),d=T(Ve,"OPTGROUP",{label:!0});var Se=w(d);for(let Ae=0;Ae<ve.length;Ae+=1)ve[Ae].l(Se);Se.forEach(_),h=T(Ve,"OPTGROUP",{label:!0});var Be=w(h);for(let Ae=0;Ae<Y.length;Ae+=1)Y[Ae].l(Be);Be.forEach(_),Ve.forEach(_),k=O(L),b=T(L,"BUTTON",{style:!0,class:!0});var Ke=w(b);p=$(Ke,"+"),Ke.forEach(_),M=O(L),j=T(L,"BUTTON",{style:!0,class:!0});var Ue=w(j);D=$(Ue,"-"),Ue.forEach(_),A=O(L),q=T(L,"DIV",{style:!0});var Te=w(q);for(let Ae=0;Ae<U.length;Ae+=1)U[Ae].l(Te);B&&B.l(Te),Te.forEach(_),fe=O(L),ie=T(L,"DIV",{style:!0});var ze=w(ie);ke=$(ze,n[8]),ae=$(ze," Belastung, "),P=$(ze,n[7]),J=$(ze," Ausdauer"),ze.forEach(_),oe=O(L),_e=T(L,"BUTTON",{class:!0,style:!0});var xe=w(_e);x=$(xe,"Ausführen🚧"),xe.forEach(_),L.forEach(_),this.h()},h(){F(r,"grid-column","1/ span 3 "),F(r,"grid-row","1"),F(r,"text-align","center"),F(o,"grid-column","1"),F(o,"grid-row","2"),F(o,"width","max-content"),n[4]===void 0&&ct(()=>n[13].call(o)),z(m,"label","Offensiv"),z(a,"label","Defensiv"),z(d,"label","Unterstüzend"),z(h,"label","Neutral"),F(c,"grid-column","2"),F(c,"grid-row","2"),n[5]===void 0&&ct(()=>n[14].call(c)),F(b,"grid-column","3"),F(b,"grid-row","2"),b.disabled=V=n[5]==null,z(b,"class","outline"),F(j,"grid-column","4"),F(j,"grid-row","2"),z(j,"class","outline"),j.disabled=W=n[5]==null||!n[3].includes(n[5]),F(q,"grid-column","1"),F(q,"grid-row","3"),F(q,"z-index","0"),F(ie,"grid-column","2"),F(ie,"grid-row","3"),z(_e,"class","outline"),F(_e,"grid-column","3/span 2"),F(_e,"grid-row","3"),_e.disabled=Q=n[6]==null,z(e,"class","root svelte-18h17n7")},m(N,L){g(N,e,L),v(e,l),v(e,i),v(e,r),v(r,f),v(e,u),v(e,o);for(let G=0;G<R.length;G+=1)R[G].m(o,null);it(o,n[4]),v(e,s),v(e,c),v(c,m);for(let G=0;G<te.length;G+=1)te[G].m(m,null);v(c,a);for(let G=0;G<Z.length;G+=1)Z[G].m(a,null);v(c,d);for(let G=0;G<ve.length;G+=1)ve[G].m(d,null);v(c,h);for(let G=0;G<Y.length;G+=1)Y[G].m(h,null);it(c,n[5]),v(e,k),v(e,b),v(b,p),v(e,M),v(e,j),v(j,D),v(e,A),v(e,q);for(let G=0;G<U.length;G+=1)U[G].m(q,null);B&&B.m(q,null),v(e,fe),v(e,ie),v(ie,ke),v(ie,ae),v(ie,P),v(ie,J),v(e,oe),v(e,_e),v(_e,x),ee=!0,Ee||(ce=[ye(o,"change",n[13]),ye(c,"change",n[14]),ye(b,"click",n[15]),ye(j,"click",n[16]),ye(_e,"click",n[19])],Ee=!0)},p(N,L){if((!ee||L[0]&1)&&t!==(t=JSON.stringify(N[0].map(ol))+"")&&I(l,t),L[0]&514){he=N[9];let G;for(G=0;G<he.length;G+=1){const H=el(N,he,G);R[G]?R[G].p(H,L):(R[G]=tl(H),R[G].c(),R[G].m(o,null))}for(;G<R.length;G+=1)R[G].d(1);R.length=he.length}if(L[0]&528&&it(o,N[4]),L[0]&2048){re=N[11].filter(sl);let G;for(G=0;G<re.length;G+=1){const H=xt(N,re,G);te[G]?te[G].p(H,L):(te[G]=ll(H),te[G].c(),te[G].m(m,null))}for(;G<te.length;G+=1)te[G].d(1);te.length=re.length}if(L[0]&2048){le=N[11].filter(al);let G;for(G=0;G<le.length;G+=1){const H=Xt(N,le,G);Z[G]?Z[G].p(H,L):(Z[G]=nl(H),Z[G].c(),Z[G].m(a,null))}for(;G<Z.length;G+=1)Z[G].d(1);Z.length=le.length}if(L[0]&2048){ge=N[11].filter(_l);let G;for(G=0;G<ge.length;G+=1){const H=Yt(N,ge,G);ve[G]?ve[G].p(H,L):(ve[G]=il(H),ve[G].c(),ve[G].m(d,null))}for(;G<ve.length;G+=1)ve[G].d(1);ve.length=ge.length}if(L[0]&2048){be=N[11].filter(cl);let G;for(G=0;G<be.length;G+=1){const H=Zt(N,be,G);Y[G]?Y[G].p(H,L):(Y[G]=rl(H),Y[G].c(),Y[G].m(h,null))}for(;G<Y.length;G+=1)Y[G].d(1);Y.length=be.length}L[0]&2080&&it(c,N[5]),(!ee||L[0]&2080&&V!==(V=N[5]==null))&&(b.disabled=V),(!ee||L[0]&2088&&W!==(W=N[5]==null||!N[3].includes(N[5])))&&(j.disabled=W),L[0]&1102&&(C=N[10],Ce(),U=pi(U,L,pe,1,N,C,K,q,bi,ul,null,Jt),je(),C.length?B&&(B.d(1),B=null):B||(B=fl(),B.c(),B.m(q,null))),(!ee||L[0]&256)&&I(ke,N[8]),(!ee||L[0]&128)&&I(P,N[7]),(!ee||L[0]&64&&Q!==(Q=N[6]==null))&&(_e.disabled=Q)},i(N){if(!ee){for(let L=0;L<C.length;L+=1)X(U[L]);ee=!0}},o(N){for(let L=0;L<U.length;L+=1)se(U[L]);ee=!1},d(N){N&&_(e),$e(R,N),$e(te,N),$e(Z,N),$e(ve,N),$e(Y,N);for(let L=0;L<U.length;L+=1)U[L].d();B&&B.d(),Ee=!1,nt(ce)}}}const ol=n=>n.f(4),sl=n=>n.Typ=="Offensiv",al=n=>n.Typ=="Defensiv",_l=n=>n.Typ=="Unterstützend",cl=n=>n.Typ=="Neutral";function ar(n,e,t){let l,i,r,f,u,o,s,{charData:c}=e,{modifierFunction:m=[]}=e,a=[],d=["Angriff","Verteidigung"],h,k;function b(){k=ht(this),t(4,k),t(9,f),t(12,i),t(1,c)}function p(){h=ht(this),t(5,h),t(11,l),t(1,c)}const V=()=>t(3,d=[...d,h??""]),M=()=>t(3,d=pt(d,h??""));function j(A,q){n.$$.not_equal(a[q],A)&&(a[q]=A,t(2,a))}const D=A=>t(3,d=pt(d,A.Id??"")),W=()=>c.perforTacticAction(c.char.stammdaten.nahkampfMap[(s==null?void 0:s[0])??""],m,(s==null?void 0:s[1])??"");return n.$$set=A=>{"charData"in A&&t(1,c=A.charData),"modifierFunction"in A&&t(0,m=A.modifierFunction)},n.$$.update=()=>{n.$$.dirty[0]&4&&t(0,m=a.flatMap(A=>A)),n.$$.dirty[0]&2&&t(11,l=c.char.stammdaten.Instance.Daten.Taktiken.Taktik),n.$$.dirty[0]&2&&t(12,i=Object.entries(c.char.equipment).filter(([,A])=>A.type=="closeCombatWeapon"&&A.equiped.currentValue()==!0).map(([A])=>A)),n.$$.dirty[0]&10&&t(10,r=Object.entries(d.reduce((A,q)=>(A[q]=(A[q]??0)+1,A),{})).map(([A,q])=>[c.char.stammdaten.TaktikMap[A],q]).sort(([A],[q])=>ne(A.Name).localeCompare(ne(q.Name)))),n.$$.dirty[0]&4098&&t(9,f=i.map(A=>c.char.stammdaten.nahkampfMap[A]).flatMap(A=>{var q;return((q=A.Talente)==null?void 0:q.Talent.map(U=>[A,U.Id]))??[]})),n.$$.dirty[0]&10&&t(8,u=d.map(A=>c.char.stammdaten.TaktikMap[A]).reduce((A,q)=>A+parseFloat(q.Belastung),0)),n.$$.dirty[0]&10&&t(7,o=d.map(A=>c.char.stammdaten.TaktikMap[A]).reduce((A,q)=>A+q.Kosten,0)),n.$$.dirty[0]&16&&t(6,s=k==null?void 0:JSON.parse(k))},[m,c,a,d,k,h,s,o,u,f,r,l,i,b,p,V,M,j,D,W]}class _r extends qe{constructor(e){super(),Fe(this,e,ar,sr,Ge,{charData:1,modifierFunction:0},null,[-1,-1])}}function hl(n,e,t){var r;const l=n.slice();l[14]=e[t];const i=(r=l[2])==null?void 0:r.nahkampfMap[l[14]];return l[15]=i,l}function ml(n,e,t){const l=n.slice();return l[18]=e[t],l}function dl(n,e,t){const l=n.slice();return l[18]=e[t],l}function pl(n,e,t){const l=n.slice();return l[23]=e[t],l}function bl(n,e,t){var f;const l=n.slice();l[18]=e[t];const i=(f=l[0])==null?void 0:f.besonderheiten(...l[18]);l[26]=i;const r=l[18];return l[27]=r.slice(1),l}function vl(n){let e,t,l=n[23]+"",i,r,f,u,o;function s(...a){return n[10](n[23],...a)}let c=n[5]().filter(s).filter(n[11]),m=[];for(let a=0;a<c.length;a+=1)m[a]=kl(bl(n,c,a));return{c(){e=y("div"),t=y("strong"),i=E(l),r=S(),f=y("ul");for(let a=0;a<m.length;a+=1)m[a].c();u=S(),o=y("hr"),this.h()},l(a){e=T(a,"DIV",{class:!0});var d=w(e);t=T(d,"STRONG",{});var h=w(t);i=$(h,l),h.forEach(_),r=O(d),f=T(d,"UL",{});var k=w(f);for(let b=0;b<m.length;b+=1)m[b].l(k);k.forEach(_),u=O(d),o=T(d,"HR",{}),d.forEach(_),this.h()},h(){z(e,"class","list")},m(a,d){g(a,e,d),v(e,t),v(t,i),v(e,r),v(e,f);for(let h=0;h<m.length;h+=1)m[h].m(f,null);v(e,u),v(e,o)},p(a,d){if(n=a,d&4&&l!==(l=n[23]+"")&&I(i,l),d&37){c=n[5]().filter(s).filter(n[11]);let h;for(h=0;h<c.length;h+=1){const k=bl(n,c,h);m[h]?m[h].p(k,d):(m[h]=kl(k),m[h].c(),m[h].m(f,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=c.length}},d(a){a&&_(e),$e(m,a)}}}function gl(n){let e,t=Xe(n[2].besonderheitenMap[n[18][0]],n[26].effective.currentValue({defaultValue:0})??0,n[0],...n[27])+"",l,i;return{c(){e=y("li"),l=E(t),i=S()},l(r){e=T(r,"LI",{});var f=w(e);l=$(f,t),i=O(f),f.forEach(_)},m(r,f){g(r,e,f),v(e,l),v(e,i)},p(r,f){f&5&&t!==(t=Xe(r[2].besonderheitenMap[r[18][0]],r[26].effective.currentValue({defaultValue:0})??0,r[0],...r[27])+"")&&I(l,t)},d(r){r&&_(e)}}}function kl(n){let e=tt(n[26]),t,l=e&&gl(n);return{c(){l&&l.c(),t=ue()},l(i){l&&l.l(i),t=ue()},m(i,r){l&&l.m(i,r),g(i,t,r)},p(i,r){r&5&&(e=tt(i[26])),e?l?l.p(i,r):(l=gl(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&_(t)}}}function El(n){let e=n[5]().filter(l).some(n[9]),t;function l(...r){return n[8](n[23],...r)}let i=e&&vl(n);return{c(){i&&i.c(),t=ue()},l(r){i&&i.l(r),t=ue()},m(r,f){i&&i.m(r,f),g(r,t,f)},p(r,f){n=r,f&5&&(e=n[5]().filter(l).some(n[9])),e?i?i.p(n,f):(i=vl(n),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(r){i&&i.d(r),r&&_(t)}}}function $l(n){let e,t,l,i,r,f,u,o=Object.keys(n[2].fertigkeitenCategoryMap.Kampfstiele.fertigkeiten).filter(n[12]),s=[];for(let c=0;c<o.length;c+=1)s[c]=Vl(dl(n,o,c));return{c(){e=y("div"),t=y("strong"),l=E("Kampfstiele"),i=S(),r=y("ul");for(let c=0;c<s.length;c+=1)s[c].c();f=S(),u=y("hr"),this.h()},l(c){e=T(c,"DIV",{class:!0});var m=w(e);t=T(m,"STRONG",{});var a=w(t);l=$(a,"Kampfstiele"),a.forEach(_),i=O(m),r=T(m,"UL",{});var d=w(r);for(let h=0;h<s.length;h+=1)s[h].l(d);d.forEach(_),f=O(m),u=T(m,"HR",{}),m.forEach(_),this.h()},h(){z(e,"class","list")},m(c,m){g(c,e,m),v(e,t),v(t,l),v(e,i),v(e,r);for(let a=0;a<s.length;a+=1)s[a].m(r,null);v(e,f),v(e,u)},p(c,m){if(m&5){o=Object.keys(c[2].fertigkeitenCategoryMap.Kampfstiele.fertigkeiten).filter(c[12]);let a;for(a=0;a<o.length;a+=1){const d=dl(c,o,a);s[a]?s[a].p(d,m):(s[a]=Vl(d),s[a].c(),s[a].m(r,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}},d(c){c&&_(e),$e(s,c)}}}function Vl(n){var r;let e,t=Je(n[2].fertigkeitenMap[n[18]],((r=n[0])==null?void 0:r.fertigkeiten[n[18]].effective.currentValue({defaultValue:0}))??0,n[0])+"",l,i;return{c(){e=y("li"),l=E(t),i=S()},l(f){e=T(f,"LI",{});var u=w(e);l=$(u,t),i=O(u),u.forEach(_)},m(f,u){g(f,e,u),v(e,l),v(e,i)},p(f,u){var o;u&5&&t!==(t=Je(f[2].fertigkeitenMap[f[18]],((o=f[0])==null?void 0:o.fertigkeiten[f[18]].effective.currentValue({defaultValue:0}))??0,f[0])+"")&&I(l,t)},d(f){f&&_(e)}}}function yl(n){var c;let e,t,l,i,r,f,u,o=Object.keys(((c=n[2].fertigkeitenCategoryMap.Kampf)==null?void 0:c.fertigkeiten)??{}).filter(n[13]),s=[];for(let m=0;m<o.length;m+=1)s[m]=Tl(ml(n,o,m));return{c(){e=y("div"),t=y("strong"),l=E("Fertigkeiten"),i=S(),r=y("ul");for(let m=0;m<s.length;m+=1)s[m].c();f=S(),u=y("hr"),this.h()},l(m){e=T(m,"DIV",{class:!0});var a=w(e);t=T(a,"STRONG",{});var d=w(t);l=$(d,"Fertigkeiten"),d.forEach(_),i=O(a),r=T(a,"UL",{});var h=w(r);for(let k=0;k<s.length;k+=1)s[k].l(h);h.forEach(_),f=O(a),u=T(a,"HR",{}),a.forEach(_),this.h()},h(){z(e,"class","list")},m(m,a){g(m,e,a),v(e,t),v(t,l),v(e,i),v(e,r);for(let d=0;d<s.length;d+=1)s[d].m(r,null);v(e,f),v(e,u)},p(m,a){var d;if(a&5){o=Object.keys(((d=m[2].fertigkeitenCategoryMap.Kampf)==null?void 0:d.fertigkeiten)??{}).filter(m[13]);let h;for(h=0;h<o.length;h+=1){const k=ml(m,o,h);s[h]?s[h].p(k,a):(s[h]=Tl(k),s[h].c(),s[h].m(r,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}},d(m){m&&_(e),$e(s,m)}}}function Tl(n){var r;let e,t=Je(n[2].fertigkeitenMap[n[18]],((r=n[0])==null?void 0:r.fertigkeiten[n[18]].effective.currentValue({defaultValue:0}))??0,n[0])+"",l,i;return{c(){e=y("li"),l=E(t),i=S()},l(f){e=T(f,"LI",{});var u=w(e);l=$(u,t),i=O(u),u.forEach(_)},m(f,u){g(f,e,u),v(e,l),v(e,i)},p(f,u){var o;u&5&&t!==(t=Je(f[2].fertigkeitenMap[f[18]],((o=f[0])==null?void 0:o.fertigkeiten[f[18]].effective.currentValue({defaultValue:0}))??0,f[0])+"")&&I(l,t)},d(f){f&&_(e)}}}function wl(n){let e,t=n[14]+"",l,i,r,f,u;return r=new Oi({props:{char:n[0],weapon:n[15]}}),{c(){e=y("div"),l=E(t),i=S(),Me(r.$$.fragment),f=S(),this.h()},l(o){e=T(o,"DIV",{class:!0});var s=w(e);l=$(s,t),i=O(s),Ne(r.$$.fragment,s),f=O(s),s.forEach(_),this.h()},h(){z(e,"class","list")},m(o,s){g(o,e,s),v(e,l),v(e,i),Ie(r,e,null),v(e,f),u=!0},p(o,s){(!u||s&1)&&t!==(t=o[14]+"")&&I(l,t);const c={};s&1&&(c.char=o[0]),s&5&&(c.weapon=o[15]),r.$set(c)},i(o){u||(X(r.$$.fragment,o),u=!0)},o(o){se(r.$$.fragment,o),u=!1},d(o){o&&_(e),De(r)}}}function cr(n){var C,pe;let e,t,l,i,r,f,u,o,s,c,m,a,d,h,k,b,p,V,M,j,D,W,A,q,U,K,fe,ie,ke,ae,P,J,oe=Object.keys(((C=n[2].fertigkeitenCategoryMap.Kampfstiele)==null?void 0:C.fertigkeiten)??{}).some(n[7]),_e,x=Object.keys(((pe=n[2].fertigkeitenCategoryMap.Kampf)==null?void 0:pe.fertigkeiten)??{}).some(n[6]),Q,ee,Ee,ce,he;i=new Ji({props:{charData:n[1]}}),c=new ir({props:{charData:n[1]}}),a=new tr({props:{charData:n[1]}}),h=new Xi({props:{charData:n[1]}}),b=new _r({props:{charData:n[1]}}),K=new zi({props:{charData:n[1]}});const R=[{char:n[0]},{data:n[2]},n[1].fatique];let re={};for(let B=0;B<R.length;B+=1)re=vi(re,R[B]);ie=new qi({props:re});let te=Object.keys(n[2].besonderheitenCategoryMap),le=[];for(let B=0;B<te.length;B+=1)le[B]=El(pl(n,te,B));let Z=oe&&$l(n),ge=x&&yl(n),ve=Object.keys(bt(n[0].equipment,Ml)),be=[];for(let B=0;B<ve.length;B+=1)be[B]=wl(hl(n,ve,B));const Y=B=>se(be[B],1,1,()=>{be[B]=null});return ce=new Si({props:{input:n[0],data:n[2]}}),{c(){e=y("h6"),t=E("Mali"),l=S(),Me(i.$$.fragment),r=S(),f=y("h6"),u=E("Aktionen"),o=S(),s=y("div"),Me(c.$$.fragment),m=S(),Me(a.$$.fragment),d=S(),Me(h.$$.fragment),k=S(),Me(b.$$.fragment),p=S(),V=y("div"),M=y("h6"),j=E("Ausdauer & Wunden"),D=S(),W=E(n[4]),A=S(),q=y("div"),U=y("div"),Me(K.$$.fragment),fe=S(),Me(ie.$$.fragment),ke=S(),ae=y("div"),P=y("div");for(let B=0;B<le.length;B+=1)le[B].c();J=S(),Z&&Z.c(),_e=S(),ge&&ge.c(),Q=S();for(let B=0;B<be.length;B+=1)be[B].c();ee=S(),Ee=y("div"),Me(ce.$$.fragment),this.h()},l(B){e=T(B,"H6",{});var N=w(e);t=$(N,"Mali"),N.forEach(_),l=O(B),Ne(i.$$.fragment,B),r=O(B),f=T(B,"H6",{});var L=w(f);u=$(L,"Aktionen"),L.forEach(_),o=O(B),s=T(B,"DIV",{class:!0});var G=w(s);Ne(c.$$.fragment,G),m=O(G),Ne(a.$$.fragment,G),d=O(G),Ne(h.$$.fragment,G),k=O(G),Ne(b.$$.fragment,G),G.forEach(_),p=O(B),V=T(B,"DIV",{});var H=w(V);M=T(H,"H6",{});var Ve=w(M);j=$(Ve,"Ausdauer & Wunden"),Ve.forEach(_),D=O(H),W=$(H,n[4]),A=O(H),q=T(H,"DIV",{style:!0});var we=w(q);U=T(we,"DIV",{style:!0});var Re=w(U);Ne(K.$$.fragment,Re),Re.forEach(_),fe=O(we),Ne(ie.$$.fragment,we),we.forEach(_),H.forEach(_),ke=O(B),ae=T(B,"DIV",{class:!0});var Se=w(ae);P=T(Se,"DIV",{class:!0,style:!0});var Be=w(P);for(let Ue=0;Ue<le.length;Ue+=1)le[Ue].l(Be);J=O(Be),Z&&Z.l(Be),_e=O(Be),ge&&ge.l(Be),Q=O(Be);for(let Ue=0;Ue<be.length;Ue+=1)be[Ue].l(Be);Be.forEach(_),Se.forEach(_),ee=O(B),Ee=T(B,"DIV",{style:!0});var Ke=w(Ee);Ne(ce.$$.fragment,Ke),Ke.forEach(_),this.h()},h(){z(s,"class","action-panels svelte-a4xlw9"),F(U,"width","20rem"),F(q,"display","flex"),F(q,"gap","1rem"),z(P,"class","kampf-info svelte-a4xlw9"),F(P,"grid-column","2"),F(P,"grid-row","1"),F(P,"display","flex"),F(P,"flex-wrap","wrap"),F(P,"justify-content","space-evenly "),F(P,"align-content","flex-start"),z(ae,"class","kampf-right"),F(Ee,"grid-column","1"),F(Ee,"grid-row","1")},m(B,N){g(B,e,N),v(e,t),g(B,l,N),Ie(i,B,N),g(B,r,N),g(B,f,N),v(f,u),g(B,o,N),g(B,s,N),Ie(c,s,null),v(s,m),Ie(a,s,null),v(s,d),Ie(h,s,null),v(s,k),Ie(b,s,null),g(B,p,N),g(B,V,N),v(V,M),v(M,j),v(V,D),v(V,W),v(V,A),v(V,q),v(q,U),Ie(K,U,null),v(q,fe),Ie(ie,q,null),g(B,ke,N),g(B,ae,N),v(ae,P);for(let L=0;L<le.length;L+=1)le[L].m(P,null);v(P,J),Z&&Z.m(P,null),v(P,_e),ge&&ge.m(P,null),v(P,Q);for(let L=0;L<be.length;L+=1)be[L].m(P,null);g(B,ee,N),g(B,Ee,N),Ie(ce,Ee,null),he=!0},p(B,[N]){var Ke,Ue;const L={};N&2&&(L.charData=B[1]),i.$set(L);const G={};N&2&&(G.charData=B[1]),c.$set(G);const H={};N&2&&(H.charData=B[1]),a.$set(H);const Ve={};N&2&&(Ve.charData=B[1]),h.$set(Ve);const we={};N&2&&(we.charData=B[1]),b.$set(we),(!he||N&16)&&I(W,B[4]);const Re={};N&2&&(Re.charData=B[1]),K.$set(Re);const Se=N&7?gi(R,[N&1&&{char:B[0]},N&4&&{data:B[2]},N&2&&ki(B[1].fatique)]):{};if(ie.$set(Se),N&37){te=Object.keys(B[2].besonderheitenCategoryMap);let Te;for(Te=0;Te<te.length;Te+=1){const ze=pl(B,te,Te);le[Te]?le[Te].p(ze,N):(le[Te]=El(ze),le[Te].c(),le[Te].m(P,J))}for(;Te<le.length;Te+=1)le[Te].d(1);le.length=te.length}if(N&5&&(oe=Object.keys(((Ke=B[2].fertigkeitenCategoryMap.Kampfstiele)==null?void 0:Ke.fertigkeiten)??{}).some(B[7])),oe?Z?Z.p(B,N):(Z=$l(B),Z.c(),Z.m(P,_e)):Z&&(Z.d(1),Z=null),N&5&&(x=Object.keys(((Ue=B[2].fertigkeitenCategoryMap.Kampf)==null?void 0:Ue.fertigkeiten)??{}).some(B[6])),x?ge?ge.p(B,N):(ge=yl(B),ge.c(),ge.m(P,Q)):ge&&(ge.d(1),ge=null),N&5){ve=Object.keys(bt(B[0].equipment,Ml));let Te;for(Te=0;Te<ve.length;Te+=1){const ze=hl(B,ve,Te);be[Te]?(be[Te].p(ze,N),X(be[Te],1)):(be[Te]=wl(ze),be[Te].c(),X(be[Te],1),be[Te].m(P,null))}for(Ce(),Te=ve.length;Te<be.length;Te+=1)Y(Te);je()}const Be={};N&1&&(Be.input=B[0]),N&4&&(Be.data=B[2]),ce.$set(Be)},i(B){if(!he){X(i.$$.fragment,B),X(c.$$.fragment,B),X(a.$$.fragment,B),X(h.$$.fragment,B),X(b.$$.fragment,B),X(K.$$.fragment,B),X(ie.$$.fragment,B);for(let N=0;N<ve.length;N+=1)X(be[N]);X(ce.$$.fragment,B),he=!0}},o(B){se(i.$$.fragment,B),se(c.$$.fragment,B),se(a.$$.fragment,B),se(h.$$.fragment,B),se(b.$$.fragment,B),se(K.$$.fragment,B),se(ie.$$.fragment,B),be=be.filter(Boolean);for(let N=0;N<be.length;N+=1)se(be[N]);se(ce.$$.fragment,B),he=!1},d(B){B&&_(e),B&&_(l),De(i,B),B&&_(r),B&&_(f),B&&_(o),B&&_(s),De(c),De(a),De(h),De(b),B&&_(p),B&&_(V),De(K),De(ie),B&&_(ke),B&&_(ae),$e(le,B),Z&&Z.d(),ge&&ge.d(),$e(be,B),B&&_(ee),B&&_(Ee),De(ce)}}}const Ml=n=>n.type=="closeCombatWeapon"&&(n.equiped.currentValue()??!1);function hr(n,e,t){let l,i,r=me,f=()=>(r(),r=We(l,M=>t(4,i=M)),l);n.$$.on_destroy.push(()=>r());let{char:u}=e,{charData:o}=e,{data:s}=e;function c(){if(u==null)return[];function M(D,W){const A=D.besonderheiten(...W);return Array.isArray(A)?A.flatMap(q=>M(D,[...W,q])):[W]}return M(u,[])}const m=M=>{var j;return(((j=u==null?void 0:u.fertigkeiten[M])==null?void 0:j.effective.currentValue({defaultValue:0}))??0)>0},a=M=>{var j;return(((j=u==null?void 0:u.fertigkeiten[M])==null?void 0:j.effective.currentValue({defaultValue:0}))??0)>0},d=(M,[j])=>Object.keys((s==null?void 0:s.besonderheitenCategoryMap[M])??{}).includes(j)??!1,h=M=>{const j=u==null?void 0:u.besonderheiten(...M);return tt(j)?j.effective.currentValue({defaultValue:0})>0&&((s==null?void 0:s.besonderheitenMap[M[0]].SubKategorie)??[]).includes("Kampf"):!1},k=(M,[j])=>Object.keys((s==null?void 0:s.besonderheitenCategoryMap[M])??{}).includes(j)??!1,b=M=>{const j=u==null?void 0:u.besonderheiten(...M);return tt(j)?j.effective.currentValue({defaultValue:0})>0&&((s==null?void 0:s.besonderheitenMap[M[0]].SubKategorie)??[]).includes("Kampf"):!1},p=M=>((u==null?void 0:u.fertigkeiten[M].effective.currentValue({defaultValue:0}))??0)>0,V=M=>((u==null?void 0:u.fertigkeiten[M].effective.currentValue({defaultValue:0}))??0)>0;return n.$$set=M=>{"char"in M&&t(0,u=M.char),"charData"in M&&t(1,o=M.charData),"data"in M&&t(2,s=M.data)},n.$$.update=()=>{n.$$.dirty&2&&f(t(3,l=o.defaultErschwernis))},[u,o,s,l,i,c,m,a,d,h,k,b,p,V]}class mr extends qe{constructor(e){super(),Fe(this,e,hr,cr,Ge,{char:0,charData:1,data:2})}}function Nl(n,e,t){const l=n.slice();return l[18]=e[t],l}function Il(n,e,t){const l=n.slice();return l[21]=e[t],l}function Dl(n,e,t){const l=n.slice();return l[18]=e[t],l}function Al(n,e,t){var r;const l=n.slice();l[21]=e[t];const i=(r=l[0])==null?void 0:r.besonderheiten(...l[21]);return l[26]=i,l}function Sl(n,e,t){const l=n.slice();return l[29]=e[t],l}function Ol(n,e,t){const l=n.slice();l[32]=e[t];const i=l[32].meta.currentValue({defaultValue:void 0});l[33]=i;const r=l[32].effective.currentValue({defaultValue:void 0});return l[34]=r,l}function Ll(n,e,t){const l=n.slice();return l[37]=e[t],l}function zl(n){var r;let e,t=Qe(Pe([...Object.values(((r=n[0])==null?void 0:r.lebensAbschnitteStore.currentValue({defaultValue:void 0}))??{})]).map(n[8]).filter(n[9])??[])+"",l,i;return{c(){e=E("("),l=E(t),i=E(")")},l(f){e=$(f,"("),l=$(f,t),i=$(f,")")},m(f,u){g(f,e,u),g(f,l,u),g(f,i,u)},p(f,u){var o;u[0]&1&&t!==(t=Qe(Pe([...Object.values(((o=f[0])==null?void 0:o.lebensAbschnitteStore.currentValue({defaultValue:void 0}))??{})]).map(f[8]).filter(f[9])??[])+"")&&I(l,t)},d(f){f&&_(e),f&&_(l),f&&_(i)}}}function Pl(n){var c;let e,t,l=ne(n[1].pfadCategoryMap[n[37]].Name)+"",i,r,f=Qe(Object.entries((c=n[0])==null?void 0:c.pfad).filter(s).filter(n[11]).map(n[12]).sort())+"",u,o;function s(...m){return n[10](n[37],...m)}return{c(){e=y("tr"),t=y("td"),i=E(l),r=y("td"),u=E(f),o=S()},l(m){e=T(m,"TR",{});var a=w(e);t=T(a,"TD",{});var d=w(t);i=$(d,l),d.forEach(_),r=T(a,"TD",{});var h=w(r);u=$(h,f),o=O(h),h.forEach(_),a.forEach(_)},m(m,a){g(m,e,a),v(e,t),v(t,i),v(e,r),v(r,u),v(r,o)},p(m,a){var d;n=m,a[0]&2&&l!==(l=ne(n[1].pfadCategoryMap[n[37]].Name)+"")&&I(i,l),a[0]&3&&f!==(f=Qe(Object.entries((d=n[0])==null?void 0:d.pfad).filter(s).filter(n[11]).map(n[12]).sort())+"")&&I(u,f)},d(m){m&&_(e)}}}function dr(n){var r;let e,t,l=ne((r=n[32].meta.currentValue({defaultValue:void 0}))==null?void 0:r.Name)+"",i;return{c(){e=y("tr"),t=y("td"),i=E(l),this.h()},l(f){e=T(f,"TR",{});var u=w(e);t=T(u,"TD",{colspan:!0});var o=w(t);i=$(o,l),o.forEach(_),u.forEach(_),this.h()},h(){z(t,"colspan","2")},m(f,u){g(f,e,u),v(e,t),v(t,i)},p(f,u){var o;u[0]&3&&l!==(l=ne((o=f[32].meta.currentValue({defaultValue:void 0}))==null?void 0:o.Name)+"")&&I(i,l)},d(f){f&&_(e)}}}function pr(n){var m;let e,t,l=ne((m=n[32].meta.currentValue({defaultValue:void 0}))==null?void 0:m.Name)+"",i,r,f=Math.round(n[34]*100)/100+"",u,o,s=(n[33].einheit??"")+"",c;return{c(){e=y("tr"),t=y("td"),i=E(l),r=y("td"),u=E(f),o=S(),c=E(s)},l(a){e=T(a,"TR",{});var d=w(e);t=T(d,"TD",{});var h=w(t);i=$(h,l),h.forEach(_),r=T(d,"TD",{});var k=w(r);u=$(k,f),o=O(k),c=$(k,s),k.forEach(_),d.forEach(_)},m(a,d){g(a,e,d),v(e,t),v(t,i),v(e,r),v(r,u),v(r,o),v(r,c)},p(a,d){var h;d[0]&3&&l!==(l=ne((h=a[32].meta.currentValue({defaultValue:void 0}))==null?void 0:h.Name)+"")&&I(i,l),d[0]&3&&f!==(f=Math.round(a[34]*100)/100+"")&&I(u,f),d[0]&3&&s!==(s=(a[33].einheit??"")+"")&&I(c,s)},d(a){a&&_(e)}}}function br(n){let e,t,l=ne(n[33].Name)+"",i,r,f=Math.round(n[34]*100)/100+"",u,o,s=(n[33].einheit??"")+"",c;return{c(){e=y("tr"),t=y("td"),i=E(l),r=y("td"),u=E(f),o=S(),c=E(s)},l(m){e=T(m,"TR",{});var a=w(e);t=T(a,"TD",{});var d=w(t);i=$(d,l),d.forEach(_),r=T(a,"TD",{});var h=w(r);u=$(h,f),o=O(h),c=$(h,s),h.forEach(_),a.forEach(_)},m(m,a){g(m,e,a),v(e,t),v(t,i),v(e,r),v(r,u),v(r,o),v(r,c)},p(m,a){a[0]&3&&l!==(l=ne(m[33].Name)+"")&&I(i,l),a[0]&3&&f!==(f=Math.round(m[34]*100)/100+"")&&I(u,f),a[0]&3&&s!==(s=(m[33].einheit??"")+"")&&I(c,s)},d(m){m&&_(e)}}}function vr(n){var a;let e,t,l=ne((a=n[32].meta.currentValue({defaultValue:void 0}))==null?void 0:a.Name)+"",i,r,f,u=(n[33].einheit??"")+"",o;function s(d,h){return d[33].diskret?kr:gr}let c=s(n),m=c(n);return{c(){e=y("tr"),t=y("td"),i=E(l),r=y("td"),m.c(),f=S(),o=E(u)},l(d){e=T(d,"TR",{});var h=w(e);t=T(h,"TD",{});var k=w(t);i=$(k,l),k.forEach(_),r=T(h,"TD",{});var b=w(r);m.l(b),f=O(b),o=$(b,u),b.forEach(_),h.forEach(_)},m(d,h){g(d,e,h),v(e,t),v(t,i),v(e,r),m.m(r,null),v(r,f),v(r,o)},p(d,h){var k;h[0]&3&&l!==(l=ne((k=d[32].meta.currentValue({defaultValue:void 0}))==null?void 0:k.Name)+"")&&I(i,l),c===(c=s(d))&&m?m.p(d,h):(m.d(1),m=c(d),m&&(m.c(),m.m(r,f))),h[0]&3&&u!==(u=(d[33].einheit??"")+"")&&I(o,u)},d(d){d&&_(e),m.d()}}}function gr(n){let e=Math.round((n[34]??n[33].default)*100)/100+"",t;return{c(){t=E(e)},l(l){t=$(l,e)},m(l,i){g(l,t,i)},p(l,i){i[0]&3&&e!==(e=Math.round((l[34]??l[33].default)*100)/100+"")&&I(t,e)},d(l){l&&_(t)}}}function kr(n){let e=(n[34]??n[33].default)+"",t;return{c(){t=E(e)},l(l){t=$(l,e)},m(l,i){g(l,t,i)},p(l,i){i[0]&3&&e!==(e=(l[34]??l[33].default)+"")&&I(t,e)},d(l){l&&_(t)}}}function Rl(n){let e;function t(r,f){if(r[33]&&r[33].type=="bereich")return vr;if(r[33]&&r[33].type=="berechnung"&&r[34])return br;if(r[33]&&r[33].type=="reihe"&&r[34])return pr;if(r[33]&&r[33].type=="punkt"&&r[34]==1)return dr}let l=t(n),i=l&&l(n);return{c(){i&&i.c(),e=ue()},l(r){i&&i.l(r),e=ue()},m(r,f){i&&i.m(r,f),g(r,e,f)},p(r,f){l===(l=t(r))&&i?i.p(r,f):(i&&i.d(1),i=l&&l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i&&i.d(r),r&&_(e)}}}function Bl(n){var h;let e,t,l,i=ne(n[29].Name)+"",r,f,u,o,s,c;function m(...k){return n[13](n[29],...k)}let a=Object.values((h=n[0])==null?void 0:h.eigenschaften).filter(m).sort(n[14]),d=[];for(let k=0;k<a.length;k+=1)d[k]=Rl(Ol(n,a,k));return{c(){e=y("table"),t=y("thead"),l=y("th"),r=E(i),f=S(),u=y("th"),o=E("Aktuell"),s=S();for(let k=0;k<d.length;k+=1)d[k].c();c=S(),this.h()},l(k){e=T(k,"TABLE",{class:!0});var b=w(e);t=T(b,"THEAD",{});var p=w(t);l=T(p,"TH",{});var V=w(l);r=$(V,i),V.forEach(_),f=O(p),u=T(p,"TH",{});var M=w(u);o=$(M,"Aktuell"),M.forEach(_),p.forEach(_),s=O(b);for(let j=0;j<d.length;j+=1)d[j].l(b);c=O(b),b.forEach(_),this.h()},h(){z(e,"class","eigenschaften")},m(k,b){g(k,e,b),v(e,t),v(t,l),v(l,r),v(t,f),v(t,u),v(u,o),v(e,s);for(let p=0;p<d.length;p+=1)d[p].m(e,null);v(e,c)},p(k,b){var p;if(n=k,b[0]&2&&i!==(i=ne(n[29].Name)+"")&&I(r,i),b[0]&3){a=Object.values((p=n[0])==null?void 0:p.eigenschaften).filter(m).sort(n[14]);let V;for(V=0;V<a.length;V+=1){const M=Ol(n,a,V);d[V]?d[V].p(M,b):(d[V]=Rl(M),d[V].c(),d[V].m(e,c))}for(;V<d.length;V+=1)d[V].d(1);d.length=a.length}},d(k){k&&_(e),$e(d,k)}}}function Cl(n){let e,t,l=n[18]+"",i,r,f,u,o;function s(...a){return n[15](n[18],...a)}let c=n[2]().filter(s).filter(n[16]),m=[];for(let a=0;a<c.length;a+=1)m[a]=Ul(Al(n,c,a));return{c(){e=y("div"),t=y("strong"),i=E(l),r=S(),f=y("ul");for(let a=0;a<m.length;a+=1)m[a].c();u=S(),o=y("hr"),this.h()},l(a){e=T(a,"DIV",{class:!0});var d=w(e);t=T(d,"STRONG",{});var h=w(t);i=$(h,l),h.forEach(_),r=O(d),f=T(d,"UL",{});var k=w(f);for(let b=0;b<m.length;b+=1)m[b].l(k);k.forEach(_),u=O(d),o=T(d,"HR",{}),d.forEach(_),this.h()},h(){z(e,"class","list")},m(a,d){g(a,e,d),v(e,t),v(t,i),v(e,r),v(e,f);for(let h=0;h<m.length;h+=1)m[h].m(f,null);v(e,u),v(e,o)},p(a,d){if(n=a,d[0]&2&&l!==(l=n[18]+"")&&I(i,l),d[0]&7){c=n[2]().filter(s).filter(n[16]);let h;for(h=0;h<c.length;h+=1){const k=Al(n,c,h);m[h]?m[h].p(k,d):(m[h]=Ul(k),m[h].c(),m[h].m(f,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=c.length}},d(a){a&&_(e),$e(m,a)}}}function jl(n){let e,t,l,i;function r(o,s){return s[0]&3&&(t=null),s[0]&3&&(l=null),t==null&&(t=(o[26].effective.currentValue({defaultValue:0})??0)==0),t?Vr:(l==null&&(l=(o[26].effective.currentValue({defaultValue:0})??0)<(o[26].unconditionally.currentValue({defaultValue:0})??0)),l?$r:Er)}let f=r(n,[-1,-1]),u=f(n);return{c(){e=y("li"),u.c(),i=S()},l(o){e=T(o,"LI",{});var s=w(e);u.l(s),i=O(s),s.forEach(_)},m(o,s){g(o,e,s),u.m(e,null),v(e,i)},p(o,s){f===(f=r(o,s))&&u?u.p(o,s):(u.d(1),u=f(o),u&&(u.c(),u.m(e,i)))},d(o){o&&_(e),u.d()}}}function Er(n){let e=Xe(n[1].besonderheitenMap[n[21][0]],n[26].effective.currentValue({defaultValue:0})??0,n[0],...lt(n[21]))+"",t;return{c(){t=E(e)},l(l){t=$(l,e)},m(l,i){g(l,t,i)},p(l,i){i[0]&3&&e!==(e=Xe(l[1].besonderheitenMap[l[21][0]],l[26].effective.currentValue({defaultValue:0})??0,l[0],...lt(l[21]))+"")&&I(t,e)},d(l){l&&_(t)}}}function $r(n){let e=Xe(n[1].besonderheitenMap[n[21][0]],n[26].effective.currentValue({defaultValue:0})??0,n[0])+"",t,l,i,r,f=Xe(n[1].besonderheitenMap[n[21][0]],n[26].unconditionally.currentValue({defaultValue:0})??0,n[0],...lt(n[21]))+"",u,o;return{c(){t=E(e),l=S(),i=y("span"),r=E("("),u=E(f),o=E(")"),this.h()},l(s){t=$(s,e),l=O(s),i=T(s,"SPAN",{class:!0});var c=w(i);r=$(c,"("),u=$(c,f),o=$(c,")"),c.forEach(_),this.h()},h(){z(i,"class","light")},m(s,c){g(s,t,c),g(s,l,c),g(s,i,c),v(i,r),v(i,u),v(i,o)},p(s,c){c[0]&3&&e!==(e=Xe(s[1].besonderheitenMap[s[21][0]],s[26].effective.currentValue({defaultValue:0})??0,s[0])+"")&&I(t,e),c[0]&3&&f!==(f=Xe(s[1].besonderheitenMap[s[21][0]],s[26].unconditionally.currentValue({defaultValue:0})??0,s[0],...lt(s[21]))+"")&&I(u,f)},d(s){s&&_(t),s&&_(l),s&&_(i)}}}function Vr(n){let e,t=Xe(n[1].besonderheitenMap[n[21][0]],n[26].unconditionally.currentValue({defaultValue:0})??0,n[0],...lt(n[21]))+"",l;return{c(){e=y("span"),l=E(t),this.h()},l(i){e=T(i,"SPAN",{class:!0});var r=w(e);l=$(r,t),r.forEach(_),this.h()},h(){z(e,"class","light")},m(i,r){g(i,e,r),v(e,l)},p(i,r){r[0]&3&&t!==(t=Xe(i[1].besonderheitenMap[i[21][0]],i[26].unconditionally.currentValue({defaultValue:0})??0,i[0],...lt(i[21]))+"")&&I(l,t)},d(i){i&&_(e)}}}function Ul(n){let e=tt(n[26]),t,l=e&&jl(n);return{c(){l&&l.c(),t=ue()},l(i){l&&l.l(i),t=ue()},m(i,r){l&&l.m(i,r),g(i,t,r)},p(i,r){r[0]&3&&(e=tt(i[26])),e?l?l.p(i,r):(l=jl(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&_(t)}}}function Wl(n){let e=n[2]().filter(l).some(n[5]),t;function l(...r){return n[4](n[18],...r)}let i=e&&Cl(n);return{c(){i&&i.c(),t=ue()},l(r){i&&i.l(r),t=ue()},m(r,f){i&&i.m(r,f),g(r,t,f)},p(r,f){n=r,f[0]&3&&(e=n[2]().filter(l).some(n[5])),e?i?i.p(n,f):(i=Cl(n),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(r){i&&i.d(r),r&&_(t)}}}function ql(n){let e,t,l=n[18]+"",i,r,f,u,o,s,c=Object.keys(n[1].fertigkeitenCategoryMap[n[18]].fertigkeiten).filter(n[17]),m=[];for(let a=0;a<c.length;a+=1)m[a]=Fl(Il(n,c,a));return{c(){e=y("div"),t=y("strong"),i=E(l),r=S(),f=y("ul");for(let a=0;a<m.length;a+=1)m[a].c();u=S(),o=y("hr"),s=S(),this.h()},l(a){e=T(a,"DIV",{class:!0});var d=w(e);t=T(d,"STRONG",{});var h=w(t);i=$(h,l),h.forEach(_),r=O(d),f=T(d,"UL",{});var k=w(f);for(let b=0;b<m.length;b+=1)m[b].l(k);k.forEach(_),u=O(d),o=T(d,"HR",{}),s=O(d),d.forEach(_),this.h()},h(){z(e,"class","list")},m(a,d){g(a,e,d),v(e,t),v(t,i),v(e,r),v(e,f);for(let h=0;h<m.length;h+=1)m[h].m(f,null);v(e,u),v(e,o),v(e,s)},p(a,d){if(d[0]&2&&l!==(l=a[18]+"")&&I(i,l),d[0]&3){c=Object.keys(a[1].fertigkeitenCategoryMap[a[18]].fertigkeiten).filter(a[17]);let h;for(h=0;h<c.length;h+=1){const k=Il(a,c,h);m[h]?m[h].p(k,d):(m[h]=Fl(k),m[h].c(),m[h].m(f,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=c.length}},d(a){a&&_(e),$e(m,a)}}}function yr(n){var l;let e=Je(n[1].fertigkeitenMap[n[21]],((l=n[0])==null?void 0:l.fertigkeiten[n[21]].effective.currentValue({defaultValue:0}))??0,n[0])+"",t;return{c(){t=E(e)},l(i){t=$(i,e)},m(i,r){g(i,t,r)},p(i,r){var f;r[0]&3&&e!==(e=Je(i[1].fertigkeitenMap[i[21]],((f=i[0])==null?void 0:f.fertigkeiten[i[21]].effective.currentValue({defaultValue:0}))??0,i[0])+"")&&I(t,e)},d(i){i&&_(t)}}}function Tr(n){var s,c;let e=Je(n[1].fertigkeitenMap[n[21]],((s=n[0])==null?void 0:s.fertigkeiten[n[21]].effective.currentValue({defaultValue:0}))??0,n[0])+"",t,l,i,r,f=Je(n[1].fertigkeitenMap[n[21]],((c=n[0])==null?void 0:c.fertigkeiten[n[21]].unconditionally.currentValue({defaultValue:0}))??0,n[0])+"",u,o;return{c(){t=E(e),l=S(),i=y("span"),r=E("("),u=E(f),o=E(")"),this.h()},l(m){t=$(m,e),l=O(m),i=T(m,"SPAN",{class:!0});var a=w(i);r=$(a,"("),u=$(a,f),o=$(a,")"),a.forEach(_),this.h()},h(){z(i,"class","light")},m(m,a){g(m,t,a),g(m,l,a),g(m,i,a),v(i,r),v(i,u),v(i,o)},p(m,a){var d,h;a[0]&3&&e!==(e=Je(m[1].fertigkeitenMap[m[21]],((d=m[0])==null?void 0:d.fertigkeiten[m[21]].effective.currentValue({defaultValue:0}))??0,m[0])+"")&&I(t,e),a[0]&3&&f!==(f=Je(m[1].fertigkeitenMap[m[21]],((h=m[0])==null?void 0:h.fertigkeiten[m[21]].unconditionally.currentValue({defaultValue:0}))??0,m[0])+"")&&I(u,f)},d(m){m&&_(t),m&&_(l),m&&_(i)}}}function wr(n){var i;let e,t=Je(n[1].fertigkeitenMap[n[21]],((i=n[0])==null?void 0:i.fertigkeiten[n[21]].unconditionally.currentValue({defaultValue:0}))??0,n[0])+"",l;return{c(){e=y("span"),l=E(t),this.h()},l(r){e=T(r,"SPAN",{class:!0});var f=w(e);l=$(f,t),f.forEach(_),this.h()},h(){z(e,"class","light")},m(r,f){g(r,e,f),v(e,l)},p(r,f){var u;f[0]&3&&t!==(t=Je(r[1].fertigkeitenMap[r[21]],((u=r[0])==null?void 0:u.fertigkeiten[r[21]].unconditionally.currentValue({defaultValue:0}))??0,r[0])+"")&&I(l,t)},d(r){r&&_(e)}}}function Fl(n){let e,t,l,i;function r(o,s){var c,m,a;return s[0]&3&&(t=null),s[0]&3&&(l=null),t==null&&(t=(((c=o[0])==null?void 0:c.fertigkeiten[o[21]].effective.currentValue({defaultValue:0}))??0)==0),t?wr:(l==null&&(l=(((m=o[0])==null?void 0:m.fertigkeiten[o[21]].effective.currentValue({defaultValue:0}))??0)<(((a=o[0])==null?void 0:a.fertigkeiten[o[21]].unconditionally.currentValue({defaultValue:0}))??0)),l?Tr:yr)}let f=r(n,[-1,-1]),u=f(n);return{c(){e=y("li"),u.c(),i=S()},l(o){e=T(o,"LI",{});var s=w(e);u.l(s),i=O(s),s.forEach(_)},m(o,s){g(o,e,s),u.m(e,null),v(e,i)},p(o,s){f===(f=r(o,s))&&u?u.p(o,s):(u.d(1),u=f(o),u&&(u.c(),u.m(e,i)))},d(o){o&&_(e),u.d()}}}function Gl(n){let e=Object.keys(n[1].fertigkeitenCategoryMap[n[18]].fertigkeiten).some(n[3]),t,l=e&&ql(n);return{c(){l&&l.c(),t=ue()},l(i){l&&l.l(i),t=ue()},m(i,r){l&&l.m(i,r),g(i,t,r)},p(i,r){r[0]&3&&(e=Object.keys(i[1].fertigkeitenCategoryMap[i[18]].fertigkeiten).some(i[3])),e?l?l.p(i,r):(l=ql(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&_(t)}}}function Mr(n){var ge,ve,be,Y,C,pe,B,N,L,G;let e,t,l,i,r,f,u,o,s,c=((ge=n[0])==null?void 0:ge.nameStore.currentValue())+"",m,a,d,h,k,b,p=ne((be=(ve=n[0])==null?void 0:ve.gattungsStore.currentValue({defaultValue:void 0}))==null?void 0:be.Name,n[0])+"",V,M,j=ne((C=(Y=n[0])==null?void 0:Y.artStore.currentValue({defaultValue:void 0}))==null?void 0:C.Art,n[0])+"",D,W,A=ne((B=(pe=n[0])==null?void 0:pe.artStore.currentValue({defaultValue:void 0}))==null?void 0:B.Name,n[0])+"",q,U,K=ne((L=(N=n[0])==null?void 0:N.morphStore.currentValue({defaultValue:void 0}))==null?void 0:L.Name,n[0])+"",fe,ie,ke=(Pe([...Object.values(((G=n[0])==null?void 0:G.lebensAbschnitteStore.currentValue({defaultValue:void 0}))??{})]).map(n[6]).filter(n[7])??[]).length>0,ae,P,J,oe,_e,x,Q;l=new Li({});let ee=ke&&zl(n),Ee=Object.keys(n[1].pfadCategoryMap),ce=[];for(let H=0;H<Ee.length;H+=1)ce[H]=Pl(Ll(n,Ee,H));let he=n[1].Instance.Daten.Organismen.EigenschaftenGruppen.Gruppe,R=[];for(let H=0;H<he.length;H+=1)R[H]=Bl(Sl(n,he,H));let re=Object.keys(n[1].besonderheitenCategoryMap),te=[];for(let H=0;H<re.length;H+=1)te[H]=Wl(Dl(n,re,H));let le=Object.keys(n[1].fertigkeitenCategoryMap),Z=[];for(let H=0;H<le.length;H+=1)Z[H]=Gl(Nl(n,le,H));return{c(){e=y("div"),t=y("div"),Me(l.$$.fragment),i=S(),r=y("table"),f=y("tr"),u=y("td"),o=E("Name "),s=y("td"),m=E(c),a=S(),d=y("tr"),h=y("td"),k=E("Gattung/Art"),b=y("td"),V=E(p),M=S(),D=E(j),W=E(`
            (`),q=E(A),U=E(`)
            `),fe=E(K),ie=S(),ee&&ee.c(),ae=S();for(let H=0;H<ce.length;H+=1)ce[H].c();P=S(),J=y("div");for(let H=0;H<R.length;H+=1)R[H].c();oe=S(),_e=y("div");for(let H=0;H<te.length;H+=1)te[H].c();x=S();for(let H=0;H<Z.length;H+=1)Z[H].c();this.h()},l(H){e=T(H,"DIV",{class:!0});var Ve=w(e);t=T(Ve,"DIV",{style:!0});var we=w(t);Ne(l.$$.fragment,we),we.forEach(_),Ve.forEach(_),i=O(H),r=T(H,"TABLE",{class:!0});var Re=w(r);f=T(Re,"TR",{});var Se=w(f);u=T(Se,"TD",{});var Be=w(u);o=$(Be,"Name "),Be.forEach(_),s=T(Se,"TD",{});var Ke=w(s);m=$(Ke,c),Ke.forEach(_),Se.forEach(_),a=O(Re),d=T(Re,"TR",{});var Ue=w(d);h=T(Ue,"TD",{});var Te=w(h);k=$(Te,"Gattung/Art"),Te.forEach(_),b=T(Ue,"TD",{});var ze=w(b);V=$(ze,p),M=O(ze),D=$(ze,j),W=$(ze,`
            (`),q=$(ze,A),U=$(ze,`)
            `),fe=$(ze,K),ie=O(ze),ee&&ee.l(ze),ze.forEach(_),Ue.forEach(_),ae=O(Re);for(let de=0;de<ce.length;de+=1)ce[de].l(Re);Re.forEach(_),P=O(H),J=T(H,"DIV",{style:!0});var xe=w(J);for(let de=0;de<R.length;de+=1)R[de].l(xe);xe.forEach(_),oe=O(H),_e=T(H,"DIV",{class:!0});var Ae=w(_e);for(let de=0;de<te.length;de+=1)te[de].l(Ae);x=O(Ae);for(let de=0;de<Z.length;de+=1)Z[de].l(Ae);Ae.forEach(_),this.h()},h(){F(t,"height","200xp"),F(t,"width","200px"),z(e,"class","header"),z(r,"class","stammdaten"),F(J,"column-count","2"),F(J,"column-gap","1em"),z(_e,"class","extra")},m(H,Ve){g(H,e,Ve),v(e,t),Ie(l,t,null),g(H,i,Ve),g(H,r,Ve),v(r,f),v(f,u),v(u,o),v(f,s),v(s,m),v(r,a),v(r,d),v(d,h),v(h,k),v(d,b),v(b,V),v(b,M),v(b,D),v(b,W),v(b,q),v(b,U),v(b,fe),v(b,ie),ee&&ee.m(b,null),v(r,ae);for(let we=0;we<ce.length;we+=1)ce[we].m(r,null);g(H,P,Ve),g(H,J,Ve);for(let we=0;we<R.length;we+=1)R[we].m(J,null);g(H,oe,Ve),g(H,_e,Ve);for(let we=0;we<te.length;we+=1)te[we].m(_e,null);v(_e,x);for(let we=0;we<Z.length;we+=1)Z[we].m(_e,null);Q=!0},p(H,Ve){var we,Re,Se,Be,Ke,Ue,Te,ze,xe,Ae;if((!Q||Ve[0]&1)&&c!==(c=((we=H[0])==null?void 0:we.nameStore.currentValue())+"")&&I(m,c),(!Q||Ve[0]&1)&&p!==(p=ne((Se=(Re=H[0])==null?void 0:Re.gattungsStore.currentValue({defaultValue:void 0}))==null?void 0:Se.Name,H[0])+"")&&I(V,p),(!Q||Ve[0]&1)&&j!==(j=ne((Ke=(Be=H[0])==null?void 0:Be.artStore.currentValue({defaultValue:void 0}))==null?void 0:Ke.Art,H[0])+"")&&I(D,j),(!Q||Ve[0]&1)&&A!==(A=ne((Te=(Ue=H[0])==null?void 0:Ue.artStore.currentValue({defaultValue:void 0}))==null?void 0:Te.Name,H[0])+"")&&I(q,A),(!Q||Ve[0]&1)&&K!==(K=ne((xe=(ze=H[0])==null?void 0:ze.morphStore.currentValue({defaultValue:void 0}))==null?void 0:xe.Name,H[0])+"")&&I(fe,K),Ve[0]&1&&(ke=(Pe([...Object.values(((Ae=H[0])==null?void 0:Ae.lebensAbschnitteStore.currentValue({defaultValue:void 0}))??{})]).map(H[6]).filter(H[7])??[]).length>0),ke?ee?ee.p(H,Ve):(ee=zl(H),ee.c(),ee.m(b,null)):ee&&(ee.d(1),ee=null),Ve[0]&3){Ee=Object.keys(H[1].pfadCategoryMap);let de;for(de=0;de<Ee.length;de+=1){const Ye=Ll(H,Ee,de);ce[de]?ce[de].p(Ye,Ve):(ce[de]=Pl(Ye),ce[de].c(),ce[de].m(r,null))}for(;de<ce.length;de+=1)ce[de].d(1);ce.length=Ee.length}if(Ve[0]&3){he=H[1].Instance.Daten.Organismen.EigenschaftenGruppen.Gruppe;let de;for(de=0;de<he.length;de+=1){const Ye=Sl(H,he,de);R[de]?R[de].p(Ye,Ve):(R[de]=Bl(Ye),R[de].c(),R[de].m(J,null))}for(;de<R.length;de+=1)R[de].d(1);R.length=he.length}if(Ve[0]&7){re=Object.keys(H[1].besonderheitenCategoryMap);let de;for(de=0;de<re.length;de+=1){const Ye=Dl(H,re,de);te[de]?te[de].p(Ye,Ve):(te[de]=Wl(Ye),te[de].c(),te[de].m(_e,x))}for(;de<te.length;de+=1)te[de].d(1);te.length=re.length}if(Ve[0]&3){le=Object.keys(H[1].fertigkeitenCategoryMap);let de;for(de=0;de<le.length;de+=1){const Ye=Nl(H,le,de);Z[de]?Z[de].p(Ye,Ve):(Z[de]=Gl(Ye),Z[de].c(),Z[de].m(_e,null))}for(;de<Z.length;de+=1)Z[de].d(1);Z.length=le.length}},i(H){Q||(X(l.$$.fragment,H),Q=!0)},o(H){se(l.$$.fragment,H),Q=!1},d(H){H&&_(e),De(l),H&&_(i),H&&_(r),ee&&ee.d(),$e(ce,H),H&&_(P),H&&_(J),$e(R,H),H&&_(oe),H&&_(_e),$e(te,H),$e(Z,H)}}}function Nr(n,e,t){let{char:l}=e,{data:i}=e;function r(){if(l==null)return[];function D(A,q){const U=A.besonderheiten(...q);return Array.isArray(U)?U.flatMap(K=>D(A,[...q,K])):[q]}return D(l,[])}const f=D=>{var W;return(((W=l==null?void 0:l.fertigkeiten[D])==null?void 0:W.unconditionally.currentValue({defaultValue:0}))??0)>0},u=(D,[W])=>Object.keys((i==null?void 0:i.besonderheitenCategoryMap[D])??{}).includes(W)??!1,o=D=>{const W=l==null?void 0:l.besonderheiten(...D);return tt(W)?W.unconditionally.currentValue({defaultValue:0})>0:!1},s=D=>ne(D.Name,l),c=D=>D!=""&&D!=null,m=D=>ne(D.Name,l),a=D=>D!=""&&D!=null,d=(D,[W,A])=>(i==null?void 0:i.pfadCategoryMap[D].levels[W])!=null,h=([D,W])=>Object.values(W).some(A=>(A.effective.currentValue({defaultValue:0})??0)>0),k=([D])=>ne(i==null?void 0:i.pfadMap[D].Name,l),b=(D,W)=>{var A;return((A=W.meta.currentValue({defaultValue:void 0}))==null?void 0:A.gruppe)==D.id},p=(D,W)=>{var A,q;return(((A=D.meta.currentValue({defaultValue:void 0}))==null?void 0:A.Reihenfolge)??0)-(((q=W.meta.currentValue({defaultValue:void 0}))==null?void 0:q.Reihenfolge)??0)},V=(D,[W])=>Object.keys((i==null?void 0:i.besonderheitenCategoryMap[D])??{}).includes(W)??!1,M=D=>{const W=l==null?void 0:l.besonderheiten(...D);return tt(W)?W.unconditionally.currentValue({defaultValue:0})>0:!1},j=D=>{var W;return(((W=l==null?void 0:l.fertigkeiten[D])==null?void 0:W.unconditionally.currentValue({defaultValue:0}))??0)>0};return n.$$set=D=>{"char"in D&&t(0,l=D.char),"data"in D&&t(1,i=D.data)},[l,i,r,f,u,o,s,c,m,a,d,h,k,b,p,V,M,j]}class Ir extends qe{constructor(e){super(),Fe(this,e,Nr,Mr,Ge,{char:0,data:1},null,[-1,-1])}}function Kl(n,e,t){const l=n.slice();return l[10]=e[t],l}function Hl(n,e,t){const l=n.slice();l[13]=e[t];const i=l[0].talente[l[13]];l[14]=i;const r=l[1].talentMap[l[13]];return l[15]=r,l}function Ql(n,e,t){const l=n.slice();return l[18]=e[t][0],l[19]=e[t][1],l}function Dr(n){let e,t,l,i,r=n[10]+"",f,u,o,s,c,m,a;return{c(){e=y("table"),t=y("thead"),l=y("tr"),i=y("th"),f=E(r),u=S(),o=y("tbody"),s=y("tr"),c=y("td"),m=E("Keine Erlernten Talente"),a=S(),this.h()},l(d){e=T(d,"TABLE",{class:!0});var h=w(e);t=T(h,"THEAD",{});var k=w(t);l=T(k,"TR",{});var b=w(l);i=T(b,"TH",{colspan:!0,style:!0});var p=w(i);f=$(p,r),p.forEach(_),b.forEach(_),k.forEach(_),u=O(h),o=T(h,"TBODY",{});var V=w(o);s=T(V,"TR",{});var M=w(s);c=T(M,"TD",{});var j=w(c);m=$(j,"Keine Erlernten Talente"),j.forEach(_),M.forEach(_),V.forEach(_),a=O(h),h.forEach(_),this.h()},h(){z(i,"colspan","2"),F(i,"padding-top","0.5em"),F(i,"padding-bottom","0.5em"),F(i,"font-size","large"),z(e,"class","talent")},m(d,h){g(d,e,h),v(e,t),v(t,l),v(l,i),v(i,f),v(e,u),v(e,o),v(o,s),v(s,c),v(c,m),v(e,a)},p(d,h){h&2&&r!==(r=d[10]+"")&&I(f,r)},d(d){d&&_(e)}}}function Ar(n){var M,j;let e,t,l,i,r=n[10]+"",f,u,o,s,c,m,a,d,h,k,b,p=Object.keys(((j=(M=n[1])==null?void 0:M.talentCategoryMap[n[10]])==null?void 0:j.talente)??{}).sort(),V=[];for(let D=0;D<p.length;D+=1)V[D]=xl(Hl(n,p,D));return{c(){e=y("table"),t=y("thead"),l=y("tr"),i=y("th"),f=E(r),u=S(),o=y("tr"),s=y("th"),c=E("Name"),m=S(),a=y("th"),d=E("TaW"),h=S(),k=y("tbody");for(let D=0;D<V.length;D+=1)V[D].c();b=S(),this.h()},l(D){e=T(D,"TABLE",{class:!0});var W=w(e);t=T(W,"THEAD",{});var A=w(t);l=T(A,"TR",{});var q=w(l);i=T(q,"TH",{colspan:!0,style:!0});var U=w(i);f=$(U,r),U.forEach(_),q.forEach(_),u=O(A),o=T(A,"TR",{});var K=w(o);s=T(K,"TH",{});var fe=w(s);c=$(fe,"Name"),fe.forEach(_),m=O(K),a=T(K,"TH",{});var ie=w(a);d=$(ie,"TaW"),ie.forEach(_),K.forEach(_),A.forEach(_),h=O(W),k=T(W,"TBODY",{});var ke=w(k);for(let ae=0;ae<V.length;ae+=1)V[ae].l(ke);ke.forEach(_),b=O(W),W.forEach(_),this.h()},h(){z(i,"colspan","2"),F(i,"padding-top","0.5em"),F(i,"padding-bottom","0.5em"),F(i,"font-size","large"),z(e,"class","talent")},m(D,W){g(D,e,W),v(e,t),v(t,l),v(l,i),v(i,f),v(t,u),v(t,o),v(o,s),v(s,c),v(o,m),v(o,a),v(a,d),v(e,h),v(e,k);for(let A=0;A<V.length;A+=1)V[A].m(k,null);v(e,b)},p(D,W){var A,q;if(W&2&&r!==(r=D[10]+"")&&I(f,r),W&31){p=Object.keys(((q=(A=D[1])==null?void 0:A.talentCategoryMap[D[10]])==null?void 0:q.talente)??{}).sort();let U;for(U=0;U<p.length;U+=1){const K=Hl(D,p,U);V[U]?V[U].p(K,W):(V[U]=xl(K),V[U].c(),V[U].m(k,null))}for(;U<V.length;U+=1)V[U].d(1);V.length=p.length}},d(D){D&&_(e),$e(V,D)}}}function Jl(n){let e,t,l,i,r,f=(n[14].effective.currentValue({defaultValue:0})??0)<(n[14].unconditionally.currentValue({defaultValue:0})??0),u,o,s,c,m,a;function d(W,A){return A&3&&(l=null),l==null&&(l=(W[14].base.currentValue({defaultValue:0})??0)==0),l?Or:Sr}let h=d(n,-1),k=h(n),b=f&&Zl(n);function p(W,A){return A&3&&(o=null),o==null&&(o=(W[14].base.currentValue({defaultValue:0})??0)==0),o?zr:Lr}let V=p(n,-1),M=V(n);function j(){return n[6](n[13])}let D=n[3]==n[13]&&Yl(n);return{c(){e=y("tr"),t=y("td"),k.c(),i=S(),r=y("td"),b&&b.c(),u=S(),M.c(),s=S(),D&&D.c(),c=ue(),this.h()},l(W){e=T(W,"TR",{style:!0});var A=w(e);t=T(A,"TD",{});var q=w(t);k.l(q),q.forEach(_),i=O(A),r=T(A,"TD",{});var U=w(r);b&&b.l(U),u=O(U),M.l(U),U.forEach(_),A.forEach(_),s=O(W),D&&D.l(W),c=ue(),this.h()},h(){F(e,"cursor","pointer")},m(W,A){g(W,e,A),v(e,t),k.m(t,null),v(e,i),v(e,r),b&&b.m(r,null),v(r,u),M.m(r,null),g(W,s,A),D&&D.m(W,A),g(W,c,A),m||(a=ye(e,"click",j),m=!0)},p(W,A){n=W,h===(h=d(n,A))&&k?k.p(n,A):(k.d(1),k=h(n),k&&(k.c(),k.m(t,null))),A&3&&(f=(n[14].effective.currentValue({defaultValue:0})??0)<(n[14].unconditionally.currentValue({defaultValue:0})??0)),f?b?b.p(n,A):(b=Zl(n),b.c(),b.m(r,u)):b&&(b.d(1),b=null),V===(V=p(n,A))&&M?M.p(n,A):(M.d(1),M=V(n),M&&(M.c(),M.m(r,null))),n[3]==n[13]?D?D.p(n,A):(D=Yl(n),D.c(),D.m(c.parentNode,c)):D&&(D.d(1),D=null)},d(W){W&&_(e),k.d(),b&&b.d(),M.d(),W&&_(s),D&&D.d(W),W&&_(c),m=!1,a()}}}function Sr(n){let e=et(n[15],n[0],"NameProbe")+"",t;return{c(){t=E(e)},l(l){t=$(l,e)},m(l,i){g(l,t,i)},p(l,i){i&3&&e!==(e=et(l[15],l[0],"NameProbe")+"")&&I(t,e)},d(l){l&&_(t)}}}function Or(n){let e,t=et(n[15],n[0],"NameProbe")+"",l;return{c(){e=y("span"),l=E(t),this.h()},l(i){e=T(i,"SPAN",{class:!0});var r=w(e);l=$(r,t),r.forEach(_),this.h()},h(){z(e,"class","light")},m(i,r){g(i,e,r),v(e,l)},p(i,r){r&3&&t!==(t=et(i[15],i[0],"NameProbe")+"")&&I(l,t)},d(i){i&&_(e)}}}function Zl(n){let e,t=(n[14].unconditionally.currentValue({defaultValue:0})??0)+"",l,i;return{c(){e=E("("),l=E(t),i=E("!)")},l(r){e=$(r,"("),l=$(r,t),i=$(r,"!)")},m(r,f){g(r,e,f),g(r,l,f),g(r,i,f)},p(r,f){f&3&&t!==(t=(r[14].unconditionally.currentValue({defaultValue:0})??0)+"")&&I(l,t)},d(r){r&&_(e),r&&_(l),r&&_(i)}}}function Lr(n){let e,t=(n[14].effective.currentValue({defaultValue:0})??0)+"",l,i;return{c(){e=y("strong"),l=E(t),i=E(" TaW")},l(r){e=T(r,"STRONG",{});var f=w(e);l=$(f,t),i=$(f," TaW"),f.forEach(_)},m(r,f){g(r,e,f),v(e,l),v(e,i)},p(r,f){f&3&&t!==(t=(r[14].effective.currentValue({defaultValue:0})??0)+"")&&I(l,t)},d(r){r&&_(e)}}}function zr(n){let e,t=(n[14].effective.currentValue({defaultValue:0})??0)+"",l,i;return{c(){e=y("strong"),l=E(t),i=E(" TaW"),this.h()},l(r){e=T(r,"STRONG",{class:!0});var f=w(e);l=$(f,t),i=$(f," TaW"),f.forEach(_),this.h()},h(){z(e,"class","light")},m(r,f){g(r,e,f),v(e,l),v(e,i)},p(r,f){f&3&&t!==(t=(r[14].effective.currentValue({defaultValue:0})??0)+"")&&I(l,t)},d(r){r&&_(e)}}}function Yl(n){let e,t,l,i=Ze(n[15].Probe),r=[];for(let f=0;f<i.length;f+=1)r[f]=Xl(Ql(n,i,f));return{c(){e=y("tr"),t=y("td");for(let f=0;f<r.length;f+=1)r[f].c();l=S(),this.h()},l(f){e=T(f,"TR",{});var u=w(e);t=T(u,"TD",{colspan:!0});var o=w(t);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_),l=O(u),u.forEach(_),this.h()},h(){z(t,"colspan","2")},m(f,u){g(f,e,u),v(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null);v(e,l)},p(f,u){if(u&23){i=Ze(f[15].Probe);let o;for(o=0;o<i.length;o+=1){const s=Ql(f,i,o);r[o]?r[o].p(s,u):(r[o]=Xl(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(f){f&&_(e),$e(r,f)}}}function Xl(n){let e,t=Qe(n[18].Eigenschaft.map(n[7]),"•")+"",l,i,r,f,u,o,s,c,m,a,d;function h(...k){return n[8](n[13],n[19],...k)}return{c(){e=E("Probe auf "),l=E(t),i=S(),r=y("a"),f=E("Einfache Probe"),u=S(),o=y("label"),s=E(`Erschwerniss
												`),c=y("input"),m=S(),this.h()},l(k){e=$(k,"Probe auf "),l=$(k,t),i=O(k),r=T(k,"A",{href:!0});var b=w(r);f=$(b,"Einfache Probe"),b.forEach(_),u=O(k),o=T(k,"LABEL",{});var p=w(o);s=$(p,`Erschwerniss
												`),c=T(p,"INPUT",{type:!0}),m=O(p),p.forEach(_),this.h()},h(){z(r,"href","#"),z(c,"type","number")},m(k,b){g(k,e,b),g(k,l,b),g(k,i,b),g(k,r,b),v(r,f),g(k,u,b),g(k,o,b),v(o,s),v(o,c),Oe(c,n[4]),v(o,m),a||(d=[ye(r,"click",h),ye(c,"input",n[9])],a=!0)},p(k,b){n=k,b&3&&t!==(t=Qe(n[18].Eigenschaft.map(n[7]),"•")+"")&&I(l,t),b&16&&Le(c.value)!==n[4]&&Oe(c,n[4])},d(k){k&&_(e),k&&_(l),k&&_(i),k&&_(r),k&&_(u),k&&_(o),a=!1,nt(d)}}}function xl(n){let e=(n[14].effective.currentValue({defaultValue:0})??0)||(n[14].unconditionally.currentValue({defaultValue:0})??0),t,l=e&&Jl(n);return{c(){l&&l.c(),t=ue()},l(i){l&&l.l(i),t=ue()},m(i,r){l&&l.m(i,r),g(i,t,r)},p(i,r){r&3&&(e=(i[14].effective.currentValue({defaultValue:0})??0)||(i[14].unconditionally.currentValue({defaultValue:0})??0)),e?l?l.p(i,r):(l=Jl(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&_(t)}}}function en(n){let e,t;function l(f,u){return u&3&&(e=null),e==null&&(e=!!Object.keys(f[1].talentCategoryMap[f[10]].talente).some(f[5])),e?Ar:Dr}let i=l(n,-1),r=i(n);return{c(){r.c(),t=ue()},l(f){r.l(f),t=ue()},m(f,u){r.m(f,u),g(f,t,u)},p(f,u){i===(i=l(f,u))&&r?r.p(f,u):(r.d(1),r=i(f),r&&(r.c(),r.m(t.parentNode,t)))},d(f){r.d(f),f&&_(t)}}}function Pr(n){let e,t=Object.keys(n[1].talentCategoryMap),l=[];for(let i=0;i<t.length;i+=1)l[i]=en(Kl(n,t,i));return{c(){e=y("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=T(i,"DIV",{style:!0});var r=w(e);for(let f=0;f<l.length;f+=1)l[f].l(r);r.forEach(_),this.h()},h(){F(e,"column-count","2 ")},m(i,r){g(i,e,r);for(let f=0;f<l.length;f+=1)l[f].m(e,null)},p(i,[r]){if(r&31){t=Object.keys(i[1].talentCategoryMap);let f;for(f=0;f<t.length;f+=1){const u=Kl(i,t,f);l[f]?l[f].p(u,r):(l[f]=en(u),l[f].c(),l[f].m(e,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},i:me,o:me,d(i){i&&_(e),$e(l,i)}}}function Rr(n,e,t){let{char:l}=e,{data:i}=e,{charData:r}=e,f,u=0;const o=d=>{var h,k;return(((h=l==null?void 0:l.talente[d])==null?void 0:h.effective.currentValue({defaultValue:0}))??0)>0||(((k=l==null?void 0:l.talente[d])==null?void 0:k.unconditionally.currentValue({defaultValue:0}))??0)>0},s=d=>t(3,f=f==d?void 0:d),c=d=>{var h,k;return ne((k=(h=l.eigenschaften[d.Name??""])==null?void 0:h.meta.currentValue({defaultValue:void 0}))==null?void 0:k.Abkürzung)},m=(d,h,k)=>{k.preventDefault(),r.simpleSkillCheck(d,u,h)};function a(){u=Le(this.value),t(4,u)}return n.$$set=d=>{"char"in d&&t(0,l=d.char),"data"in d&&t(1,i=d.data),"charData"in d&&t(2,r=d.charData)},[l,i,r,f,u,o,s,c,m,a]}class Br extends qe{constructor(e){super(),Fe(this,e,Rr,Pr,Ge,{char:0,data:1,charData:2})}}function tn(n,e,t){const l=n.slice();return l[35]=e[t],l}function ln(n,e,t){const l=n.slice();return l[38]=e[t][0],l[39]=e[t][1],l}function nn(n,e,t){const l=n.slice();return l[42]=e[t],l}function rn(n,e,t){const l=n.slice();return l[38]=e[t],l}function fn(n,e,t){const l=n.slice();return l[47]=e[t],l}function un(n,e,t){const l=n.slice();return l[47]=e[t],l}function on(n){let e,t,l,i,r;return{c(){e=y("a"),t=E("Zum Log Springen"),l=y("br"),this.h()},l(f){e=T(f,"A",{href:!0});var u=w(e);t=$(u,"Zum Log Springen"),u.forEach(_),l=T(f,"BR",{}),this.h()},h(){z(e,"href","#log-end-1")},m(f,u){g(f,e,u),v(e,t),g(f,l,u),i||(r=ye(e,"click",n[28]),i=!0)},p:me,d(f){f&&_(e),f&&_(l),i=!1,r()}}}function Cr(n){let e,t=-n[0].difficulty+"",l;return{c(){e=E("mit Bonus "),l=E(t)},l(i){e=$(i,"mit Bonus "),l=$(i,t)},m(i,r){g(i,e,r),g(i,l,r)},p(i,r){r[0]&1&&t!==(t=-i[0].difficulty+"")&&I(l,t)},d(i){i&&_(e),i&&_(l)}}}function jr(n){let e,t=n[0].difficulty+"",l;return{c(){e=E("mit Malus "),l=E(t)},l(i){e=$(i,"mit Malus "),l=$(i,t)},m(i,r){g(i,e,r),g(i,l,r)},p(i,r){r[0]&1&&t!==(t=i[0].difficulty+"")&&I(l,t)},d(i){i&&_(e),i&&_(l)}}}function Ur(n){let e,t,l,i,r,f,u,o=n[5].length>0&&sn(n),s=n[4].length>0&&_n(n);return{c(){e=y("span"),t=E(n[13]),o&&o.c(),l=y("small"),i=E("("),r=E(n[12]),s&&s.c(),f=E(")")},l(c){e=T(c,"SPAN",{});var m=w(e);t=$(m,n[13]),o&&o.l(m),l=T(m,"SMALL",{});var a=w(l);i=$(a,"("),r=$(a,n[12]),s&&s.l(a),f=$(a,")"),a.forEach(_),m.forEach(_)},m(c,m){g(c,e,m),v(e,t),o&&o.m(e,null),v(e,l),v(l,i),v(l,r),s&&s.m(l,null),v(l,f),u=!0},p(c,m){(!u||m[0]&8192)&&I(t,c[13]),c[5].length>0?o?(o.p(c,m),m[0]&32&&X(o,1)):(o=sn(c),o.c(),X(o,1),o.m(e,l)):o&&(Ce(),se(o,1,1,()=>{o=null}),je()),(!u||m[0]&4096)&&I(r,c[12]),c[4].length>0?s?(s.p(c,m),m[0]&16&&X(s,1)):(s=_n(c),s.c(),X(s,1),s.m(l,f)):s&&(Ce(),se(s,1,1,()=>{s=null}),je())},i(c){u||(X(o),X(s),u=!0)},o(c){se(o),se(s),u=!1},d(c){c&&_(e),o&&o.d(),s&&s.d()}}}function Wr(n){let e,t;return{c(){e=y("span"),t=E("Fehlschlag"),this.h()},l(l){e=T(l,"SPAN",{class:!0});var i=w(e);t=$(i,"Fehlschlag"),i.forEach(_),this.h()},h(){z(e,"class","miss svelte-1s5djez")},m(l,i){g(l,e,i),v(e,t)},p:me,i:me,o:me,d(l){l&&_(e)}}}function qr(n){let e,t,l=n[0].quality+"",i,r,f,u=n[0].tawResult+"",o,s;return{c(){e=y("span"),t=E("Glück "),i=E(l),r=y("small"),f=E("("),o=E(u),s=E(")"),this.h()},l(c){e=T(c,"SPAN",{class:!0});var m=w(e);t=$(m,"Glück "),i=$(m,l),r=T(m,"SMALL",{});var a=w(r);f=$(a,"("),o=$(a,u),s=$(a,")"),a.forEach(_),m.forEach(_),this.h()},h(){z(e,"class","luky svelte-1s5djez")},m(c,m){g(c,e,m),v(e,t),v(e,i),v(e,r),v(r,f),v(r,o),v(r,s)},p(c,m){m[0]&1&&l!==(l=c[0].quality+"")&&I(i,l),m[0]&1&&u!==(u=c[0].tawResult+"")&&I(o,u)},i:me,o:me,d(c){c&&_(e)}}}function Fr(n){let e,t;return{c(){e=y("span"),t=E("Patzer"),this.h()},l(l){e=T(l,"SPAN",{class:!0});var i=w(e);t=$(i,"Patzer"),i.forEach(_),this.h()},h(){z(e,"class","miss svelte-1s5djez")},m(l,i){g(l,e,i),v(e,t)},p:me,i:me,o:me,d(l){l&&_(e)}}}function sn(n){let e,t;return e=new ft({props:{$$slots:{tooltip:[Kr],default:[Gr]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i[0]&32|i[1]&2097152&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Gr(n){let e;return{c(){e=E(`*
						
					`)},l(t){e=$(t,`*
						
					`)},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function an(n){let e,t=n[47].text+"",l,i,r=n[47].change<0?"verschlechtert":"verbessert",f,u,o=Math.abs(n[47].change)+"",s,c;return{c(){e=y("li"),l=E(t),i=S(),f=E(r),u=E(" die Qualität um "),s=E(o),c=S()},l(m){e=T(m,"LI",{});var a=w(e);l=$(a,t),i=O(a),f=$(a,r),u=$(a," die Qualität um "),s=$(a,o),c=O(a),a.forEach(_)},m(m,a){g(m,e,a),v(e,l),v(e,i),v(e,f),v(e,u),v(e,s),v(e,c)},p(m,a){a[0]&32&&t!==(t=m[47].text+"")&&I(l,t),a[0]&32&&r!==(r=m[47].change<0?"verschlechtert":"verbessert")&&I(f,r),a[0]&32&&o!==(o=Math.abs(m[47].change)+"")&&I(s,o)},d(m){m&&_(e)}}}function Kr(n){let e,t,l,i=n[5],r=[];for(let f=0;f<i.length;f+=1)r[f]=an(un(n,i,f));return{c(){e=y("div"),t=y("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=S(),this.h()},l(f){e=T(f,"DIV",{slot:!0});var u=w(e);t=T(u,"UL",{});var o=w(t);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_),l=O(u),u.forEach(_),this.h()},h(){z(e,"slot","tooltip")},m(f,u){g(f,e,u),v(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null);v(e,l)},p(f,u){if(u[0]&32){i=f[5];let o;for(o=0;o<i.length;o+=1){const s=un(f,i,o);r[o]?r[o].p(s,u):(r[o]=an(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(f){f&&_(e),$e(r,f)}}}function _n(n){let e,t;return e=new ft({props:{$$slots:{tooltip:[Qr],default:[Hr]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i[0]&16|i[1]&2097152&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Hr(n){let e;return{c(){e=E(`*
							
						`)},l(t){e=$(t,`*
							
						`)},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function cn(n){let e,t=n[47].text+"",l,i,r=n[47].change<0?"verschlechtert":"verbessert",f,u,o=Math.abs(n[47].change)+"",s,c;return{c(){e=y("li"),l=E(t),i=S(),f=E(r),u=E(" das Ergebnis um "),s=E(o),c=S()},l(m){e=T(m,"LI",{});var a=w(e);l=$(a,t),i=O(a),f=$(a,r),u=$(a," das Ergebnis um "),s=$(a,o),c=O(a),a.forEach(_)},m(m,a){g(m,e,a),v(e,l),v(e,i),v(e,f),v(e,u),v(e,s),v(e,c)},p(m,a){a[0]&16&&t!==(t=m[47].text+"")&&I(l,t),a[0]&16&&r!==(r=m[47].change<0?"verschlechtert":"verbessert")&&I(f,r),a[0]&16&&o!==(o=Math.abs(m[47].change)+"")&&I(s,o)},d(m){m&&_(e)}}}function Qr(n){let e,t,l,i=n[4],r=[];for(let f=0;f<i.length;f+=1)r[f]=cn(fn(n,i,f));return{c(){e=y("div"),t=y("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=S(),this.h()},l(f){e=T(f,"DIV",{slot:!0});var u=w(e);t=T(u,"UL",{});var o=w(t);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_),l=O(u),u.forEach(_),this.h()},h(){z(e,"slot","tooltip")},m(f,u){g(f,e,u),v(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null);v(e,l)},p(f,u){if(u[0]&16){i=f[4];let o;for(o=0;o<i.length;o+=1){const s=fn(f,i,o);r[o]?r[o].p(s,u):(r[o]=cn(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(f){f&&_(e),$e(r,f)}}}function hn(n){let e,t=ne(n[38].name,n[0].charState.char)+"",l,i;return{c(){e=y("td"),l=E(t),i=S()},l(r){e=T(r,"TD",{});var f=w(e);l=$(f,t),i=O(f),f.forEach(_)},m(r,f){g(r,e,f),v(e,l),v(e,i)},p(r,f){f[0]&1&&t!==(t=ne(r[38].name,r[0].charState.char)+"")&&I(l,t)},d(r){r&&_(e)}}}function mn(n){let e,t;return e=new ft({props:{$$slots:{tooltip:[ef],default:[Jr]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i[0]&18437|i[1]&2097152&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Jr(n){let e;return{c(){e=E("*")},l(t){e=$(t,"*")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function Zr(n){let e=n[42].text+"",t;return{c(){t=E(e)},l(l){t=$(l,e)},m(l,i){g(l,t,i)},p(l,i){i[0]&16388&&e!==(e=l[42].text+"")&&I(t,e)},d(l){l&&_(t)}}}function Yr(n){let e=n[42].text+"",t,l,i=n[42].change<0?"reduziert":"erhöt",r,f,u=n[42].roleIndex+"",o,s,c=ne(n[0].roles[n[39]].name,n[11])+"",m,a,d=Math.abs(n[42].change)+"",h,k;return{c(){t=E(e),l=S(),r=E(i),f=E(" den Wert des "),o=E(u),s=E(`. Würfels
													für `),m=E(c),a=E(" um "),h=E(d),k=E(".")},l(b){t=$(b,e),l=O(b),r=$(b,i),f=$(b," den Wert des "),o=$(b,u),s=$(b,`. Würfels
													für `),m=$(b,c),a=$(b," um "),h=$(b,d),k=$(b,".")},m(b,p){g(b,t,p),g(b,l,p),g(b,r,p),g(b,f,p),g(b,o,p),g(b,s,p),g(b,m,p),g(b,a,p),g(b,h,p),g(b,k,p)},p(b,p){p[0]&16388&&e!==(e=b[42].text+"")&&I(t,e),p[0]&16388&&i!==(i=b[42].change<0?"reduziert":"erhöt")&&I(r,i),p[0]&16388&&u!==(u=b[42].roleIndex+"")&&I(o,u),p[0]&18433&&c!==(c=ne(b[0].roles[b[39]].name,b[11])+"")&&I(m,c),p[0]&16388&&d!==(d=Math.abs(b[42].change)+"")&&I(h,d)},d(b){b&&_(t),b&&_(l),b&&_(r),b&&_(f),b&&_(o),b&&_(s),b&&_(m),b&&_(a),b&&_(h),b&&_(k)}}}function Xr(n){let e=n[42].text+"",t,l,i=n[0].roles[n[39]].role+"",r,f,u=ne(n[0].roles[n[39]].name,n[11])+"",o;return{c(){t=E(e),l=E(" Ignoriert "),r=E(i),f=E(" für "),o=E(u)},l(s){t=$(s,e),l=$(s," Ignoriert "),r=$(s,i),f=$(s," für "),o=$(s,u)},m(s,c){g(s,t,c),g(s,l,c),g(s,r,c),g(s,f,c),g(s,o,c)},p(s,c){c[0]&16388&&e!==(e=s[42].text+"")&&I(t,e),c[0]&16385&&i!==(i=s[0].roles[s[39]].role+"")&&I(r,i),c[0]&18433&&u!==(u=ne(s[0].roles[s[39]].name,s[11])+"")&&I(o,u)},d(s){s&&_(t),s&&_(l),s&&_(r),s&&_(f),s&&_(o)}}}function xr(n){let e=n[42].text+"",t,l,i=n[0].roles[n[39]].role+"",r,f,u=ne(n[0].roles[n[39]].name,n[11])+"",o,s,c=n[42].change+"",m;return{c(){t=E(e),l=E(" ersetzt "),r=E(i),f=E(" für "),o=E(u),s=E(" durch "),m=E(c)},l(a){t=$(a,e),l=$(a," ersetzt "),r=$(a,i),f=$(a," für "),o=$(a,u),s=$(a," durch "),m=$(a,c)},m(a,d){g(a,t,d),g(a,l,d),g(a,r,d),g(a,f,d),g(a,o,d),g(a,s,d),g(a,m,d)},p(a,d){d[0]&16388&&e!==(e=a[42].text+"")&&I(t,e),d[0]&16385&&i!==(i=a[0].roles[a[39]].role+"")&&I(r,i),d[0]&18433&&u!==(u=ne(a[0].roles[a[39]].name,a[11])+"")&&I(o,u),d[0]&16388&&c!==(c=a[42].change+"")&&I(m,c)},d(a){a&&_(t),a&&_(l),a&&_(r),a&&_(f),a&&_(o),a&&_(s),a&&_(m)}}}function dn(n){let e,t;function l(f,u){return f[42].type=="substitute"?xr:f[42].type=="ignore"?Xr:f[42].type=="modify"?Yr:Zr}let i=l(n),r=i(n);return{c(){e=y("li"),r.c(),t=S()},l(f){e=T(f,"LI",{});var u=w(e);r.l(u),t=O(u),u.forEach(_)},m(f,u){g(f,e,u),r.m(e,null),v(e,t)},p(f,u){i===(i=l(f))&&r?r.p(f,u):(r.d(1),r=i(f),r&&(r.c(),r.m(e,t)))},d(f){f&&_(e),r.d()}}}function ef(n){let e,t;function l(...f){return n[29](n[39],...f)}let i=n[2].filter(l),r=[];for(let f=0;f<i.length;f+=1)r[f]=dn(nn(n,i,f));return{c(){e=y("div"),t=y("ul");for(let f=0;f<r.length;f+=1)r[f].c();this.h()},l(f){e=T(f,"DIV",{slot:!0});var u=w(e);t=T(u,"UL",{});var o=w(t);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_),u.forEach(_),this.h()},h(){z(e,"slot","tooltip")},m(f,u){g(f,e,u),v(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(f,u){if(n=f,u[0]&18437){i=n[2].filter(l);let o;for(o=0;o<i.length;o+=1){const s=nn(n,i,o);r[o]?r[o].p(s,u):(r[o]=dn(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(f){f&&_(e),$e(r,f)}}}function pn(n){let e,t,l=n[38].role+"",i,r=n[2].some(m),f,u=n[38].target+"",o,s,c;function m(...d){return n[27](n[39],...d)}let a=r&&mn(n);return{c(){e=y("td"),t=y("span"),i=E(l),a&&a.c(),f=E(`
						≥ `),o=E(u),s=S(),this.h()},l(d){e=T(d,"TD",{});var h=w(e);t=T(h,"SPAN",{class:!0});var k=w(t);i=$(k,l),a&&a.l(k),f=$(k,`
						≥ `),o=$(k,u),k.forEach(_),s=O(h),h.forEach(_),this.h()},h(){z(t,"class","svelte-1s5djez"),He(t,"miss",n[38].role<n[38].target)},m(d,h){g(d,e,h),v(e,t),v(t,i),a&&a.m(t,null),v(t,f),v(t,o),v(e,s),c=!0},p(d,h){n=d,(!c||h[0]&16384)&&l!==(l=n[38].role+"")&&I(i,l),h[0]&16388&&(r=n[2].some(m)),r?a?(a.p(n,h),h[0]&16388&&X(a,1)):(a=mn(n),a.c(),X(a,1),a.m(t,f)):a&&(Ce(),se(a,1,1,()=>{a=null}),je()),(!c||h[0]&16384)&&u!==(u=n[38].target+"")&&I(o,u),(!c||h[0]&16384)&&He(t,"miss",n[38].role<n[38].target)},i(d){c||(X(a),c=!0)},o(d){se(a),c=!1},d(d){d&&_(e),a&&a.d()}}}function bn(n){let e,t,l,i,r,f;return{c(){e=y("a"),t=E("Reduzieren (-"),l=E(n[15]),i=E(" GlP)"),this.h()},l(u){e=T(u,"A",{href:!0});var o=w(e);t=$(o,"Reduzieren (-"),l=$(o,n[15]),i=$(o," GlP)"),o.forEach(_),this.h()},h(){z(e,"href","#")},m(u,o){g(u,e,o),v(e,t),v(e,l),v(e,i),r||(f=ye(e,"click",n[30]),r=!0)},p(u,o){o[0]&32768&&I(l,u[15])},d(u){u&&_(e),r=!1,f()}}}function vn(n){let e,t,l,i,r,f=n[16],u=[];for(let o=0;o<f.length;o+=1)u[o]=Tn(tn(n,f,o));return{c(){e=y("details"),t=y("summary"),l=E("Modifikatoren"),i=S(),r=y("ul");for(let o=0;o<u.length;o+=1)u[o].c()},l(o){e=T(o,"DETAILS",{});var s=w(e);t=T(s,"SUMMARY",{});var c=w(t);l=$(c,"Modifikatoren"),c.forEach(_),i=O(s),r=T(s,"UL",{});var m=w(r);for(let a=0;a<u.length;a+=1)u[a].l(m);m.forEach(_),s.forEach(_)},m(o,s){g(o,e,s),v(e,t),v(t,l),v(e,i),v(e,r);for(let c=0;c<u.length;c+=1)u[c].m(r,null)},p(o,s){if(s[0]&67589){f=o[16];let c;for(c=0;c<f.length;c+=1){const m=tn(o,f,c);u[c]?u[c].p(m,s):(u[c]=Tn(m),u[c].c(),u[c].m(r,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=f.length}},d(o){o&&_(e),$e(u,o)}}}function tf(n){let e,t=JSON.stringify(n[35])+"",l;return{c(){e=y("small"),l=E(t)},l(i){e=T(i,"SMALL",{});var r=w(e);l=$(r,t),r.forEach(_)},m(i,r){g(i,e,r),v(e,l)},p(i,r){r[0]&65536&&t!==(t=JSON.stringify(i[35])+"")&&I(l,t)},d(i){i&&_(e)}}}function lf(n){let e;function t(r,f){return r[35].roleIndex=="any"?af:sf}let l=t(n),i=l(n);return{c(){i.c(),e=ue()},l(r){i.l(r),e=ue()},m(r,f){i.m(r,f),g(r,e,f)},p(r,f){l===(l=t(r))&&i?i.p(r,f):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&_(e)}}}function nf(n){let e=n[35].text+"",t,l,i=n[35].change<0?"verschlechtert":"verbessert",r,f,u=n[35].change+"",o,s,c=!n[2].some(a),m;function a(...h){return n[24](n[35],...h)}let d=c&&kn();return{c(){t=E(e),l=S(),r=E(i),f=E(" die Qualität um "),o=E(u),s=E(`.
						`),d&&d.c(),m=ue()},l(h){t=$(h,e),l=O(h),r=$(h,i),f=$(h," die Qualität um "),o=$(h,u),s=$(h,`.
						`),d&&d.l(h),m=ue()},m(h,k){g(h,t,k),g(h,l,k),g(h,r,k),g(h,f,k),g(h,o,k),g(h,s,k),d&&d.m(h,k),g(h,m,k)},p(h,k){n=h,k[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),k[0]&65536&&i!==(i=n[35].change<0?"verschlechtert":"verbessert")&&I(r,i),k[0]&65536&&u!==(u=n[35].change+"")&&I(o,u),k[0]&65540&&(c=!n[2].some(a)),c?d||(d=kn(),d.c(),d.m(m.parentNode,m)):d&&(d.d(1),d=null)},d(h){h&&_(t),h&&_(l),h&&_(r),h&&_(f),h&&_(o),h&&_(s),d&&d.d(h),h&&_(m)}}}function rf(n){let e=n[35].text+"",t,l,i=n[35].change<0?"verschlechtert":"verbessert",r,f,u=n[35].change+"",o,s,c=!n[2].some(a),m;function a(...h){return n[23](n[35],...h)}let d=c&&En();return{c(){t=E(e),l=S(),r=E(i),f=E(" das Ergebniss um "),o=E(u),s=E(`.
						`),d&&d.c(),m=ue()},l(h){t=$(h,e),l=O(h),r=$(h,i),f=$(h," das Ergebniss um "),o=$(h,u),s=$(h,`.
						`),d&&d.l(h),m=ue()},m(h,k){g(h,t,k),g(h,l,k),g(h,r,k),g(h,f,k),g(h,o,k),g(h,s,k),d&&d.m(h,k),g(h,m,k)},p(h,k){n=h,k[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),k[0]&65536&&i!==(i=n[35].change<0?"verschlechtert":"verbessert")&&I(r,i),k[0]&65536&&u!==(u=n[35].change+"")&&I(o,u),k[0]&65540&&(c=!n[2].some(a)),c?d||(d=En(),d.c(),d.m(m.parentNode,m)):d&&(d.d(1),d=null)},d(h){h&&_(t),h&&_(l),h&&_(r),h&&_(f),h&&_(o),h&&_(s),d&&d.d(h),h&&_(m)}}}function ff(n){let e;function t(r,f){return r[35].roleIndex=="any"?mf:hf}let l=t(n),i=l(n);return{c(){i.c(),e=ue()},l(r){i.l(r),e=ue()},m(r,f){i.m(r,f),g(r,e,f)},p(r,f){l===(l=t(r))&&i?i.p(r,f):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&_(e)}}}function uf(n){let e;function t(r,f){return r[35].roleIndex=="any"?vf:bf}let l=t(n),i=l(n);return{c(){i.c(),e=ue()},l(r){i.l(r),e=ue()},m(r,f){i.m(r,f),g(r,e,f)},p(r,f){l===(l=t(r))&&i?i.p(r,f):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&_(e)}}}function of(n){let e=n[35].text+"",t,l,i=ne(n[35].name,n[11])+"",r,f,u=n[35].role+"",o,s,c=n[35].target+"",m,a,d=!n[2].some(k),h;function k(...p){return n[18](n[35],...p)}let b=d&&yn();return{c(){t=E(e),l=E(" testet zusätzlich auf "),r=E(i),f=E(" mit "),o=E(u),s=E(" ≤ "),m=E(c),a=S(),b&&b.c(),h=ue()},l(p){t=$(p,e),l=$(p," testet zusätzlich auf "),r=$(p,i),f=$(p," mit "),o=$(p,u),s=$(p," ≤ "),m=$(p,c),a=O(p),b&&b.l(p),h=ue()},m(p,V){g(p,t,V),g(p,l,V),g(p,r,V),g(p,f,V),g(p,o,V),g(p,s,V),g(p,m,V),g(p,a,V),b&&b.m(p,V),g(p,h,V)},p(p,V){n=p,V[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),V[0]&67584&&i!==(i=ne(n[35].name,n[11])+"")&&I(r,i),V[0]&65536&&u!==(u=n[35].role+"")&&I(o,u),V[0]&65536&&c!==(c=n[35].target+"")&&I(m,c),V[0]&65540&&(d=!n[2].some(k)),d?b||(b=yn(),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(p){p&&_(t),p&&_(l),p&&_(r),p&&_(f),p&&_(o),p&&_(s),p&&_(m),p&&_(a),b&&b.d(p),p&&_(h)}}}function sf(n){let e=n[35].text+"",t,l,i=ne(n[0].roles[n[35].roleIndex].name,n[11])+"",r,f,u=n[0].roles[n[35].roleIndex].role+"",o,s,c=n[0].roles[n[35].roleIndex].target+"",m,a,d=!n[2].some(k),h;function k(...p){return n[26](n[35],...p)}let b=d&&gn();return{c(){t=E(e),l=E(" ersetzt "),r=E(i),f=E(" mit "),o=E(u),s=E(" ≤ "),m=E(c),a=E(`.
							`),b&&b.c(),h=ue()},l(p){t=$(p,e),l=$(p," ersetzt "),r=$(p,i),f=$(p," mit "),o=$(p,u),s=$(p," ≤ "),m=$(p,c),a=$(p,`.
							`),b&&b.l(p),h=ue()},m(p,V){g(p,t,V),g(p,l,V),g(p,r,V),g(p,f,V),g(p,o,V),g(p,s,V),g(p,m,V),g(p,a,V),b&&b.m(p,V),g(p,h,V)},p(p,V){n=p,V[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),V[0]&67585&&i!==(i=ne(n[0].roles[n[35].roleIndex].name,n[11])+"")&&I(r,i),V[0]&65537&&u!==(u=n[0].roles[n[35].roleIndex].role+"")&&I(o,u),V[0]&65537&&c!==(c=n[0].roles[n[35].roleIndex].target+"")&&I(m,c),V[0]&65540&&(d=!n[2].some(k)),d?b||(b=gn(),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(p){p&&_(t),p&&_(l),p&&_(r),p&&_(f),p&&_(o),p&&_(s),p&&_(m),p&&_(a),b&&b.d(p),p&&_(h)}}}function af(n){let e=n[35].text+"",t,l,i=n[35].change+"",r,f,u,o;function s(...d){return n[25](n[35],...d)}function c(d,h){return h[0]&65540&&(u=null),u==null&&(u=!!d[2].some(s)),u?cf:_f}let m=c(n,[-1,-1]),a=m(n);return{c(){t=E(e),l=E(" verändert einen belibigen Würfel um "),r=E(i),f=E(`.
							`),a.c(),o=ue()},l(d){t=$(d,e),l=$(d," verändert einen belibigen Würfel um "),r=$(d,i),f=$(d,`.
							`),a.l(d),o=ue()},m(d,h){g(d,t,h),g(d,l,h),g(d,r,h),g(d,f,h),a.m(d,h),g(d,o,h)},p(d,h){n=d,h[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),h[0]&65536&&i!==(i=n[35].change+"")&&I(r,i),m===(m=c(n,h))&&a?a.p(n,h):(a.d(1),a=m(n),a&&(a.c(),a.m(o.parentNode,o)))},d(d){d&&_(t),d&&_(l),d&&_(r),d&&_(f),a.d(d),d&&_(o)}}}function gn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function _f(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},p:me,d(t){t&&_(e)}}}function cf(n){let e,t=n[2].filter(r)[0].roleIndex+"",l,i;function r(...f){return n[33](n[35],...f)}return{c(){e=E("Es wird der "),l=E(t),i=E(`. Würfel
								Modifiziert.`)},l(f){e=$(f,"Es wird der "),l=$(f,t),i=$(f,`. Würfel
								Modifiziert.`)},m(f,u){g(f,e,u),g(f,l,u),g(f,i,u)},p(f,u){n=f,u[0]&65540&&t!==(t=n[2].filter(r)[0].roleIndex+"")&&I(l,t)},d(f){f&&_(e),f&&_(l),f&&_(i)}}}function kn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function En(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function hf(n){let e=n[35].text+"",t,l,i=ne(n[0].roles[n[35].roleIndex].name,n[11])+"",r,f,u=n[0].roles[n[35].roleIndex].role+"",o,s,c=n[0].roles[n[35].roleIndex].target+"",m,a,d=!n[2].some(k),h;function k(...p){return n[22](n[35],...p)}let b=d&&$n();return{c(){t=E(e),l=E(" ersetzt "),r=E(i),f=E(" mit "),o=E(u),s=E(" ≤ "),m=E(c),a=E(`.
							`),b&&b.c(),h=ue()},l(p){t=$(p,e),l=$(p," ersetzt "),r=$(p,i),f=$(p," mit "),o=$(p,u),s=$(p," ≤ "),m=$(p,c),a=$(p,`.
							`),b&&b.l(p),h=ue()},m(p,V){g(p,t,V),g(p,l,V),g(p,r,V),g(p,f,V),g(p,o,V),g(p,s,V),g(p,m,V),g(p,a,V),b&&b.m(p,V),g(p,h,V)},p(p,V){n=p,V[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),V[0]&67585&&i!==(i=ne(n[0].roles[n[35].roleIndex].name,n[11])+"")&&I(r,i),V[0]&65537&&u!==(u=n[0].roles[n[35].roleIndex].role+"")&&I(o,u),V[0]&65537&&c!==(c=n[0].roles[n[35].roleIndex].target+"")&&I(m,c),V[0]&65540&&(d=!n[2].some(k)),d?b||(b=$n(),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(p){p&&_(t),p&&_(l),p&&_(r),p&&_(f),p&&_(o),p&&_(s),p&&_(m),p&&_(a),b&&b.d(p),p&&_(h)}}}function mf(n){let e=n[35].text+"",t,l,i=n[35].change+"",r,f,u,o;function s(...d){return n[21](n[35],...d)}function c(d,h){return h[0]&65540&&(u=null),u==null&&(u=!!d[2].some(s)),u?pf:df}let m=c(n,[-1,-1]),a=m(n);return{c(){t=E(e),l=E(" erlaubt einen belibigen Würfel mit "),r=E(i),f=E(` zu ersetzen.
							`),a.c(),o=ue()},l(d){t=$(d,e),l=$(d," erlaubt einen belibigen Würfel mit "),r=$(d,i),f=$(d,` zu ersetzen.
							`),a.l(d),o=ue()},m(d,h){g(d,t,h),g(d,l,h),g(d,r,h),g(d,f,h),a.m(d,h),g(d,o,h)},p(d,h){n=d,h[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),h[0]&65536&&i!==(i=n[35].change+"")&&I(r,i),m===(m=c(n,h))&&a?a.p(n,h):(a.d(1),a=m(n),a&&(a.c(),a.m(o.parentNode,o)))},d(d){d&&_(t),d&&_(l),d&&_(r),d&&_(f),a.d(d),d&&_(o)}}}function $n(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function df(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},p:me,d(t){t&&_(e)}}}function pf(n){let e,t=n[2].filter(r)[0].roleIndex+"",l,i;function r(...f){return n[32](n[35],...f)}return{c(){e=E("Es wird der "),l=E(t),i=E(". Würfel ersetzt.")},l(f){e=$(f,"Es wird der "),l=$(f,t),i=$(f,". Würfel ersetzt.")},m(f,u){g(f,e,u),g(f,l,u),g(f,i,u)},p(f,u){n=f,u[0]&65540&&t!==(t=n[2].filter(r)[0].roleIndex+"")&&I(l,t)},d(f){f&&_(e),f&&_(l),f&&_(i)}}}function bf(n){let e=n[35].text+"",t,l,i=ne(n[0].roles[n[35].roleIndex].name,n[11])+"",r,f,u=n[0].roles[n[35].roleIndex].role+"",o,s,c=n[0].roles[n[35].roleIndex].target+"",m,a,d=!n[2].some(k),h;function k(...p){return n[20](n[35],...p)}let b=d&&Vn();return{c(){t=E(e),l=E(" ignoriert "),r=E(i),f=E(" mit "),o=E(u),s=E(" ≤ "),m=E(c),a=E(`.
							`),b&&b.c(),h=ue()},l(p){t=$(p,e),l=$(p," ignoriert "),r=$(p,i),f=$(p," mit "),o=$(p,u),s=$(p," ≤ "),m=$(p,c),a=$(p,`.
							`),b&&b.l(p),h=ue()},m(p,V){g(p,t,V),g(p,l,V),g(p,r,V),g(p,f,V),g(p,o,V),g(p,s,V),g(p,m,V),g(p,a,V),b&&b.m(p,V),g(p,h,V)},p(p,V){n=p,V[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),V[0]&67585&&i!==(i=ne(n[0].roles[n[35].roleIndex].name,n[11])+"")&&I(r,i),V[0]&65537&&u!==(u=n[0].roles[n[35].roleIndex].role+"")&&I(o,u),V[0]&65537&&c!==(c=n[0].roles[n[35].roleIndex].target+"")&&I(m,c),V[0]&65540&&(d=!n[2].some(k)),d?b||(b=Vn(),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(p){p&&_(t),p&&_(l),p&&_(r),p&&_(f),p&&_(o),p&&_(s),p&&_(m),p&&_(a),b&&b.d(p),p&&_(h)}}}function vf(n){let e=n[35].text+"",t,l,i,r;function f(...c){return n[19](n[35],...c)}function u(c,m){return m[0]&65540&&(i=null),i==null&&(i=!!c[2].some(f)),i?kf:gf}let o=u(n,[-1,-1]),s=o(n);return{c(){t=E(e),l=E(` erlaubt einen belibigen Würfel zu ignorieren.
							`),s.c(),r=ue()},l(c){t=$(c,e),l=$(c,` erlaubt einen belibigen Würfel zu ignorieren.
							`),s.l(c),r=ue()},m(c,m){g(c,t,m),g(c,l,m),s.m(c,m),g(c,r,m)},p(c,m){n=c,m[0]&65536&&e!==(e=n[35].text+"")&&I(t,e),o===(o=u(n,m))&&s?s.p(n,m):(s.d(1),s=o(n),s&&(s.c(),s.m(r.parentNode,r)))},d(c){c&&_(t),c&&_(l),s.d(c),c&&_(r)}}}function Vn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function gf(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},p:me,d(t){t&&_(e)}}}function kf(n){let e,t=n[2].filter(r)[0].roleIndex+"",l,i;function r(...f){return n[31](n[35],...f)}return{c(){e=E("Es wird der "),l=E(t),i=E(`. Würfel
								ignoriert.`)},l(f){e=$(f,"Es wird der "),l=$(f,t),i=$(f,`. Würfel
								ignoriert.`)},m(f,u){g(f,e,u),g(f,l,u),g(f,i,u)},p(f,u){n=f,u[0]&65540&&t!==(t=n[2].filter(r)[0].roleIndex+"")&&I(l,t)},d(f){f&&_(e),f&&_(l),f&&_(i)}}}function yn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function Tn(n){let e,t;function l(f,u){return f[35].type=="addedRole"?of:f[35].type=="ignore"?uf:f[35].type=="substitute"?ff:f[35].type=="result"?rf:f[35].type=="quality"?nf:f[35].type=="modify"?lf:tf}let i=l(n),r=i(n);return{c(){e=y("li"),r.c(),t=S()},l(f){e=T(f,"LI",{});var u=w(e);r.l(u),t=O(u),u.forEach(_)},m(f,u){g(f,e,u),r.m(e,null),v(e,t)},p(f,u){i===(i=l(f))&&r?r.p(f,u):(r.d(1),r=i(f),r&&(r.c(),r.m(e,t)))},d(f){f&&_(e),r.d()}}}function Ef(n){let e,t,l=ne(n[0].talent.Name)+"",i,r,f,u,o,s,c,m,a,d,h,k,b,p,V,M,j,D,W,A,q,U,K,fe=n[1]==0&&on(n);function ie(R,re){if(R[0].difficulty>0)return jr;if(R[0].difficulty<0)return Cr}let ke=ie(n),ae=ke&&ke(n);const P=[Fr,qr,Wr,Ur],J=[];function oe(R,re){return re[0]&1&&(s=null),re[0]&1&&(c=null),s==null&&(s=R[0].roles.filter($f).length>1),s?0:(c==null&&(c=R[0].roles.filter(Vf).length>1),c?1:R[12]<0?2:3)}m=oe(n,[-1,-1]),a=J[m]=P[m](n);let _e=n[0].roles,x=[];for(let R=0;R<_e.length;R+=1)x[R]=hn(rn(n,_e,R));let Q=Ze(n[14]),ee=[];for(let R=0;R<Q.length;R+=1)ee[R]=pn(ln(n,Q,R));const Ee=R=>se(ee[R],1,1,()=>{ee[R]=null});let ce=n[15]!=null&&bn(n),he=n[16].length>0&&vn(n);return{c(){e=y("div"),fe&&fe.c(),t=E(`

	Probe auf `),i=E(l),r=S(),ae&&ae.c(),f=S(),u=y("strong"),o=E("Qualität: "),a.c(),d=S(),h=y("table"),k=y("tr");for(let R=0;R<x.length;R+=1)x[R].c();b=S(),p=y("tr");for(let R=0;R<ee.length;R+=1)ee[R].c();M=S(),j=y("div"),ce&&ce.c(),D=S(),W=y("div"),he&&he.c(),A=S(),q=y("div"),this.h()},l(R){e=T(R,"DIV",{id:!0,class:!0});var re=w(e);fe&&fe.l(re),t=$(re,`

	Probe auf `),i=$(re,l),r=O(re),ae&&ae.l(re),f=O(re),u=T(re,"STRONG",{});var te=w(u);o=$(te,"Qualität: "),a.l(te),te.forEach(_),d=O(re),h=T(re,"TABLE",{class:!0});var le=w(h);k=T(le,"TR",{});var Z=w(k);for(let Y=0;Y<x.length;Y+=1)x[Y].l(Z);Z.forEach(_),b=O(le),p=T(le,"TR",{});var ge=w(p);for(let Y=0;Y<ee.length;Y+=1)ee[Y].l(ge);ge.forEach(_),le.forEach(_),re.forEach(_),M=O(R),j=T(R,"DIV",{class:!0});var ve=w(j);ce&&ce.l(ve),ve.forEach(_),D=O(R),W=T(R,"DIV",{class:!0});var be=w(W);he&&he.l(be),be.forEach(_),A=O(R),q=T(R,"DIV",{class:!0,id:!0}),w(q).forEach(_),this.h()},h(){z(h,"class","probe-werte svelte-1s5djez"),z(e,"id",V="log-"+n[1]),z(e,"class","log first"),z(j,"class","log"),z(W,"class","log"),z(q,"class","log last"),z(q,"id",U="log-end-"+n[1])},m(R,re){g(R,e,re),fe&&fe.m(e,null),v(e,t),v(e,i),v(e,r),ae&&ae.m(e,null),v(e,f),v(e,u),v(u,o),J[m].m(u,null),v(e,d),v(e,h),v(h,k);for(let te=0;te<x.length;te+=1)x[te].m(k,null);v(h,b),v(h,p);for(let te=0;te<ee.length;te+=1)ee[te].m(p,null);g(R,M,re),g(R,j,re),ce&&ce.m(j,null),g(R,D,re),g(R,W,re),he&&he.m(W,null),g(R,A,re),g(R,q,re),K=!0},p(R,re){R[1]==0?fe?fe.p(R,re):(fe=on(R),fe.c(),fe.m(e,t)):fe&&(fe.d(1),fe=null),(!K||re[0]&1)&&l!==(l=ne(R[0].talent.Name)+"")&&I(i,l),ke===(ke=ie(R))&&ae?ae.p(R,re):(ae&&ae.d(1),ae=ke&&ke(R),ae&&(ae.c(),ae.m(e,f)));let te=m;if(m=oe(R,re),m===te?J[m].p(R,re):(Ce(),se(J[te],1,1,()=>{J[te]=null}),je(),a=J[m],a?a.p(R,re):(a=J[m]=P[m](R),a.c()),X(a,1),a.m(u,null)),re[0]&1){_e=R[0].roles;let le;for(le=0;le<_e.length;le+=1){const Z=rn(R,_e,le);x[le]?x[le].p(Z,re):(x[le]=hn(Z),x[le].c(),x[le].m(k,null))}for(;le<x.length;le+=1)x[le].d(1);x.length=_e.length}if(re[0]&18437){Q=Ze(R[14]);let le;for(le=0;le<Q.length;le+=1){const Z=ln(R,Q,le);ee[le]?(ee[le].p(Z,re),X(ee[le],1)):(ee[le]=pn(Z),ee[le].c(),X(ee[le],1),ee[le].m(p,null))}for(Ce(),le=Q.length;le<ee.length;le+=1)Ee(le);je()}(!K||re[0]&2&&V!==(V="log-"+R[1]))&&z(e,"id",V),R[15]!=null?ce?ce.p(R,re):(ce=bn(R),ce.c(),ce.m(j,null)):ce&&(ce.d(1),ce=null),R[16].length>0?he?he.p(R,re):(he=vn(R),he.c(),he.m(W,null)):he&&(he.d(1),he=null),(!K||re[0]&2&&U!==(U="log-end-"+R[1]))&&z(q,"id",U)},i(R){if(!K){X(a);for(let re=0;re<Q.length;re+=1)X(ee[re]);K=!0}},o(R){se(a),ee=ee.filter(Boolean);for(let re=0;re<ee.length;re+=1)se(ee[re]);K=!1},d(R){R&&_(e),fe&&fe.d(),ae&&ae.d(),J[m].d(),$e(x,R),$e(ee,R),R&&_(M),R&&_(j),ce&&ce.d(),R&&_(D),R&&_(W),he&&he.d(),R&&_(A),R&&_(q)}}}const $f=n=>n.role==1,Vf=n=>n.role==20;function yf(n,e,t){let l,i,r,f,u,o,s,c,m,a,d=me,h=()=>(d(),d=We(J,Y=>t(2,a=Y)),J),k,b=me,p=()=>(b(),b=We(u,Y=>t(12,k=Y)),u),V,M=me,j=()=>(M(),M=We(f,Y=>t(13,V=Y)),f),D,W=me,A=()=>(W(),W=We(o,Y=>t(14,D=Y)),o),q,U=me,K=()=>(U(),U=We(r,Y=>t(15,q=Y)),r),fe,ie=me,ke=()=>(ie(),ie=We(s,Y=>t(16,fe=Y)),s);n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>b()),n.$$.on_destroy.push(()=>M()),n.$$.on_destroy.push(()=>W()),n.$$.on_destroy.push(()=>U()),n.$$.on_destroy.push(()=>ie());let{entry:ae}=e,{index:P}=e,J;const oe=(Y,C)=>C.id==Y.id,_e=(Y,C)=>C.id==Y.id,x=(Y,C)=>C.id==Y.id,Q=(Y,C)=>C.id==Y.id,ee=(Y,C)=>C.id==Y.id,Ee=(Y,C)=>C.id==Y.id,ce=(Y,C)=>C.id==Y.id,he=(Y,C)=>C.id==Y.id,R=(Y,C)=>C.id==Y.id,re=(Y,C)=>C.roleIndex==Y,te=Y=>{var C;Y.preventDefault(),(C=document.getElementById("log-end-1"))==null||C.scrollIntoView({behavior:"smooth",block:"nearest"})},le=(Y,C)=>C.roleIndex==Y,Z=Y=>{Y.preventDefault(),ae.improveWithLuck()},ge=(Y,C)=>C.id==Y.id,ve=(Y,C)=>C.id==Y.id,be=(Y,C)=>C.id==Y.id;return n.$$set=Y=>{"entry"in Y&&t(0,ae=Y.entry),"index"in Y&&t(1,P=Y.index)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(17,l=ae.charState),n.$$.dirty[0]&131072&&t(11,i=l.char),n.$$.dirty[0]&1&&ae.charState.GlüksPunkte,n.$$.dirty[0]&1&&K(t(10,r=ae.improveWithLuckCost)),n.$$.dirty[0]&1&&j(t(9,f=ae.quality)),n.$$.dirty[0]&1&&p(t(8,u=ae.tawResult)),n.$$.dirty[0]&1&&A(t(7,o=ae.effectiveRoles)),n.$$.dirty[0]&1&&h(t(3,J=ae.modifier)),n.$$.dirty[0]&1&&ke(t(6,s=ae.modifierAvailable)),n.$$.dirty[0]&4&&t(5,c=a.filter(Y=>Y.type=="quality")),n.$$.dirty[0]&4&&t(4,m=a.filter(Y=>Y.type=="result"))},[ae,P,a,J,m,c,s,o,u,f,r,i,k,V,D,q,fe,l,oe,_e,x,Q,ee,Ee,ce,he,R,re,te,le,Z,ge,ve,be]}class Tf extends qe{constructor(e){super(),Fe(this,e,yf,Ef,Ge,{entry:0,index:1},null,[-1,-1])}}function wn(n,e,t){const l=n.slice();return l[37]=e[t],l}function Mn(n,e,t){const l=n.slice();return l[40]=e[t][0],l[41]=e[t][1],l}function Nn(n,e,t){const l=n.slice();return l[44]=e[t],l}function In(n,e,t){const l=n.slice();return l[40]=e[t],l}function Dn(n,e,t){const l=n.slice();return l[49]=e[t],l}function An(n,e,t){const l=n.slice();return l[52]=e[t],l}function Sn(n,e,t){const l=n.slice();return l[55]=e[t],l}function On(n,e,t){const l=n.slice();return l[55]=e[t],l}function Ln(n){let e,t,l,i,r;return{c(){e=y("a"),t=E("Zum Log Springen"),l=y("br"),this.h()},l(f){e=T(f,"A",{href:!0});var u=w(e);t=$(u,"Zum Log Springen"),u.forEach(_),l=T(f,"BR",{}),this.h()},h(){z(e,"href","#log-end-1")},m(f,u){g(f,e,u),v(e,t),g(f,l,u),i||(r=ye(e,"click",n[30]),i=!0)},p:me,d(f){f&&_(e),f&&_(l),i=!1,r()}}}function wf(n){let e,t=-n[0].difficulty+"",l;return{c(){e=E("mit Bonus "),l=E(t)},l(i){e=$(i,"mit Bonus "),l=$(i,t)},m(i,r){g(i,e,r),g(i,l,r)},p(i,r){r[0]&1&&t!==(t=-i[0].difficulty+"")&&I(l,t)},d(i){i&&_(e),i&&_(l)}}}function Mf(n){let e,t=n[0].difficulty+"",l;return{c(){e=E("mit Malus "),l=E(t)},l(i){e=$(i,"mit Malus "),l=$(i,t)},m(i,r){g(i,e,r),g(i,l,r)},p(i,r){r[0]&1&&t!==(t=i[0].difficulty+"")&&I(l,t)},d(i){i&&_(e),i&&_(l)}}}function Nf(n){let e,t,l,i,r,f,u,o=n[6].length>0&&zn(n),s=n[5].length>0&&Rn(n);return{c(){e=y("span"),t=E(n[15]),o&&o.c(),l=y("small"),i=E("("),r=E(n[14]),s&&s.c(),f=E(")")},l(c){e=T(c,"SPAN",{});var m=w(e);t=$(m,n[15]),o&&o.l(m),l=T(m,"SMALL",{});var a=w(l);i=$(a,"("),r=$(a,n[14]),s&&s.l(a),f=$(a,")"),a.forEach(_),m.forEach(_)},m(c,m){g(c,e,m),v(e,t),o&&o.m(e,null),v(e,l),v(l,i),v(l,r),s&&s.m(l,null),v(l,f),u=!0},p(c,m){(!u||m[0]&32768)&&I(t,c[15]),c[6].length>0?o?(o.p(c,m),m[0]&64&&X(o,1)):(o=zn(c),o.c(),X(o,1),o.m(e,l)):o&&(Ce(),se(o,1,1,()=>{o=null}),je()),(!u||m[0]&16384)&&I(r,c[14]),c[5].length>0?s?(s.p(c,m),m[0]&32&&X(s,1)):(s=Rn(c),s.c(),X(s,1),s.m(l,f)):s&&(Ce(),se(s,1,1,()=>{s=null}),je())},i(c){u||(X(o),X(s),u=!0)},o(c){se(o),se(s),u=!1},d(c){c&&_(e),o&&o.d(),s&&s.d()}}}function If(n){let e,t;return{c(){e=y("span"),t=E("Fehlschlag"),this.h()},l(l){e=T(l,"SPAN",{class:!0});var i=w(e);t=$(i,"Fehlschlag"),i.forEach(_),this.h()},h(){z(e,"class","miss svelte-1s5djez")},m(l,i){g(l,e,i),v(e,t)},p:me,i:me,o:me,d(l){l&&_(e)}}}function Df(n){let e,t,l=n[0].quality+"",i,r,f,u=n[0].tawResult+"",o,s;return{c(){e=y("span"),t=E("Glück "),i=E(l),r=y("small"),f=E("("),o=E(u),s=E(")"),this.h()},l(c){e=T(c,"SPAN",{class:!0});var m=w(e);t=$(m,"Glück "),i=$(m,l),r=T(m,"SMALL",{});var a=w(r);f=$(a,"("),o=$(a,u),s=$(a,")"),a.forEach(_),m.forEach(_),this.h()},h(){z(e,"class","luky svelte-1s5djez")},m(c,m){g(c,e,m),v(e,t),v(e,i),v(e,r),v(r,f),v(r,o),v(r,s)},p(c,m){m[0]&1&&l!==(l=c[0].quality+"")&&I(i,l),m[0]&1&&u!==(u=c[0].tawResult+"")&&I(o,u)},i:me,o:me,d(c){c&&_(e)}}}function Af(n){let e,t;return{c(){e=y("span"),t=E("Patzer"),this.h()},l(l){e=T(l,"SPAN",{class:!0});var i=w(e);t=$(i,"Patzer"),i.forEach(_),this.h()},h(){z(e,"class","miss svelte-1s5djez")},m(l,i){g(l,e,i),v(e,t)},p:me,i:me,o:me,d(l){l&&_(e)}}}function zn(n){let e,t;return e=new ft({props:{$$slots:{tooltip:[Of],default:[Sf]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i[0]&64|i[1]&536870912&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Sf(n){let e;return{c(){e=E(`*
						
					`)},l(t){e=$(t,`*
						
					`)},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function Pn(n){let e,t=n[55].text+"",l,i,r=n[55].change<0?"verschlechtert":"verbessert",f,u,o=Math.abs(n[55].change)+"",s,c;return{c(){e=y("li"),l=E(t),i=S(),f=E(r),u=E(" die Qualität um "),s=E(o),c=S()},l(m){e=T(m,"LI",{});var a=w(e);l=$(a,t),i=O(a),f=$(a,r),u=$(a," die Qualität um "),s=$(a,o),c=O(a),a.forEach(_)},m(m,a){g(m,e,a),v(e,l),v(e,i),v(e,f),v(e,u),v(e,s),v(e,c)},p(m,a){a[0]&64&&t!==(t=m[55].text+"")&&I(l,t),a[0]&64&&r!==(r=m[55].change<0?"verschlechtert":"verbessert")&&I(f,r),a[0]&64&&o!==(o=Math.abs(m[55].change)+"")&&I(s,o)},d(m){m&&_(e)}}}function Of(n){let e,t,l,i=n[6],r=[];for(let f=0;f<i.length;f+=1)r[f]=Pn(On(n,i,f));return{c(){e=y("div"),t=y("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=S(),this.h()},l(f){e=T(f,"DIV",{slot:!0});var u=w(e);t=T(u,"UL",{});var o=w(t);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_),l=O(u),u.forEach(_),this.h()},h(){z(e,"slot","tooltip")},m(f,u){g(f,e,u),v(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null);v(e,l)},p(f,u){if(u[0]&64){i=f[6];let o;for(o=0;o<i.length;o+=1){const s=On(f,i,o);r[o]?r[o].p(s,u):(r[o]=Pn(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(f){f&&_(e),$e(r,f)}}}function Rn(n){let e,t;return e=new ft({props:{$$slots:{tooltip:[zf],default:[Lf]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i[0]&32|i[1]&536870912&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Lf(n){let e;return{c(){e=E(`*
							
						`)},l(t){e=$(t,`*
							
						`)},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function Bn(n){let e,t=n[55].text+"",l,i,r=n[55].change<0?"verschlechtert":"verbessert",f,u,o=Math.abs(n[55].change)+"",s,c;return{c(){e=y("li"),l=E(t),i=S(),f=E(r),u=E(" das Ergebnis um "),s=E(o),c=S()},l(m){e=T(m,"LI",{});var a=w(e);l=$(a,t),i=O(a),f=$(a,r),u=$(a," das Ergebnis um "),s=$(a,o),c=O(a),a.forEach(_)},m(m,a){g(m,e,a),v(e,l),v(e,i),v(e,f),v(e,u),v(e,s),v(e,c)},p(m,a){a[0]&32&&t!==(t=m[55].text+"")&&I(l,t),a[0]&32&&r!==(r=m[55].change<0?"verschlechtert":"verbessert")&&I(f,r),a[0]&32&&o!==(o=Math.abs(m[55].change)+"")&&I(s,o)},d(m){m&&_(e)}}}function zf(n){let e,t,l,i=n[5],r=[];for(let f=0;f<i.length;f+=1)r[f]=Bn(Sn(n,i,f));return{c(){e=y("div"),t=y("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=S(),this.h()},l(f){e=T(f,"DIV",{slot:!0});var u=w(e);t=T(u,"UL",{});var o=w(t);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_),l=O(u),u.forEach(_),this.h()},h(){z(e,"slot","tooltip")},m(f,u){g(f,e,u),v(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null);v(e,l)},p(f,u){if(u[0]&32){i=f[5];let o;for(o=0;o<i.length;o+=1){const s=Sn(f,i,o);r[o]?r[o].p(s,u):(r[o]=Bn(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(f){f&&_(e),$e(r,f)}}}function Cn(n){let e=ne(n[52].tactic.Name)+"",t,l,i=(Object.keys(n[52].variables).length>0?Qe(Object.entries(n[52].variables).map(ti),", "):"")+"",r;return{c(){t=E(e),l=S(),r=E(i)},l(f){t=$(f,e),l=O(f),r=$(f,i)},m(f,u){g(f,t,u),g(f,l,u),g(f,r,u)},p(f,u){u[0]&65536&&e!==(e=ne(f[52].tactic.Name)+"")&&I(t,e),u[0]&65536&&i!==(i=(Object.keys(f[52].variables).length>0?Qe(Object.entries(f[52].variables).map(ti),", "):"")+"")&&I(r,i)},d(f){f&&_(t),f&&_(l),f&&_(r)}}}function jn(n){let e,t,l=ne(n[49].tactic.Name)+"",i,r,f=(Object.keys(n[49].variables).length>0?Qe(Object.entries(n[49].variables).map(ei),", "):"")+"",u,o,s,c,m,a=n[49].tacticValue+"",d,h,k=n[49].support,b=[];for(let p=0;p<k.length;p+=1)b[p]=Cn(An(n,k,p));return{c(){e=y("tr"),t=y("td"),i=E(l),r=S(),u=E(f),o=S(),s=y("td");for(let p=0;p<b.length;p+=1)b[p].c();c=S(),m=y("td"),d=E(a),h=S()},l(p){e=T(p,"TR",{});var V=w(e);t=T(V,"TD",{});var M=w(t);i=$(M,l),r=O(M),u=$(M,f),M.forEach(_),o=O(V),s=T(V,"TD",{});var j=w(s);for(let W=0;W<b.length;W+=1)b[W].l(j);j.forEach(_),c=O(V),m=T(V,"TD",{});var D=w(m);d=$(D,a),D.forEach(_),h=O(V),V.forEach(_)},m(p,V){g(p,e,V),v(e,t),v(t,i),v(t,r),v(t,u),v(e,o),v(e,s);for(let M=0;M<b.length;M+=1)b[M].m(s,null);v(e,c),v(e,m),v(m,d),v(e,h)},p(p,V){if(V[0]&65536&&l!==(l=ne(p[49].tactic.Name)+"")&&I(i,l),V[0]&65536&&f!==(f=(Object.keys(p[49].variables).length>0?Qe(Object.entries(p[49].variables).map(ei),", "):"")+"")&&I(u,f),V[0]&65536){k=p[49].support;let M;for(M=0;M<k.length;M+=1){const j=An(p,k,M);b[M]?b[M].p(j,V):(b[M]=Cn(j),b[M].c(),b[M].m(s,null))}for(;M<b.length;M+=1)b[M].d(1);b.length=k.length}V[0]&65536&&a!==(a=p[49].tacticValue+"")&&I(d,a)},d(p){p&&_(e),$e(b,p)}}}function Un(n){let e,t=ne(n[40].name,n[0].charState.char)+"",l,i;return{c(){e=y("td"),l=E(t),i=S()},l(r){e=T(r,"TD",{});var f=w(e);l=$(f,t),i=O(f),f.forEach(_)},m(r,f){g(r,e,f),v(e,l),v(e,i)},p(r,f){f[0]&1&&t!==(t=ne(r[40].name,r[0].charState.char)+"")&&I(l,t)},d(r){r&&_(e)}}}function Wn(n){let e,t;return e=new ft({props:{$$slots:{tooltip:[Uf],default:[Pf]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i[0]&139273|i[1]&536870912&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Pf(n){let e;return{c(){e=E("*")},l(t){e=$(t,"*")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function Rf(n){let e=n[44].text+"",t;return{c(){t=E(e)},l(l){t=$(l,e)},m(l,i){g(l,t,i)},p(l,i){i[0]&131080&&e!==(e=l[44].text+"")&&I(t,e)},d(l){l&&_(t)}}}function Bf(n){let e=n[44].text+"",t,l,i=n[44].change<0?"reduziert":"erhöt",r,f,u=n[44].roleIndex+"",o,s,c=ne(n[0].roles[n[41]].name,n[13])+"",m,a,d=Math.abs(n[44].change)+"",h,k;return{c(){t=E(e),l=S(),r=E(i),f=E(" den Wert des "),o=E(u),s=E(`. Würfels
													für `),m=E(c),a=E(" um "),h=E(d),k=E(".")},l(b){t=$(b,e),l=O(b),r=$(b,i),f=$(b," den Wert des "),o=$(b,u),s=$(b,`. Würfels
													für `),m=$(b,c),a=$(b," um "),h=$(b,d),k=$(b,".")},m(b,p){g(b,t,p),g(b,l,p),g(b,r,p),g(b,f,p),g(b,o,p),g(b,s,p),g(b,m,p),g(b,a,p),g(b,h,p),g(b,k,p)},p(b,p){p[0]&131080&&e!==(e=b[44].text+"")&&I(t,e),p[0]&131080&&i!==(i=b[44].change<0?"reduziert":"erhöt")&&I(r,i),p[0]&131080&&u!==(u=b[44].roleIndex+"")&&I(o,u),p[0]&139265&&c!==(c=ne(b[0].roles[b[41]].name,b[13])+"")&&I(m,c),p[0]&131080&&d!==(d=Math.abs(b[44].change)+"")&&I(h,d)},d(b){b&&_(t),b&&_(l),b&&_(r),b&&_(f),b&&_(o),b&&_(s),b&&_(m),b&&_(a),b&&_(h),b&&_(k)}}}function Cf(n){let e=n[44].text+"",t,l,i=n[0].roles[n[41]].role+"",r,f,u=ne(n[0].roles[n[41]].name,n[13])+"",o;return{c(){t=E(e),l=E(" Ignoriert "),r=E(i),f=E(" für "),o=E(u)},l(s){t=$(s,e),l=$(s," Ignoriert "),r=$(s,i),f=$(s," für "),o=$(s,u)},m(s,c){g(s,t,c),g(s,l,c),g(s,r,c),g(s,f,c),g(s,o,c)},p(s,c){c[0]&131080&&e!==(e=s[44].text+"")&&I(t,e),c[0]&131073&&i!==(i=s[0].roles[s[41]].role+"")&&I(r,i),c[0]&139265&&u!==(u=ne(s[0].roles[s[41]].name,s[13])+"")&&I(o,u)},d(s){s&&_(t),s&&_(l),s&&_(r),s&&_(f),s&&_(o)}}}function jf(n){let e=n[44].text+"",t,l,i=n[0].roles[n[41]].role+"",r,f,u=ne(n[0].roles[n[41]].name,n[13])+"",o,s,c=n[44].change+"",m;return{c(){t=E(e),l=E(" ersetzt "),r=E(i),f=E(" für "),o=E(u),s=E(" durch "),m=E(c)},l(a){t=$(a,e),l=$(a," ersetzt "),r=$(a,i),f=$(a," für "),o=$(a,u),s=$(a," durch "),m=$(a,c)},m(a,d){g(a,t,d),g(a,l,d),g(a,r,d),g(a,f,d),g(a,o,d),g(a,s,d),g(a,m,d)},p(a,d){d[0]&131080&&e!==(e=a[44].text+"")&&I(t,e),d[0]&131073&&i!==(i=a[0].roles[a[41]].role+"")&&I(r,i),d[0]&139265&&u!==(u=ne(a[0].roles[a[41]].name,a[13])+"")&&I(o,u),d[0]&131080&&c!==(c=a[44].change+"")&&I(m,c)},d(a){a&&_(t),a&&_(l),a&&_(r),a&&_(f),a&&_(o),a&&_(s),a&&_(m)}}}function qn(n){let e,t;function l(f,u){return f[44].type=="substitute"?jf:f[44].type=="ignore"?Cf:f[44].type=="modify"?Bf:Rf}let i=l(n),r=i(n);return{c(){e=y("li"),r.c(),t=S()},l(f){e=T(f,"LI",{});var u=w(e);r.l(u),t=O(u),u.forEach(_)},m(f,u){g(f,e,u),r.m(e,null),v(e,t)},p(f,u){i===(i=l(f))&&r?r.p(f,u):(r.d(1),r=i(f),r&&(r.c(),r.m(e,t)))},d(f){f&&_(e),r.d()}}}function Uf(n){let e,t;function l(...f){return n[31](n[41],...f)}let i=n[3].filter(l),r=[];for(let f=0;f<i.length;f+=1)r[f]=qn(Nn(n,i,f));return{c(){e=y("div"),t=y("ul");for(let f=0;f<r.length;f+=1)r[f].c();this.h()},l(f){e=T(f,"DIV",{slot:!0});var u=w(e);t=T(u,"UL",{});var o=w(t);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_),u.forEach(_),this.h()},h(){z(e,"slot","tooltip")},m(f,u){g(f,e,u),v(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(f,u){if(n=f,u[0]&139273){i=n[3].filter(l);let o;for(o=0;o<i.length;o+=1){const s=Nn(n,i,o);r[o]?r[o].p(s,u):(r[o]=qn(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(f){f&&_(e),$e(r,f)}}}function Fn(n){let e,t,l=n[40].role+"",i,r=n[3].some(m),f,u=n[40].target+"",o,s,c;function m(...d){return n[29](n[41],...d)}let a=r&&Wn(n);return{c(){e=y("td"),t=y("span"),i=E(l),a&&a.c(),f=E(`
						≥ `),o=E(u),s=S(),this.h()},l(d){e=T(d,"TD",{});var h=w(e);t=T(h,"SPAN",{class:!0});var k=w(t);i=$(k,l),a&&a.l(k),f=$(k,`
						≥ `),o=$(k,u),k.forEach(_),s=O(h),h.forEach(_),this.h()},h(){z(t,"class","svelte-1s5djez"),He(t,"miss",n[40].role<n[40].target)},m(d,h){g(d,e,h),v(e,t),v(t,i),a&&a.m(t,null),v(t,f),v(t,o),v(e,s),c=!0},p(d,h){n=d,(!c||h[0]&131072)&&l!==(l=n[40].role+"")&&I(i,l),h[0]&131080&&(r=n[3].some(m)),r?a?(a.p(n,h),h[0]&131080&&X(a,1)):(a=Wn(n),a.c(),X(a,1),a.m(t,f)):a&&(Ce(),se(a,1,1,()=>{a=null}),je()),(!c||h[0]&131072)&&u!==(u=n[40].target+"")&&I(o,u),(!c||h[0]&131072)&&He(t,"miss",n[40].role<n[40].target)},i(d){c||(X(a),c=!0)},o(d){se(a),c=!1},d(d){d&&_(e),a&&a.d()}}}function Gn(n){let e,t,l,i,r,f;return{c(){e=y("a"),t=E("Reduzieren (-"),l=E(n[18]),i=E(" GlP)"),this.h()},l(u){e=T(u,"A",{href:!0});var o=w(e);t=$(o,"Reduzieren (-"),l=$(o,n[18]),i=$(o," GlP)"),o.forEach(_),this.h()},h(){z(e,"href","#")},m(u,o){g(u,e,o),v(e,t),v(e,l),v(e,i),r||(f=ye(e,"click",n[32]),r=!0)},p(u,o){o[0]&262144&&I(l,u[18])},d(u){u&&_(e),r=!1,f()}}}function Kn(n){let e,t,l,i,r,f=n[19],u=[];for(let o=0;o<f.length;o+=1)u[o]=xn(wn(n,f,o));return{c(){e=y("details"),t=y("summary"),l=E("Modifikatoren"),i=S(),r=y("ul");for(let o=0;o<u.length;o+=1)u[o].c()},l(o){e=T(o,"DETAILS",{});var s=w(e);t=T(s,"SUMMARY",{});var c=w(t);l=$(c,"Modifikatoren"),c.forEach(_),i=O(s),r=T(s,"UL",{});var m=w(r);for(let a=0;a<u.length;a+=1)u[a].l(m);m.forEach(_),s.forEach(_)},m(o,s){g(o,e,s),v(e,t),v(t,l),v(e,i),v(e,r);for(let c=0;c<u.length;c+=1)u[c].m(r,null)},p(o,s){if(s[0]&532489){f=o[19];let c;for(c=0;c<f.length;c+=1){const m=wn(o,f,c);u[c]?u[c].p(m,s):(u[c]=xn(m),u[c].c(),u[c].m(r,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=f.length}},d(o){o&&_(e),$e(u,o)}}}function Wf(n){let e,t=JSON.stringify(n[37])+"",l;return{c(){e=y("small"),l=E(t)},l(i){e=T(i,"SMALL",{});var r=w(e);l=$(r,t),r.forEach(_)},m(i,r){g(i,e,r),v(e,l)},p(i,r){r[0]&524288&&t!==(t=JSON.stringify(i[37])+"")&&I(l,t)},d(i){i&&_(e)}}}function qf(n){let e;function t(r,f){return r[37].roleIndex=="any"?Zf:Jf}let l=t(n),i=l(n);return{c(){i.c(),e=ue()},l(r){i.l(r),e=ue()},m(r,f){i.m(r,f),g(r,e,f)},p(r,f){l===(l=t(r))&&i?i.p(r,f):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&_(e)}}}function Ff(n){let e=n[37].text+"",t,l,i=n[37].change<0?"verschlechtert":"verbessert",r,f,u=n[37].change+"",o,s,c=!n[3].some(a),m;function a(...h){return n[26](n[37],...h)}let d=c&&Qn();return{c(){t=E(e),l=S(),r=E(i),f=E(" die Qualität um "),o=E(u),s=E(`.
							`),d&&d.c(),m=ue()},l(h){t=$(h,e),l=O(h),r=$(h,i),f=$(h," die Qualität um "),o=$(h,u),s=$(h,`.
							`),d&&d.l(h),m=ue()},m(h,k){g(h,t,k),g(h,l,k),g(h,r,k),g(h,f,k),g(h,o,k),g(h,s,k),d&&d.m(h,k),g(h,m,k)},p(h,k){n=h,k[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),k[0]&524288&&i!==(i=n[37].change<0?"verschlechtert":"verbessert")&&I(r,i),k[0]&524288&&u!==(u=n[37].change+"")&&I(o,u),k[0]&524296&&(c=!n[3].some(a)),c?d||(d=Qn(),d.c(),d.m(m.parentNode,m)):d&&(d.d(1),d=null)},d(h){h&&_(t),h&&_(l),h&&_(r),h&&_(f),h&&_(o),h&&_(s),d&&d.d(h),h&&_(m)}}}function Gf(n){let e=n[37].text+"",t,l,i=n[37].change<0?"verschlechtert":"verbessert",r,f,u=n[37].change+"",o,s,c=!n[3].some(a),m;function a(...h){return n[25](n[37],...h)}let d=c&&Jn();return{c(){t=E(e),l=S(),r=E(i),f=E(" das Ergebniss um "),o=E(u),s=E(`.
							`),d&&d.c(),m=ue()},l(h){t=$(h,e),l=O(h),r=$(h,i),f=$(h," das Ergebniss um "),o=$(h,u),s=$(h,`.
							`),d&&d.l(h),m=ue()},m(h,k){g(h,t,k),g(h,l,k),g(h,r,k),g(h,f,k),g(h,o,k),g(h,s,k),d&&d.m(h,k),g(h,m,k)},p(h,k){n=h,k[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),k[0]&524288&&i!==(i=n[37].change<0?"verschlechtert":"verbessert")&&I(r,i),k[0]&524288&&u!==(u=n[37].change+"")&&I(o,u),k[0]&524296&&(c=!n[3].some(a)),c?d||(d=Jn(),d.c(),d.m(m.parentNode,m)):d&&(d.d(1),d=null)},d(h){h&&_(t),h&&_(l),h&&_(r),h&&_(f),h&&_(o),h&&_(s),d&&d.d(h),h&&_(m)}}}function Kf(n){let e;function t(r,f){return r[37].roleIndex=="any"?eu:xf}let l=t(n),i=l(n);return{c(){i.c(),e=ue()},l(r){i.l(r),e=ue()},m(r,f){i.m(r,f),g(r,e,f)},p(r,f){l===(l=t(r))&&i?i.p(r,f):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&_(e)}}}function Hf(n){let e;function t(r,f){return r[37].roleIndex=="any"?iu:nu}let l=t(n),i=l(n);return{c(){i.c(),e=ue()},l(r){i.l(r),e=ue()},m(r,f){i.m(r,f),g(r,e,f)},p(r,f){l===(l=t(r))&&i?i.p(r,f):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&_(e)}}}function Qf(n){let e=n[37].text+"",t,l,i=ne(n[37].name,n[13])+"",r,f,u=n[37].role+"",o,s,c=n[37].target+"",m,a,d=!n[3].some(k),h;function k(...p){return n[20](n[37],...p)}let b=d&&Xn();return{c(){t=E(e),l=E(" testet zusätzlich auf "),r=E(i),f=E(" mit "),o=E(u),s=E(" ≤ "),m=E(c),a=S(),b&&b.c(),h=ue()},l(p){t=$(p,e),l=$(p," testet zusätzlich auf "),r=$(p,i),f=$(p," mit "),o=$(p,u),s=$(p," ≤ "),m=$(p,c),a=O(p),b&&b.l(p),h=ue()},m(p,V){g(p,t,V),g(p,l,V),g(p,r,V),g(p,f,V),g(p,o,V),g(p,s,V),g(p,m,V),g(p,a,V),b&&b.m(p,V),g(p,h,V)},p(p,V){n=p,V[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),V[0]&532480&&i!==(i=ne(n[37].name,n[13])+"")&&I(r,i),V[0]&524288&&u!==(u=n[37].role+"")&&I(o,u),V[0]&524288&&c!==(c=n[37].target+"")&&I(m,c),V[0]&524296&&(d=!n[3].some(k)),d?b||(b=Xn(),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(p){p&&_(t),p&&_(l),p&&_(r),p&&_(f),p&&_(o),p&&_(s),p&&_(m),p&&_(a),b&&b.d(p),p&&_(h)}}}function Jf(n){let e=n[37].text+"",t,l,i=ne(n[0].roles[n[37].roleIndex].name,n[13])+"",r,f,u=n[0].roles[n[37].roleIndex].role+"",o,s,c=n[0].roles[n[37].roleIndex].target+"",m,a,d=!n[3].some(k),h;function k(...p){return n[28](n[37],...p)}let b=d&&Hn();return{c(){t=E(e),l=E(" ersetzt "),r=E(i),f=E(" mit "),o=E(u),s=E(" ≤ "),m=E(c),a=E(`.
								`),b&&b.c(),h=ue()},l(p){t=$(p,e),l=$(p," ersetzt "),r=$(p,i),f=$(p," mit "),o=$(p,u),s=$(p," ≤ "),m=$(p,c),a=$(p,`.
								`),b&&b.l(p),h=ue()},m(p,V){g(p,t,V),g(p,l,V),g(p,r,V),g(p,f,V),g(p,o,V),g(p,s,V),g(p,m,V),g(p,a,V),b&&b.m(p,V),g(p,h,V)},p(p,V){n=p,V[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),V[0]&532481&&i!==(i=ne(n[0].roles[n[37].roleIndex].name,n[13])+"")&&I(r,i),V[0]&524289&&u!==(u=n[0].roles[n[37].roleIndex].role+"")&&I(o,u),V[0]&524289&&c!==(c=n[0].roles[n[37].roleIndex].target+"")&&I(m,c),V[0]&524296&&(d=!n[3].some(k)),d?b||(b=Hn(),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(p){p&&_(t),p&&_(l),p&&_(r),p&&_(f),p&&_(o),p&&_(s),p&&_(m),p&&_(a),b&&b.d(p),p&&_(h)}}}function Zf(n){let e=n[37].text+"",t,l,i=n[37].change+"",r,f,u,o;function s(...d){return n[27](n[37],...d)}function c(d,h){return h[0]&524296&&(u=null),u==null&&(u=!!d[3].some(s)),u?Xf:Yf}let m=c(n,[-1,-1]),a=m(n);return{c(){t=E(e),l=E(" verändert einen belibigen Würfel um "),r=E(i),f=E(`.
								`),a.c(),o=ue()},l(d){t=$(d,e),l=$(d," verändert einen belibigen Würfel um "),r=$(d,i),f=$(d,`.
								`),a.l(d),o=ue()},m(d,h){g(d,t,h),g(d,l,h),g(d,r,h),g(d,f,h),a.m(d,h),g(d,o,h)},p(d,h){n=d,h[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),h[0]&524288&&i!==(i=n[37].change+"")&&I(r,i),m===(m=c(n,h))&&a?a.p(n,h):(a.d(1),a=m(n),a&&(a.c(),a.m(o.parentNode,o)))},d(d){d&&_(t),d&&_(l),d&&_(r),d&&_(f),a.d(d),d&&_(o)}}}function Hn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function Yf(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},p:me,d(t){t&&_(e)}}}function Xf(n){let e,t=n[3].filter(r)[0].roleIndex+"",l,i;function r(...f){return n[35](n[37],...f)}return{c(){e=E("Es wird der "),l=E(t),i=E(`. Würfel
									Modifiziert.`)},l(f){e=$(f,"Es wird der "),l=$(f,t),i=$(f,`. Würfel
									Modifiziert.`)},m(f,u){g(f,e,u),g(f,l,u),g(f,i,u)},p(f,u){n=f,u[0]&524296&&t!==(t=n[3].filter(r)[0].roleIndex+"")&&I(l,t)},d(f){f&&_(e),f&&_(l),f&&_(i)}}}function Qn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function Jn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function xf(n){let e=n[37].text+"",t,l,i=ne(n[0].roles[n[37].roleIndex].name,n[13])+"",r,f,u=n[0].roles[n[37].roleIndex].role+"",o,s,c=n[0].roles[n[37].roleIndex].target+"",m,a,d=!n[3].some(k),h;function k(...p){return n[24](n[37],...p)}let b=d&&Zn();return{c(){t=E(e),l=E(" ersetzt "),r=E(i),f=E(" mit "),o=E(u),s=E(" ≤ "),m=E(c),a=E(`.
								`),b&&b.c(),h=ue()},l(p){t=$(p,e),l=$(p," ersetzt "),r=$(p,i),f=$(p," mit "),o=$(p,u),s=$(p," ≤ "),m=$(p,c),a=$(p,`.
								`),b&&b.l(p),h=ue()},m(p,V){g(p,t,V),g(p,l,V),g(p,r,V),g(p,f,V),g(p,o,V),g(p,s,V),g(p,m,V),g(p,a,V),b&&b.m(p,V),g(p,h,V)},p(p,V){n=p,V[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),V[0]&532481&&i!==(i=ne(n[0].roles[n[37].roleIndex].name,n[13])+"")&&I(r,i),V[0]&524289&&u!==(u=n[0].roles[n[37].roleIndex].role+"")&&I(o,u),V[0]&524289&&c!==(c=n[0].roles[n[37].roleIndex].target+"")&&I(m,c),V[0]&524296&&(d=!n[3].some(k)),d?b||(b=Zn(),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(p){p&&_(t),p&&_(l),p&&_(r),p&&_(f),p&&_(o),p&&_(s),p&&_(m),p&&_(a),b&&b.d(p),p&&_(h)}}}function eu(n){let e=n[37].text+"",t,l,i=n[37].change+"",r,f,u,o;function s(...d){return n[23](n[37],...d)}function c(d,h){return h[0]&524296&&(u=null),u==null&&(u=!!d[3].some(s)),u?lu:tu}let m=c(n,[-1,-1]),a=m(n);return{c(){t=E(e),l=E(" erlaubt einen belibigen Würfel mit "),r=E(i),f=E(` zu ersetzen.
								`),a.c(),o=ue()},l(d){t=$(d,e),l=$(d," erlaubt einen belibigen Würfel mit "),r=$(d,i),f=$(d,` zu ersetzen.
								`),a.l(d),o=ue()},m(d,h){g(d,t,h),g(d,l,h),g(d,r,h),g(d,f,h),a.m(d,h),g(d,o,h)},p(d,h){n=d,h[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),h[0]&524288&&i!==(i=n[37].change+"")&&I(r,i),m===(m=c(n,h))&&a?a.p(n,h):(a.d(1),a=m(n),a&&(a.c(),a.m(o.parentNode,o)))},d(d){d&&_(t),d&&_(l),d&&_(r),d&&_(f),a.d(d),d&&_(o)}}}function Zn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function tu(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},p:me,d(t){t&&_(e)}}}function lu(n){let e,t=n[3].filter(r)[0].roleIndex+"",l,i;function r(...f){return n[34](n[37],...f)}return{c(){e=E("Es wird der "),l=E(t),i=E(`. Würfel
									ersetzt.`)},l(f){e=$(f,"Es wird der "),l=$(f,t),i=$(f,`. Würfel
									ersetzt.`)},m(f,u){g(f,e,u),g(f,l,u),g(f,i,u)},p(f,u){n=f,u[0]&524296&&t!==(t=n[3].filter(r)[0].roleIndex+"")&&I(l,t)},d(f){f&&_(e),f&&_(l),f&&_(i)}}}function nu(n){let e=n[37].text+"",t,l,i=ne(n[0].roles[n[37].roleIndex].name,n[13])+"",r,f,u=n[0].roles[n[37].roleIndex].role+"",o,s,c=n[0].roles[n[37].roleIndex].target+"",m,a,d=!n[3].some(k),h;function k(...p){return n[22](n[37],...p)}let b=d&&Yn();return{c(){t=E(e),l=E(" ignoriert "),r=E(i),f=E(" mit "),o=E(u),s=E(" ≤ "),m=E(c),a=E(`.
								`),b&&b.c(),h=ue()},l(p){t=$(p,e),l=$(p," ignoriert "),r=$(p,i),f=$(p," mit "),o=$(p,u),s=$(p," ≤ "),m=$(p,c),a=$(p,`.
								`),b&&b.l(p),h=ue()},m(p,V){g(p,t,V),g(p,l,V),g(p,r,V),g(p,f,V),g(p,o,V),g(p,s,V),g(p,m,V),g(p,a,V),b&&b.m(p,V),g(p,h,V)},p(p,V){n=p,V[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),V[0]&532481&&i!==(i=ne(n[0].roles[n[37].roleIndex].name,n[13])+"")&&I(r,i),V[0]&524289&&u!==(u=n[0].roles[n[37].roleIndex].role+"")&&I(o,u),V[0]&524289&&c!==(c=n[0].roles[n[37].roleIndex].target+"")&&I(m,c),V[0]&524296&&(d=!n[3].some(k)),d?b||(b=Yn(),b.c(),b.m(h.parentNode,h)):b&&(b.d(1),b=null)},d(p){p&&_(t),p&&_(l),p&&_(r),p&&_(f),p&&_(o),p&&_(s),p&&_(m),p&&_(a),b&&b.d(p),p&&_(h)}}}function iu(n){let e=n[37].text+"",t,l,i,r;function f(...c){return n[21](n[37],...c)}function u(c,m){return m[0]&524296&&(i=null),i==null&&(i=!!c[3].some(f)),i?fu:ru}let o=u(n,[-1,-1]),s=o(n);return{c(){t=E(e),l=E(` erlaubt einen belibigen Würfel zu ignorieren.
								`),s.c(),r=ue()},l(c){t=$(c,e),l=$(c,` erlaubt einen belibigen Würfel zu ignorieren.
								`),s.l(c),r=ue()},m(c,m){g(c,t,m),g(c,l,m),s.m(c,m),g(c,r,m)},p(c,m){n=c,m[0]&524288&&e!==(e=n[37].text+"")&&I(t,e),o===(o=u(n,m))&&s?s.p(n,m):(s.d(1),s=o(n),s&&(s.c(),s.m(r.parentNode,r)))},d(c){c&&_(t),c&&_(l),s.d(c),c&&_(r)}}}function Yn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function ru(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},p:me,d(t){t&&_(e)}}}function fu(n){let e,t=n[3].filter(r)[0].roleIndex+"",l,i;function r(...f){return n[33](n[37],...f)}return{c(){e=E("Es wird der "),l=E(t),i=E(`. Würfel
									ignoriert.`)},l(f){e=$(f,"Es wird der "),l=$(f,t),i=$(f,`. Würfel
									ignoriert.`)},m(f,u){g(f,e,u),g(f,l,u),g(f,i,u)},p(f,u){n=f,u[0]&524296&&t!==(t=n[3].filter(r)[0].roleIndex+"")&&I(l,t)},d(f){f&&_(e),f&&_(l),f&&_(i)}}}function Xn(n){let e;return{c(){e=E("(Nicht verwendet)")},l(t){e=$(t,"(Nicht verwendet)")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function xn(n){let e,t;function l(f,u){return f[37].type=="addedRole"?Qf:f[37].type=="ignore"?Hf:f[37].type=="substitute"?Kf:f[37].type=="result"?Gf:f[37].type=="quality"?Ff:f[37].type=="modify"?qf:Wf}let i=l(n),r=i(n);return{c(){e=y("li"),r.c(),t=S()},l(f){e=T(f,"LI",{});var u=w(e);r.l(u),t=O(u),u.forEach(_)},m(f,u){g(f,e,u),r.m(e,null),v(e,t)},p(f,u){i===(i=l(f))&&r?r.p(f,u):(r.d(1),r=i(f),r&&(r.c(),r.m(e,t)))},d(f){f&&_(e),r.d()}}}function uu(n){var Y;let e,t,l=ne((Y=n[0].weapon)==null?void 0:Y.Name)+"",i,r,f=et(n[0].talent,n[2].char)+"",u,o,s,c,m,a,d,h,k,b,p,V,M,j,D,W,A,q,U,K,fe,ie,ke,ae,P,J,oe=n[1]==0&&Ln(n);function _e(C,pe){if(C[0].difficulty>0)return Mf;if(C[0].difficulty<0)return wf}let x=_e(n),Q=x&&x(n);const ee=[Af,Df,If,Nf],Ee=[];function ce(C,pe){return pe[0]&1&&(a=null),pe[0]&1&&(d=null),a==null&&(a=C[0].roles.filter(ou).length>1),a?0:(d==null&&(d=C[0].roles.filter(su).length>1),d?1:C[14]<0?2:3)}h=ce(n,[-1,-1]),k=Ee[h]=ee[h](n);let he=n[16],R=[];for(let C=0;C<he.length;C+=1)R[C]=jn(Dn(n,he,C));let re=n[0].roles,te=[];for(let C=0;C<re.length;C+=1)te[C]=Un(In(n,re,C));let le=Ze(n[17]),Z=[];for(let C=0;C<le.length;C+=1)Z[C]=Fn(Mn(n,le,C));const ge=C=>se(Z[C],1,1,()=>{Z[C]=null});let ve=n[18]!=null&&Gn(n),be=n[19].length>0&&Kn(n);return{c(){e=y("div"),oe&&oe.c(),t=E(`

	Kampf mit `),i=E(l),r=S(),u=E(f),o=S(),Q&&Q.c(),s=S(),c=y("strong"),m=E("Qualität: "),k.c(),b=S(),p=y("table");for(let C=0;C<R.length;C+=1)R[C].c();M=S(),j=y("div"),D=y("table"),W=y("tr");for(let C=0;C<te.length;C+=1)te[C].c();A=S(),q=y("tr");for(let C=0;C<Z.length;C+=1)Z[C].c();U=S(),K=y("div"),ve&&ve.c(),fe=S(),ie=y("div"),be&&be.c(),ke=S(),ae=y("div"),this.h()},l(C){e=T(C,"DIV",{id:!0,class:!0});var pe=w(e);oe&&oe.l(pe),t=$(pe,`

	Kampf mit `),i=$(pe,l),r=O(pe),u=$(pe,f),o=O(pe),Q&&Q.l(pe),s=O(pe),c=T(pe,"STRONG",{});var B=w(c);m=$(B,"Qualität: "),k.l(B),B.forEach(_),b=O(pe),p=T(pe,"TABLE",{class:!0});var N=w(p);for(let Se=0;Se<R.length;Se+=1)R[Se].l(N);N.forEach(_),pe.forEach(_),M=O(C),j=T(C,"DIV",{class:!0});var L=w(j);D=T(L,"TABLE",{class:!0});var G=w(D);W=T(G,"TR",{});var H=w(W);for(let Se=0;Se<te.length;Se+=1)te[Se].l(H);H.forEach(_),A=O(G),q=T(G,"TR",{});var Ve=w(q);for(let Se=0;Se<Z.length;Se+=1)Z[Se].l(Ve);Ve.forEach(_),G.forEach(_),L.forEach(_),U=O(C),K=T(C,"DIV",{class:!0});var we=w(K);ve&&ve.l(we),we.forEach(_),fe=O(C),ie=T(C,"DIV",{class:!0});var Re=w(ie);be&&be.l(Re),Re.forEach(_),ke=O(C),ae=T(C,"DIV",{class:!0,id:!0}),w(ae).forEach(_),this.h()},h(){z(p,"class","svelte-1s5djez"),z(e,"id",V="log-"+n[1]),z(e,"class","log first"),z(D,"class","probe-werte svelte-1s5djez"),z(j,"class","log"),z(K,"class","log"),z(ie,"class","log"),z(ae,"class","log last"),z(ae,"id",P="log-end-"+n[1])},m(C,pe){g(C,e,pe),oe&&oe.m(e,null),v(e,t),v(e,i),v(e,r),v(e,u),v(e,o),Q&&Q.m(e,null),v(e,s),v(e,c),v(c,m),Ee[h].m(c,null),v(e,b),v(e,p);for(let B=0;B<R.length;B+=1)R[B].m(p,null);g(C,M,pe),g(C,j,pe),v(j,D),v(D,W);for(let B=0;B<te.length;B+=1)te[B].m(W,null);v(D,A),v(D,q);for(let B=0;B<Z.length;B+=1)Z[B].m(q,null);g(C,U,pe),g(C,K,pe),ve&&ve.m(K,null),g(C,fe,pe),g(C,ie,pe),be&&be.m(ie,null),g(C,ke,pe),g(C,ae,pe),J=!0},p(C,pe){var N;C[1]==0?oe?oe.p(C,pe):(oe=Ln(C),oe.c(),oe.m(e,t)):oe&&(oe.d(1),oe=null),(!J||pe[0]&1)&&l!==(l=ne((N=C[0].weapon)==null?void 0:N.Name)+"")&&I(i,l),(!J||pe[0]&5)&&f!==(f=et(C[0].talent,C[2].char)+"")&&I(u,f),x===(x=_e(C))&&Q?Q.p(C,pe):(Q&&Q.d(1),Q=x&&x(C),Q&&(Q.c(),Q.m(e,s)));let B=h;if(h=ce(C,pe),h===B?Ee[h].p(C,pe):(Ce(),se(Ee[B],1,1,()=>{Ee[B]=null}),je(),k=Ee[h],k?k.p(C,pe):(k=Ee[h]=ee[h](C),k.c()),X(k,1),k.m(c,null)),pe[0]&65536){he=C[16];let L;for(L=0;L<he.length;L+=1){const G=Dn(C,he,L);R[L]?R[L].p(G,pe):(R[L]=jn(G),R[L].c(),R[L].m(p,null))}for(;L<R.length;L+=1)R[L].d(1);R.length=he.length}if((!J||pe[0]&2&&V!==(V="log-"+C[1]))&&z(e,"id",V),pe[0]&1){re=C[0].roles;let L;for(L=0;L<re.length;L+=1){const G=In(C,re,L);te[L]?te[L].p(G,pe):(te[L]=Un(G),te[L].c(),te[L].m(W,null))}for(;L<te.length;L+=1)te[L].d(1);te.length=re.length}if(pe[0]&139273){le=Ze(C[17]);let L;for(L=0;L<le.length;L+=1){const G=Mn(C,le,L);Z[L]?(Z[L].p(G,pe),X(Z[L],1)):(Z[L]=Fn(G),Z[L].c(),X(Z[L],1),Z[L].m(q,null))}for(Ce(),L=le.length;L<Z.length;L+=1)ge(L);je()}C[18]!=null?ve?ve.p(C,pe):(ve=Gn(C),ve.c(),ve.m(K,null)):ve&&(ve.d(1),ve=null),C[19].length>0?be?be.p(C,pe):(be=Kn(C),be.c(),be.m(ie,null)):be&&(be.d(1),be=null),(!J||pe[0]&2&&P!==(P="log-end-"+C[1]))&&z(ae,"id",P)},i(C){if(!J){X(k);for(let pe=0;pe<le.length;pe+=1)X(Z[pe]);J=!0}},o(C){se(k),Z=Z.filter(Boolean);for(let pe=0;pe<Z.length;pe+=1)se(Z[pe]);J=!1},d(C){C&&_(e),oe&&oe.d(),Q&&Q.d(),Ee[h].d(),$e(R,C),C&&_(M),C&&_(j),$e(te,C),$e(Z,C),C&&_(U),C&&_(K),ve&&ve.d(),C&&_(fe),C&&_(ie),be&&be.d(),C&&_(ke),C&&_(ae)}}}const ou=n=>n.role==1,su=n=>n.role==20,ei=([n,e])=>`${n}: ${e}`,ti=([n,e])=>`${n}: ${e}`;function au(n,e,t){let l,i,r,f,u,o,s,c,m,a,d,h=me,k=()=>(h(),h=We(Q,N=>t(3,d=N)),Q),b,p=me,V=()=>(p(),p=We(o,N=>t(14,b=N)),o),M,j=me,D=()=>(j(),j=We(u,N=>t(15,M=N)),u),W,A=me,q=()=>(A(),A=We(r,N=>t(16,W=N)),r),U,K=me,fe=()=>(K(),K=We(s,N=>t(17,U=N)),s),ie,ke=me,ae=()=>(ke(),ke=We(f,N=>t(18,ie=N)),f),P,J=me,oe=()=>(J(),J=We(c,N=>t(19,P=N)),c);n.$$.on_destroy.push(()=>h()),n.$$.on_destroy.push(()=>p()),n.$$.on_destroy.push(()=>j()),n.$$.on_destroy.push(()=>A()),n.$$.on_destroy.push(()=>K()),n.$$.on_destroy.push(()=>ke()),n.$$.on_destroy.push(()=>J());let{entry:_e}=e,{index:x}=e,Q;const ee=(N,L)=>L.id==N.id,Ee=(N,L)=>L.id==N.id,ce=(N,L)=>L.id==N.id,he=(N,L)=>L.id==N.id,R=(N,L)=>L.id==N.id,re=(N,L)=>L.id==N.id,te=(N,L)=>L.id==N.id,le=(N,L)=>L.id==N.id,Z=(N,L)=>L.id==N.id,ge=(N,L)=>L.roleIndex==N,ve=N=>{var L;N.preventDefault(),(L=document.getElementById("log-end-1"))==null||L.scrollIntoView({behavior:"smooth",block:"nearest"})},be=(N,L)=>L.roleIndex==N,Y=N=>{N.preventDefault(),_e.improveWithLuck()},C=(N,L)=>L.id==N.id,pe=(N,L)=>L.id==N.id,B=(N,L)=>L.id==N.id;return n.$$set=N=>{"entry"in N&&t(0,_e=N.entry),"index"in N&&t(1,x=N.index)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(2,l=_e.charState),n.$$.dirty[0]&4&&t(13,i=l.char),n.$$.dirty[0]&1&&_e.charState.GlüksPunkte,n.$$.dirty[0]&1&&q(t(12,r=_e.tacticsInformation)),n.$$.dirty[0]&1&&ae(t(11,f=_e.improveWithLuckCost)),n.$$.dirty[0]&1&&D(t(10,u=_e.quality)),n.$$.dirty[0]&1&&V(t(9,o=_e.tawResult)),n.$$.dirty[0]&1&&fe(t(8,s=_e.effectiveRoles)),n.$$.dirty[0]&1&&k(t(4,Q=_e.modifier)),n.$$.dirty[0]&1&&oe(t(7,c=_e.modifierAvailable)),n.$$.dirty[0]&8&&t(6,m=d.filter(N=>N.type=="quality")),n.$$.dirty[0]&8&&t(5,a=d.filter(N=>N.type=="result"))},[_e,x,l,d,Q,a,m,c,s,o,u,f,r,i,b,M,W,U,ie,P,ee,Ee,ce,he,R,re,te,le,Z,ge,ve,be,Y,C,pe,B]}class _u extends qe{constructor(e){super(),Fe(this,e,au,uu,Ge,{entry:0,index:1},null,[-1,-1])}}function li(n,e,t){const l=n.slice();return l[8]=e[t][0],l[9]=e[t][1],l}function ni(n,e,t){const l=n.slice();return l[12]=e[t],l}function cu(n){let e,t;return e=new Tf({props:{entry:n[8],index:n[9]}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i&1&&(r.entry=l[8]),i&1&&(r.index=l[9]),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function hu(n){let e,t;return e=new _u({props:{entry:n[8],index:n[9]}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i&1&&(r.entry=l[8]),i&1&&(r.index=l[9]),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function mu(n){let e,t,l=n[8].message[0]+"",i,r,f,u,o,s,c,m=n[9]==0&&ii(n),a=n[8].message.length>1&&ri(n),d=lt(n[8].message),h=[];for(let k=0;k<d.length;k+=1)h[k]=fi(ni(n,d,k));return{c(){e=y("div"),m&&m.c(),t=S(),i=E(l),a&&a.c(),f=S(),u=y("div");for(let k=0;k<h.length;k+=1)h[k].c();o=S(),s=y("div"),this.h()},l(k){e=T(k,"DIV",{id:!0,class:!0});var b=w(e);m&&m.l(b),t=O(b),i=$(b,l),a&&a.l(b),b.forEach(_),f=O(k),u=T(k,"DIV",{class:!0});var p=w(u);for(let V=0;V<h.length;V+=1)h[V].l(p);p.forEach(_),o=O(k),s=T(k,"DIV",{class:!0,id:!0}),w(s).forEach(_),this.h()},h(){z(e,"id",r="log-"+n[9]),z(e,"class","log"),z(u,"class","log"),z(s,"class","log last"),z(s,"id",c="log-end-"+n[9])},m(k,b){g(k,e,b),m&&m.m(e,null),v(e,t),v(e,i),a&&a.m(e,null),g(k,f,b),g(k,u,b);for(let p=0;p<h.length;p+=1)h[p].m(u,null);g(k,o,b),g(k,s,b)},p(k,b){if(k[9]==0?m?m.p(k,b):(m=ii(k),m.c(),m.m(e,t)):m&&(m.d(1),m=null),b&1&&l!==(l=k[8].message[0]+"")&&I(i,l),k[8].message.length>1?a?a.p(k,b):(a=ri(k),a.c(),a.m(e,null)):a&&(a.d(1),a=null),b&1&&r!==(r="log-"+k[9])&&z(e,"id",r),b&1){d=lt(k[8].message);let p;for(p=0;p<d.length;p+=1){const V=ni(k,d,p);h[p]?h[p].p(V,b):(h[p]=fi(V),h[p].c(),h[p].m(u,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=d.length}b&1&&c!==(c="log-end-"+k[9])&&z(s,"id",c)},i:me,o:me,d(k){k&&_(e),m&&m.d(),a&&a.d(),k&&_(f),k&&_(u),$e(h,k),k&&_(o),k&&_(s)}}}function ii(n){let e,t,l,i,r;return{c(){e=y("a"),t=E("Zum Log Springen"),l=y("br"),this.h()},l(f){e=T(f,"A",{class:!0,href:!0});var u=w(e);t=$(u,"Zum Log Springen"),u.forEach(_),l=T(f,"BR",{}),this.h()},h(){z(e,"class","hide-on-expand-log"),z(e,"href","#log-end-1")},m(f,u){g(f,e,u),v(e,t),g(f,l,u),i||(r=ye(e,"click",n[5]),i=!0)},p:me,d(f){f&&_(e),f&&_(l),i=!1,r()}}}function ri(n){let e,t,l,i;function r(...f){return n[6](n[9],...f)}return{c(){e=y("a"),t=E("…"),this.h()},l(f){e=T(f,"A",{class:!0,href:!0});var u=w(e);t=$(u,"…"),u.forEach(_),this.h()},h(){z(e,"class","hide-on-expand-log"),z(e,"href","#log-end-1")},m(f,u){g(f,e,u),v(e,t),l||(i=ye(e,"click",r),l=!0)},p(f,u){n=f},d(f){f&&_(e),l=!1,i()}}}function fi(n){let e,t=n[12]+"",l,i;return{c(){e=y("p"),l=E(t),i=S()},l(r){e=T(r,"P",{});var f=w(e);l=$(f,t),i=O(f),f.forEach(_)},m(r,f){g(r,e,f),v(e,l),v(e,i)},p(r,f){f&1&&t!==(t=r[12]+"")&&I(l,t)},d(r){r&&_(e)}}}function ui(n){let e,t,l,i;const r=[mu,hu,cu],f=[];function u(o,s){return o[8]instanceof Pi?0:o[8]instanceof Ri?1:o[8]instanceof Bi?2:-1}return~(e=u(n))&&(t=f[e]=r[e](n)),{c(){t&&t.c(),l=S()},l(o){t&&t.l(o),l=O(o)},m(o,s){~e&&f[e].m(o,s),g(o,l,s),i=!0},p(o,s){let c=e;e=u(o),e===c?~e&&f[e].p(o,s):(t&&(Ce(),se(f[c],1,1,()=>{f[c]=null}),je()),~e?(t=f[e],t?t.p(o,s):(t=f[e]=r[e](o),t.c()),X(t,1),t.m(l.parentNode,l)):t=null)},i(o){i||(X(t),i=!0)},o(o){se(t),i=!1},d(o){~e&&f[e].d(o),o&&_(l)}}}function du(n){let e,t,l=Ze(n[0]),i=[];for(let f=0;f<l.length;f+=1)i[f]=ui(li(n,l,f));const r=f=>se(i[f],1,1,()=>{i[f]=null});return{c(){for(let f=0;f<i.length;f+=1)i[f].c();e=ue()},l(f){for(let u=0;u<i.length;u+=1)i[u].l(f);e=ue()},m(f,u){for(let o=0;o<i.length;o+=1)i[o].m(f,u);g(f,e,u),t=!0},p(f,[u]){if(u&1){l=Ze(f[0]);let o;for(o=0;o<l.length;o+=1){const s=li(f,l,o);i[o]?(i[o].p(s,u),X(i[o],1)):(i[o]=ui(s),i[o].c(),X(i[o],1),i[o].m(e.parentNode,e))}for(Ce(),o=l.length;o<i.length;o+=1)r(o);je()}},i(f){if(!t){for(let u=0;u<l.length;u+=1)X(i[u]);t=!0}},o(f){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)se(i[u]);t=!1},d(f){$e(i,f),f&&_(e)}}}function pu(n,e,t){let l,{char:i}=e,{data:r}=e,{charData:f}=e;f.GlüksPunkte;let u=f.log;mt(n,u,c=>t(0,l=c));const o=c=>{var m;c.preventDefault(),(m=document.getElementById("log-end-1"))==null||m.scrollIntoView({behavior:"smooth",block:"nearest"})},s=(c,m)=>{var a;m.preventDefault(),(a=document.getElementById(`log-end-${c}`))==null||a.scrollIntoView({behavior:"smooth",block:"nearest"})};return n.$$set=c=>{"char"in c&&t(2,i=c.char),"data"in c&&t(3,r=c.data),"charData"in c&&t(4,f=c.charData)},[l,u,i,r,f,o,s]}class hi extends qe{constructor(e){super(),Fe(this,e,pu,du,Ge,{char:2,data:3,charData:4})}}function bu(n){let e;return{c(){e=E("Unconnected")},l(t){e=$(t,"Unconnected")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function vu(n){let e;return{c(){e=E("Connected")},l(t){e=$(t,"Connected")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function gu(n){let e,t;return{c(){e=y("p"),t=E("Loding…"),this.h()},l(l){e=T(l,"P",{class:!0});var i=w(e);t=$(i,"Loding…"),i.forEach(_),this.h()},h(){z(e,"class","svelte-ndwx37")},m(l,i){g(l,e,i),v(e,t)},p:me,i:me,o:me,d(l){l&&_(e)}}}function ku(n){let e,t;return e=new Di({props:{$$slots:{default:[Nu]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i&262157&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Eu(n){let e;return{c(){e=E("Übersicht")},l(t){e=$(t,"Übersicht")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function $u(n){let e;return{c(){e=E("Talente")},l(t){e=$(t,"Talente")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function Vu(n){let e;return{c(){e=E("Kampf")},l(t){e=$(t,"Kampf")},m(t,l){g(t,e,l)},d(t){t&&_(e)}}}function yu(n){let e,t,l,i,r,f;return e=new _t({props:{$$slots:{default:[Eu]},$$scope:{ctx:n}}}),l=new _t({props:{$$slots:{default:[$u]},$$scope:{ctx:n}}}),r=new _t({props:{$$slots:{default:[Vu]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment),t=S(),Me(l.$$.fragment),i=S(),Me(r.$$.fragment)},l(u){Ne(e.$$.fragment,u),t=O(u),Ne(l.$$.fragment,u),i=O(u),Ne(r.$$.fragment,u)},m(u,o){Ie(e,u,o),g(u,t,o),Ie(l,u,o),g(u,i,o),Ie(r,u,o),f=!0},p(u,o){const s={};o&262144&&(s.$$scope={dirty:o,ctx:u}),e.$set(s);const c={};o&262144&&(c.$$scope={dirty:o,ctx:u}),l.$set(c);const m={};o&262144&&(m.$$scope={dirty:o,ctx:u}),r.$set(m)},i(u){f||(X(e.$$.fragment,u),X(l.$$.fragment,u),X(r.$$.fragment,u),f=!0)},o(u){se(e.$$.fragment,u),se(l.$$.fragment,u),se(r.$$.fragment,u),f=!1},d(u){De(e,u),u&&_(t),De(l,u),u&&_(i),De(r,u)}}}function Tu(n){let e,t;return e=new Ir({props:{charData:n[2],char:n[0],data:n[3]}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i&4&&(r.charData=l[2]),i&1&&(r.char=l[0]),i&8&&(r.data=l[3]),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function wu(n){let e,t;return e=new Br({props:{charData:n[2],char:n[0],data:n[3]}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i&4&&(r.charData=l[2]),i&1&&(r.char=l[0]),i&8&&(r.data=l[3]),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Mu(n){let e,t;return e=new mr({props:{charData:n[2],char:n[0],data:n[3]}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i&4&&(r.charData=l[2]),i&1&&(r.char=l[0]),i&8&&(r.data=l[3]),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Nu(n){let e,t,l,i,r,f,u,o;return e=new Ai({props:{$$slots:{default:[yu]},$$scope:{ctx:n}}}),l=new at({props:{$$slots:{default:[Tu]},$$scope:{ctx:n}}}),r=new at({props:{$$slots:{default:[wu]},$$scope:{ctx:n}}}),u=new at({props:{$$slots:{default:[Mu]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment),t=S(),Me(l.$$.fragment),i=S(),Me(r.$$.fragment),f=S(),Me(u.$$.fragment)},l(s){Ne(e.$$.fragment,s),t=O(s),Ne(l.$$.fragment,s),i=O(s),Ne(r.$$.fragment,s),f=O(s),Ne(u.$$.fragment,s)},m(s,c){Ie(e,s,c),g(s,t,c),Ie(l,s,c),g(s,i,c),Ie(r,s,c),g(s,f,c),Ie(u,s,c),o=!0},p(s,c){const m={};c&262144&&(m.$$scope={dirty:c,ctx:s}),e.$set(m);const a={};c&262157&&(a.$$scope={dirty:c,ctx:s}),l.$set(a);const d={};c&262157&&(d.$$scope={dirty:c,ctx:s}),r.$set(d);const h={};c&262157&&(h.$$scope={dirty:c,ctx:s}),u.$set(h)},i(s){o||(X(e.$$.fragment,s),X(l.$$.fragment,s),X(r.$$.fragment,s),X(u.$$.fragment,s),o=!0)},o(s){se(e.$$.fragment,s),se(l.$$.fragment,s),se(r.$$.fragment,s),se(u.$$.fragment,s),o=!1},d(s){De(e,s),s&&_(t),De(l,s),s&&_(i),De(r,s),s&&_(f),De(u,s)}}}function oi(n){let e,t,l,i;const r=[Du,Iu],f=[];function u(o,s){return o[4]?0:1}return e=u(n),t=f[e]=r[e](n),{c(){t.c(),l=ue()},l(o){t.l(o),l=ue()},m(o,s){f[e].m(o,s),g(o,l,s),i=!0},p(o,s){let c=e;e=u(o),e===c?f[e].p(o,s):(Ce(),se(f[c],1,1,()=>{f[c]=null}),je(),t=f[e],t?t.p(o,s):(t=f[e]=r[e](o),t.c()),X(t,1),t.m(l.parentNode,l))},i(o){i||(X(t),i=!0)},o(o){se(t),i=!1},d(o){f[e].d(o),o&&_(l)}}}function Iu(n){let e,t;return e=new hi({props:{char:n[0],charData:n[2],data:n[3]}}),{c(){Me(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Ie(e,l,i),t=!0},p(l,i){const r={};i&1&&(r.char=l[0]),i&4&&(r.charData=l[2]),i&8&&(r.data=l[3]),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Du(n){let e,t,l;return t=new hi({props:{char:n[0],charData:n[2],data:n[3]}}),{c(){e=y("div"),Me(t.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var r=w(e);Ne(t.$$.fragment,r),r.forEach(_),this.h()},h(){z(e,"class","log-container svelte-ndwx37")},m(i,r){g(i,e,r),Ie(t,e,null),l=!0},p(i,r){const f={};r&1&&(f.char=i[0]),r&4&&(f.charData=i[2]),r&8&&(f.data=i[3]),t.$set(f)},i(i){l||(X(t.$$.fragment,i),l=!0)},o(i){se(t.$$.fragment,i),l=!1},d(i){i&&_(e),De(t)}}}function Au(n){let e,t,l,i,r,f,u,o,s,c,m,a,d,h,k,b,p,V;function M(K,fe){return K[1]!==void 0?vu:bu}let j=M(n),D=j(n);const W=[ku,gu],A=[];function q(K,fe){return K[3]&&K[0]&&K[2]?0:1}d=q(n),h=A[d]=W[d](n);let U=n[3]&&n[0]&&n[2]&&oi(n);return{c(){e=y("div"),t=y("nav"),l=y("a"),i=E("Zum Editor"),r=S(),f=y("span"),D.c(),u=S(),o=y("label"),s=E(`Log Expanded
			`),c=y("input"),m=S(),a=y("main"),h.c(),k=S(),U&&U.c(),this.h()},l(K){e=T(K,"DIV",{class:!0});var fe=w(e);t=T(fe,"NAV",{class:!0});var ie=w(t);l=T(ie,"A",{href:!0,role:!0,rel:!0,class:!0});var ke=w(l);i=$(ke,"Zum Editor"),ke.forEach(_),r=O(ie),f=T(ie,"SPAN",{class:!0});var ae=w(f);D.l(ae),ae.forEach(_),u=O(ie),o=T(ie,"LABEL",{class:!0});var P=w(o);s=$(P,`Log Expanded
			`),c=T(P,"INPUT",{type:!0,class:!0}),P.forEach(_),ie.forEach(_),m=O(fe),a=T(fe,"MAIN",{class:!0});var J=w(a);h.l(J),J.forEach(_),k=O(fe),U&&U.l(fe),fe.forEach(_),this.h()},h(){z(l,"href",n[5]),z(l,"role","button"),z(l,"rel","external"),z(l,"class","svelte-ndwx37"),z(f,"class","svelte-ndwx37"),z(c,"type","checkbox"),z(c,"class","svelte-ndwx37"),z(o,"class","svelte-ndwx37"),z(t,"class","svelte-ndwx37"),z(a,"class","container svelte-ndwx37"),z(e,"class","root svelte-ndwx37"),He(e,"expand-log",n[4])},m(K,fe){g(K,e,fe),v(e,t),v(t,l),v(l,i),v(t,r),v(t,f),D.m(f,null),v(t,u),v(t,o),v(o,s),v(o,c),c.checked=n[4],v(e,m),v(e,a),A[d].m(a,null),v(e,k),U&&U.m(e,null),b=!0,p||(V=ye(c,"change",n[13]),p=!0)},p(K,[fe]){(!b||fe&32)&&z(l,"href",K[5]),j!==(j=M(K))&&(D.d(1),D=j(K),D&&(D.c(),D.m(f,null))),fe&16&&(c.checked=K[4]);let ie=d;d=q(K),d===ie?A[d].p(K,fe):(Ce(),se(A[ie],1,1,()=>{A[ie]=null}),je(),h=A[d],h?h.p(K,fe):(h=A[d]=W[d](K),h.c()),X(h,1),h.m(a,null)),K[3]&&K[0]&&K[2]?U?(U.p(K,fe),fe&13&&X(U,1)):(U=oi(K),U.c(),X(U,1),U.m(e,null)):U&&(Ce(),se(U,1,1,()=>{U=null}),je()),(!b||fe&16)&&He(e,"expand-log",K[4])},i(K){b||(X(h),X(U),b=!0)},o(K){se(h),se(U),b=!1},d(K){K&&_(e),D.d(),A[d].d(),U&&U.d(),p=!1,V()}}}function Su(n,e,t){let l,i,r,f,u=me,o=()=>(u(),u=We(l,M=>t(12,f=M)),l);n.$$.on_destroy.push(()=>u());let s,c,m,a=!1,d,h;Ei(()=>{d&&d.Close()}),$i(async()=>{vt.subscribe(async M=>{M&&(t(3,s=await Ni.init(!1,M==null?void 0:M.stammdatenId)),s&&M&&t(0,c=new Ii(s,M))),k.set(!window.location.pathname.includes("character-generator")),b.set((c==null?void 0:c.id)??"")}),vt.updateId("c"+window.location.hash.slice(1)),t(9,m=new URLSearchParams(window.location.search))}),Vi(()=>{});let k=rt(!0);mt(n,k,M=>t(11,r=M));let b=rt("");mt(n,b,M=>t(10,i=M));let p;function V(){a=this.checked,t(4,a)}return n.$$.update=()=>{if(n.$$.dirty&1&&o(t(6,l=c==null?void 0:c.persistanceStore)),n.$$.dirty&1&&c!=null&&t(2,h=new Ci(c)),n.$$.dirty&4610&&m&&f){const M=m.get("server"),j=m.get("playerName"),D=m.get("playerId"),W=m.get("groupId");j&&D&&W&&M&&(d?d.Close().then(()=>{t(1,d=new gt(M,D,W))}):t(1,d=new gt(M,D,W)))}if(n.$$.dirty&518&&m&&h&&d){const M=m.get("server"),j=m.get("playerName"),D=m.get("playerId"),W=m.get("groupId");j&&D&&W&&M&&d.InitPlayerData(j,h)}n.$$.dirty&3072&&t(5,p=(r?"/":"/character-generator/")+"#i"+i)},[c,d,h,s,a,p,l,k,b,m,i,r,f,V]}class Fu extends qe{constructor(e){super(),Fe(this,e,Su,Au,Ge,{})}}export{Fu as default};
